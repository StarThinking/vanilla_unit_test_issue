2020-12-03 07:20:46,107 [main] INFO  hdfs.MiniDFSCluster (MiniDFSCluster.java:<init>(493)) - starting cluster: numNameNodes=1, numDataNodes=3
Formatting using clusterid: testClusterID
2020-12-03 07:20:47,057 [main] INFO  namenode.FSEditLog (FSEditLog.java:newInstance(229)) - Edit logging is async:true
2020-12-03 07:20:47,075 [main] INFO  namenode.FSNamesystem (FSNamesystem.java:<init>(755)) - KeyProvider: null
2020-12-03 07:20:47,077 [main] INFO  namenode.FSNamesystem (FSNamesystemLock.java:<init>(123)) - fsLock is fair: true
2020-12-03 07:20:47,078 [main] INFO  namenode.FSNamesystem (FSNamesystemLock.java:<init>(141)) - Detailed lock hold time metrics enabled: false
2020-12-03 07:20:47,086 [main] INFO  namenode.FSNamesystem (FSNamesystem.java:<init>(780)) - fsOwner             = root (auth:SIMPLE)
2020-12-03 07:20:47,086 [main] INFO  namenode.FSNamesystem (FSNamesystem.java:<init>(781)) - supergroup          = supergroup
2020-12-03 07:20:47,087 [main] INFO  namenode.FSNamesystem (FSNamesystem.java:<init>(782)) - isPermissionEnabled = true
2020-12-03 07:20:47,088 [main] INFO  namenode.FSNamesystem (FSNamesystem.java:<init>(793)) - HA Enabled: false
2020-12-03 07:20:47,157 [main] INFO  common.Util (Util.java:isDiskStatsEnabled(395)) - dfs.datanode.fileio.profiling.sampling.percentage set to 0. Disabling file IO profiling
2020-12-03 07:20:47,166 [main] INFO  Configuration.deprecation (Configuration.java:logDeprecation(1395)) - hadoop.configured.node.mapping is deprecated. Instead, use net.topology.configured.node.mapping
2020-12-03 07:20:47,167 [main] INFO  Configuration.deprecation (Configuration.java:logDeprecation(1395)) - No unit for dfs.heartbeat.interval(1) assuming SECONDS
2020-12-03 07:20:47,167 [main] INFO  blockmanagement.DatanodeManager (DatanodeManager.java:<init>(303)) - dfs.block.invalidate.limit: configured=1000, counted=20, effected=1000
2020-12-03 07:20:47,168 [main] INFO  blockmanagement.DatanodeManager (DatanodeManager.java:<init>(311)) - dfs.namenode.datanode.registration.ip-hostname-check=true
2020-12-03 07:20:47,168 [main] INFO  Configuration.deprecation (Configuration.java:logDeprecation(1395)) - No unit for dfs.heartbeat.interval(1) assuming SECONDS
2020-12-03 07:20:47,189 [main] INFO  blockmanagement.BlockManager (InvalidateBlocks.java:printBlockDeletionTime(79)) - dfs.namenode.startup.delay.block.deletion.sec is set to 000:00:00:00.000
2020-12-03 07:20:47,197 [main] INFO  blockmanagement.BlockManager (InvalidateBlocks.java:printBlockDeletionTime(85)) - The block deletion will start around 2020 Dec 03 07:20:47
2020-12-03 07:20:47,201 [main] INFO  util.GSet (LightWeightGSet.java:computeCapacity(395)) - Computing capacity for map BlocksMap
2020-12-03 07:20:47,202 [main] INFO  util.GSet (LightWeightGSet.java:computeCapacity(396)) - VM type       = 64-bit
2020-12-03 07:20:47,205 [main] INFO  util.GSet (LightWeightGSet.java:computeCapacity(397)) - 2.0% max memory 1.9 GB = 39.3 MB
2020-12-03 07:20:47,205 [main] INFO  util.GSet (LightWeightGSet.java:computeCapacity(402)) - capacity      = 2^22 = 4194304 entries
2020-12-03 07:20:47,224 [main] INFO  Configuration.deprecation (Configuration.java:logDeprecation(1395)) - No unit for dfs.heartbeat.interval(1) assuming SECONDS
2020-12-03 07:20:47,225 [main] INFO  Configuration.deprecation (Configuration.java:logDeprecation(1395)) - No unit for dfs.heartbeat.interval(1) assuming SECONDS
2020-12-03 07:20:47,230 [main] INFO  blockmanagement.BlockManager (BlockManager.java:createSPSManager(5183)) - Storage policy satisfier is disabled
2020-12-03 07:20:47,230 [main] INFO  blockmanagement.BlockManager (BlockManager.java:createBlockTokenSecretManager(595)) - dfs.block.access.token.enable = false
2020-12-03 07:20:47,233 [main] INFO  Configuration.deprecation (Configuration.java:logDeprecation(1395)) - No unit for dfs.heartbeat.interval(1) assuming SECONDS
2020-12-03 07:20:47,240 [main] INFO  Configuration.deprecation (Configuration.java:logDeprecation(1395)) - No unit for dfs.namenode.safemode.extension(0) assuming MILLISECONDS
2020-12-03 07:20:47,241 [main] INFO  blockmanagement.BlockManagerSafeMode (BlockManagerSafeMode.java:<init>(161)) - dfs.namenode.safemode.threshold-pct = 0.9990000128746033
2020-12-03 07:20:47,241 [main] INFO  blockmanagement.BlockManagerSafeMode (BlockManagerSafeMode.java:<init>(162)) - dfs.namenode.safemode.min.datanodes = 0
2020-12-03 07:20:47,242 [main] INFO  blockmanagement.BlockManagerSafeMode (BlockManagerSafeMode.java:<init>(164)) - dfs.namenode.safemode.extension = 0
2020-12-03 07:20:47,244 [main] INFO  blockmanagement.BlockManager (BlockManager.java:<init>(581)) - defaultReplication         = 3
2020-12-03 07:20:47,244 [main] INFO  blockmanagement.BlockManager (BlockManager.java:<init>(582)) - maxReplication             = 512
2020-12-03 07:20:47,245 [main] INFO  blockmanagement.BlockManager (BlockManager.java:<init>(583)) - minReplication             = 1
2020-12-03 07:20:47,245 [main] INFO  blockmanagement.BlockManager (BlockManager.java:<init>(584)) - maxReplicationStreams      = 2
2020-12-03 07:20:47,245 [main] INFO  blockmanagement.BlockManager (BlockManager.java:<init>(585)) - redundancyRecheckInterval  = 3000ms
2020-12-03 07:20:47,246 [main] INFO  blockmanagement.BlockManager (BlockManager.java:<init>(586)) - encryptDataTransfer        = false
2020-12-03 07:20:47,246 [main] INFO  blockmanagement.BlockManager (BlockManager.java:<init>(587)) - maxNumBlocksToLog          = 1000
2020-12-03 07:20:47,298 [main] INFO  namenode.FSDirectory (SerialNumberManager.java:<clinit>(51)) - GLOBAL serial map: bits=29 maxEntries=536870911
2020-12-03 07:20:47,298 [main] INFO  namenode.FSDirectory (SerialNumberManager.java:<clinit>(51)) - USER serial map: bits=24 maxEntries=16777215
2020-12-03 07:20:47,299 [main] INFO  namenode.FSDirectory (SerialNumberManager.java:<clinit>(51)) - GROUP serial map: bits=24 maxEntries=16777215
2020-12-03 07:20:47,299 [main] INFO  namenode.FSDirectory (SerialNumberManager.java:<clinit>(51)) - XATTR serial map: bits=24 maxEntries=16777215
2020-12-03 07:20:47,324 [main] INFO  util.GSet (LightWeightGSet.java:computeCapacity(395)) - Computing capacity for map INodeMap
2020-12-03 07:20:47,324 [main] INFO  util.GSet (LightWeightGSet.java:computeCapacity(396)) - VM type       = 64-bit
2020-12-03 07:20:47,325 [main] INFO  util.GSet (LightWeightGSet.java:computeCapacity(397)) - 1.0% max memory 1.9 GB = 19.6 MB
2020-12-03 07:20:47,325 [main] INFO  util.GSet (LightWeightGSet.java:computeCapacity(402)) - capacity      = 2^21 = 2097152 entries
2020-12-03 07:20:47,333 [main] INFO  namenode.FSDirectory (FSDirectory.java:<init>(290)) - ACLs enabled? false
2020-12-03 07:20:47,333 [main] INFO  namenode.FSDirectory (FSDirectory.java:<init>(294)) - POSIX ACL inheritance enabled? true
2020-12-03 07:20:47,334 [main] INFO  namenode.FSDirectory (FSDirectory.java:<init>(298)) - XAttrs enabled? true
2020-12-03 07:20:47,334 [main] INFO  namenode.NameNode (FSDirectory.java:<init>(362)) - Caching file names occurring more than 10 times
2020-12-03 07:20:47,340 [main] INFO  snapshot.SnapshotManager (SnapshotManager.java:<init>(124)) - Loaded config captureOpenFiles: false, skipCaptureAccessTimeOnlyChange: false, snapshotDiffAllowSnapRootDescendant: true, maxSnapshotLimit: 65536
2020-12-03 07:20:47,343 [main] INFO  snapshot.SnapshotManager (DirectoryDiffListFactory.java:init(43)) - SkipList is disabled
2020-12-03 07:20:47,349 [main] INFO  util.GSet (LightWeightGSet.java:computeCapacity(395)) - Computing capacity for map cachedBlocks
2020-12-03 07:20:47,349 [main] INFO  util.GSet (LightWeightGSet.java:computeCapacity(396)) - VM type       = 64-bit
2020-12-03 07:20:47,350 [main] INFO  util.GSet (LightWeightGSet.java:computeCapacity(397)) - 0.25% max memory 1.9 GB = 4.9 MB
2020-12-03 07:20:47,350 [main] INFO  util.GSet (LightWeightGSet.java:computeCapacity(402)) - capacity      = 2^19 = 524288 entries
2020-12-03 07:20:47,364 [main] INFO  metrics.TopMetrics (TopMetrics.java:logConf(76)) - NNTop conf: dfs.namenode.top.window.num.buckets = 10
2020-12-03 07:20:47,365 [main] INFO  metrics.TopMetrics (TopMetrics.java:logConf(78)) - NNTop conf: dfs.namenode.top.num.users = 10
2020-12-03 07:20:47,365 [main] INFO  metrics.TopMetrics (TopMetrics.java:logConf(80)) - NNTop conf: dfs.namenode.top.windows.minutes = 1,5,25
2020-12-03 07:20:47,371 [main] INFO  namenode.FSNamesystem (FSNamesystem.java:initRetryCache(996)) - Retry cache on namenode is enabled
2020-12-03 07:20:47,372 [main] INFO  namenode.FSNamesystem (FSNamesystem.java:initRetryCache(1004)) - Retry cache will use 0.03 of total heap and retry cache entry expiry time is 600000 millis
2020-12-03 07:20:47,377 [main] INFO  util.GSet (LightWeightGSet.java:computeCapacity(395)) - Computing capacity for map NameNodeRetryCache
2020-12-03 07:20:47,377 [main] INFO  util.GSet (LightWeightGSet.java:computeCapacity(396)) - VM type       = 64-bit
2020-12-03 07:20:47,378 [main] INFO  util.GSet (LightWeightGSet.java:computeCapacity(397)) - 0.029999999329447746% max memory 1.9 GB = 603.0 KB
2020-12-03 07:20:47,378 [main] INFO  util.GSet (LightWeightGSet.java:computeCapacity(402)) - capacity      = 2^16 = 65536 entries
2020-12-03 07:20:47,427 [main] INFO  namenode.FSImage (FSImage.java:format(185)) - Allocated new BlockPoolId: BP-289139721-172.17.0.11-1606980047411
2020-12-03 07:20:47,622 [main] INFO  common.Storage (NNStorage.java:format(595)) - Storage directory /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/name-0-1 has been successfully formatted.
2020-12-03 07:20:47,791 [main] INFO  common.Storage (NNStorage.java:format(595)) - Storage directory /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/name-0-2 has been successfully formatted.
2020-12-03 07:20:47,833 [FSImageSaver for /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/name-0-2 of type IMAGE_AND_EDITS] INFO  namenode.FSImageFormatProtobuf (FSImageFormatProtobuf.java:save(512)) - Saving image file /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/name-0-2/current/fsimage.ckpt_0000000000000000000 using no compression
2020-12-03 07:20:47,833 [FSImageSaver for /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/name-0-1 of type IMAGE_AND_EDITS] INFO  namenode.FSImageFormatProtobuf (FSImageFormatProtobuf.java:save(512)) - Saving image file /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/name-0-1/current/fsimage.ckpt_0000000000000000000 using no compression
2020-12-03 07:20:47,984 [FSImageSaver for /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/name-0-2 of type IMAGE_AND_EDITS] INFO  namenode.FSImageFormatProtobuf (FSImageFormatProtobuf.java:save(516)) - Image file /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/name-0-2/current/fsimage.ckpt_0000000000000000000 of size 399 bytes saved in 0 seconds .
2020-12-03 07:20:47,984 [FSImageSaver for /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/name-0-1 of type IMAGE_AND_EDITS] INFO  namenode.FSImageFormatProtobuf (FSImageFormatProtobuf.java:save(516)) - Image file /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/name-0-1/current/fsimage.ckpt_0000000000000000000 of size 399 bytes saved in 0 seconds .
2020-12-03 07:20:48,041 [main] INFO  namenode.NNStorageRetentionManager (NNStorageRetentionManager.java:getImageTxIdToRetain(203)) - Going to retain 1 images with txid >= 0
2020-12-03 07:20:48,047 [main] INFO  namenode.NameNode (NameNode.java:createNameNode(1632)) - createNameNode []
2020-12-03 07:20:48,187 [main] INFO  impl.MetricsConfig (MetricsConfig.java:loadFirst(118)) - Loaded properties from hadoop-metrics2.properties
2020-12-03 07:20:48,594 [main] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:startTimer(374)) - Scheduled Metric snapshot period at 0 second(s).
2020-12-03 07:20:48,594 [main] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:start(191)) - NameNode metrics system started
2020-12-03 07:20:48,636 [main] INFO  namenode.NameNodeUtils (NameNodeUtils.java:getClientNamenodeAddress(79)) - fs.defaultFS is hdfs://127.0.0.1:0
2020-12-03 07:20:48,689 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@5d0a1059] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2020-12-03 07:20:48,708 [main] INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for hdfs at: http://localhost:0
2020-12-03 07:20:48,716 [main] INFO  http.HttpServer2 (HttpServer2.java:getWebAppsPath(1072)) - Web server is in development mode. Resources will be read from the source tree.
2020-12-03 07:20:48,739 [main] INFO  util.log (Log.java:initialized(192)) - Logging initialized @3955ms
2020-12-03 07:20:48,909 [main] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2020-12-03 07:20:48,913 [main] INFO  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(81)) - Http request log for http.requests.namenode is not defined
2020-12-03 07:20:48,914 [main] INFO  http.HttpServer2 (HttpServer2.java:getWebAppsPath(1072)) - Web server is in development mode. Resources will be read from the source tree.
2020-12-03 07:20:48,925 [main] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(990)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2020-12-03 07:20:48,928 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(963)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hdfs
2020-12-03 07:20:48,928 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(973)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2020-12-03 07:20:48,929 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(973)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2020-12-03 07:20:48,961 [main] INFO  http.HttpServer2 (NameNodeHttpServer.java:initWebHdfs(102)) - Added filter 'org.apache.hadoop.hdfs.web.AuthFilter' (class=org.apache.hadoop.hdfs.web.AuthFilter)
2020-12-03 07:20:48,961 [main] INFO  http.HttpServer2 (HttpServer2.java:addJerseyResourcePackage(806)) - addJerseyResourcePackage: packageName=org.apache.hadoop.hdfs.server.namenode.web.resources;org.apache.hadoop.hdfs.web.resources, pathSpec=/webhdfs/v1/*
2020-12-03 07:20:48,972 [main] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1206)) - Jetty bound to port 33654
2020-12-03 07:20:48,974 [main] INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.24.v20180605, build timestamp: 2018-06-05T17:11:56Z, git hash: 84205aa28f11a4f31f2a3b86d1bba2cc8ab69827
2020-12-03 07:20:49,038 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@475c9c31{/logs,file:///root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/log/,AVAILABLE}
2020-12-03 07:20:49,040 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@5c7bfdc1{/static,file:///root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/src/main/webapps/static/,AVAILABLE}
2020-12-03 07:20:49,112 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@895e367{/,file:///root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/src/main/webapps/hdfs/,AVAILABLE}{/hdfs}
2020-12-03 07:20:49,125 [main] INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@50313382{HTTP/1.1,[http/1.1]}{localhost:33654}
2020-12-03 07:20:49,126 [main] INFO  server.Server (Server.java:doStart(419)) - Started @4342ms
2020-12-03 07:20:49,146 [main] INFO  namenode.FSEditLog (FSEditLog.java:newInstance(229)) - Edit logging is async:true
2020-12-03 07:20:49,147 [main] INFO  namenode.FSNamesystem (FSNamesystem.java:<init>(755)) - KeyProvider: null
2020-12-03 07:20:49,147 [main] INFO  namenode.FSNamesystem (FSNamesystemLock.java:<init>(123)) - fsLock is fair: true
2020-12-03 07:20:49,148 [main] INFO  namenode.FSNamesystem (FSNamesystemLock.java:<init>(141)) - Detailed lock hold time metrics enabled: false
2020-12-03 07:20:49,148 [main] INFO  namenode.FSNamesystem (FSNamesystem.java:<init>(780)) - fsOwner             = root (auth:SIMPLE)
2020-12-03 07:20:49,148 [main] INFO  namenode.FSNamesystem (FSNamesystem.java:<init>(781)) - supergroup          = supergroup
2020-12-03 07:20:49,148 [main] INFO  namenode.FSNamesystem (FSNamesystem.java:<init>(782)) - isPermissionEnabled = true
2020-12-03 07:20:49,149 [main] INFO  namenode.FSNamesystem (FSNamesystem.java:<init>(793)) - HA Enabled: false
2020-12-03 07:20:49,149 [main] INFO  common.Util (Util.java:isDiskStatsEnabled(395)) - dfs.datanode.fileio.profiling.sampling.percentage set to 0. Disabling file IO profiling
2020-12-03 07:20:49,150 [main] INFO  Configuration.deprecation (Configuration.java:logDeprecation(1395)) - No unit for dfs.heartbeat.interval(1) assuming SECONDS
2020-12-03 07:20:49,151 [main] INFO  blockmanagement.DatanodeManager (DatanodeManager.java:<init>(303)) - dfs.block.invalidate.limit: configured=1000, counted=20, effected=1000
2020-12-03 07:20:49,151 [main] INFO  blockmanagement.DatanodeManager (DatanodeManager.java:<init>(311)) - dfs.namenode.datanode.registration.ip-hostname-check=true
2020-12-03 07:20:49,151 [main] INFO  Configuration.deprecation (Configuration.java:logDeprecation(1395)) - No unit for dfs.heartbeat.interval(1) assuming SECONDS
2020-12-03 07:20:49,152 [main] INFO  blockmanagement.BlockManager (InvalidateBlocks.java:printBlockDeletionTime(79)) - dfs.namenode.startup.delay.block.deletion.sec is set to 000:00:00:00.000
2020-12-03 07:20:49,152 [main] INFO  blockmanagement.BlockManager (InvalidateBlocks.java:printBlockDeletionTime(85)) - The block deletion will start around 2020 Dec 03 07:20:49
2020-12-03 07:20:49,152 [main] INFO  util.GSet (LightWeightGSet.java:computeCapacity(395)) - Computing capacity for map BlocksMap
2020-12-03 07:20:49,153 [main] INFO  util.GSet (LightWeightGSet.java:computeCapacity(396)) - VM type       = 64-bit
2020-12-03 07:20:49,153 [main] INFO  util.GSet (LightWeightGSet.java:computeCapacity(397)) - 2.0% max memory 1.8 GB = 36.4 MB
2020-12-03 07:20:49,153 [main] INFO  util.GSet (LightWeightGSet.java:computeCapacity(402)) - capacity      = 2^22 = 4194304 entries
2020-12-03 07:20:49,158 [main] INFO  Configuration.deprecation (Configuration.java:logDeprecation(1395)) - No unit for dfs.heartbeat.interval(1) assuming SECONDS
2020-12-03 07:20:49,158 [main] INFO  Configuration.deprecation (Configuration.java:logDeprecation(1395)) - No unit for dfs.heartbeat.interval(1) assuming SECONDS
2020-12-03 07:20:49,159 [main] INFO  blockmanagement.BlockManager (BlockManager.java:createSPSManager(5183)) - Storage policy satisfier is disabled
2020-12-03 07:20:49,159 [main] INFO  blockmanagement.BlockManager (BlockManager.java:createBlockTokenSecretManager(595)) - dfs.block.access.token.enable = false
2020-12-03 07:20:49,160 [main] INFO  Configuration.deprecation (Configuration.java:logDeprecation(1395)) - No unit for dfs.heartbeat.interval(1) assuming SECONDS
2020-12-03 07:20:49,160 [main] INFO  Configuration.deprecation (Configuration.java:logDeprecation(1395)) - No unit for dfs.namenode.safemode.extension(0) assuming MILLISECONDS
2020-12-03 07:20:49,160 [main] INFO  blockmanagement.BlockManagerSafeMode (BlockManagerSafeMode.java:<init>(161)) - dfs.namenode.safemode.threshold-pct = 0.9990000128746033
2020-12-03 07:20:49,161 [main] INFO  blockmanagement.BlockManagerSafeMode (BlockManagerSafeMode.java:<init>(162)) - dfs.namenode.safemode.min.datanodes = 0
2020-12-03 07:20:49,161 [main] INFO  blockmanagement.BlockManagerSafeMode (BlockManagerSafeMode.java:<init>(164)) - dfs.namenode.safemode.extension = 0
2020-12-03 07:20:49,162 [main] INFO  blockmanagement.BlockManager (BlockManager.java:<init>(581)) - defaultReplication         = 3
2020-12-03 07:20:49,162 [main] INFO  blockmanagement.BlockManager (BlockManager.java:<init>(582)) - maxReplication             = 512
2020-12-03 07:20:49,162 [main] INFO  blockmanagement.BlockManager (BlockManager.java:<init>(583)) - minReplication             = 1
2020-12-03 07:20:49,163 [main] INFO  blockmanagement.BlockManager (BlockManager.java:<init>(584)) - maxReplicationStreams      = 2
2020-12-03 07:20:49,163 [main] INFO  blockmanagement.BlockManager (BlockManager.java:<init>(585)) - redundancyRecheckInterval  = 3000ms
2020-12-03 07:20:49,163 [main] INFO  blockmanagement.BlockManager (BlockManager.java:<init>(586)) - encryptDataTransfer        = false
2020-12-03 07:20:49,163 [main] INFO  blockmanagement.BlockManager (BlockManager.java:<init>(587)) - maxNumBlocksToLog          = 1000
2020-12-03 07:20:49,164 [main] INFO  util.GSet (LightWeightGSet.java:computeCapacity(395)) - Computing capacity for map INodeMap
2020-12-03 07:20:49,165 [main] INFO  util.GSet (LightWeightGSet.java:computeCapacity(396)) - VM type       = 64-bit
2020-12-03 07:20:49,165 [main] INFO  util.GSet (LightWeightGSet.java:computeCapacity(397)) - 1.0% max memory 1.8 GB = 18.2 MB
2020-12-03 07:20:49,165 [main] INFO  util.GSet (LightWeightGSet.java:computeCapacity(402)) - capacity      = 2^21 = 2097152 entries
2020-12-03 07:20:49,167 [main] INFO  namenode.FSDirectory (FSDirectory.java:<init>(290)) - ACLs enabled? false
2020-12-03 07:20:49,168 [main] INFO  namenode.FSDirectory (FSDirectory.java:<init>(294)) - POSIX ACL inheritance enabled? true
2020-12-03 07:20:49,168 [main] INFO  namenode.FSDirectory (FSDirectory.java:<init>(298)) - XAttrs enabled? true
2020-12-03 07:20:49,168 [main] INFO  namenode.NameNode (FSDirectory.java:<init>(362)) - Caching file names occurring more than 10 times
2020-12-03 07:20:49,168 [main] INFO  snapshot.SnapshotManager (SnapshotManager.java:<init>(124)) - Loaded config captureOpenFiles: false, skipCaptureAccessTimeOnlyChange: false, snapshotDiffAllowSnapRootDescendant: true, maxSnapshotLimit: 65536
2020-12-03 07:20:49,169 [main] INFO  snapshot.SnapshotManager (DirectoryDiffListFactory.java:init(43)) - SkipList is disabled
2020-12-03 07:20:49,169 [main] INFO  util.GSet (LightWeightGSet.java:computeCapacity(395)) - Computing capacity for map cachedBlocks
2020-12-03 07:20:49,169 [main] INFO  util.GSet (LightWeightGSet.java:computeCapacity(396)) - VM type       = 64-bit
2020-12-03 07:20:49,169 [main] INFO  util.GSet (LightWeightGSet.java:computeCapacity(397)) - 0.25% max memory 1.8 GB = 4.6 MB
2020-12-03 07:20:49,169 [main] INFO  util.GSet (LightWeightGSet.java:computeCapacity(402)) - capacity      = 2^19 = 524288 entries
2020-12-03 07:20:49,170 [main] INFO  metrics.TopMetrics (TopMetrics.java:logConf(76)) - NNTop conf: dfs.namenode.top.window.num.buckets = 10
2020-12-03 07:20:49,170 [main] INFO  metrics.TopMetrics (TopMetrics.java:logConf(78)) - NNTop conf: dfs.namenode.top.num.users = 10
2020-12-03 07:20:49,171 [main] INFO  metrics.TopMetrics (TopMetrics.java:logConf(80)) - NNTop conf: dfs.namenode.top.windows.minutes = 1,5,25
2020-12-03 07:20:49,171 [main] INFO  namenode.FSNamesystem (FSNamesystem.java:initRetryCache(996)) - Retry cache on namenode is enabled
2020-12-03 07:20:49,171 [main] INFO  namenode.FSNamesystem (FSNamesystem.java:initRetryCache(1004)) - Retry cache will use 0.03 of total heap and retry cache entry expiry time is 600000 millis
2020-12-03 07:20:49,171 [main] INFO  util.GSet (LightWeightGSet.java:computeCapacity(395)) - Computing capacity for map NameNodeRetryCache
2020-12-03 07:20:49,171 [main] INFO  util.GSet (LightWeightGSet.java:computeCapacity(396)) - VM type       = 64-bit
2020-12-03 07:20:49,172 [main] INFO  util.GSet (LightWeightGSet.java:computeCapacity(397)) - 0.029999999329447746% max memory 1.8 GB = 559.3 KB
2020-12-03 07:20:49,172 [main] INFO  util.GSet (LightWeightGSet.java:computeCapacity(402)) - capacity      = 2^16 = 65536 entries
2020-12-03 07:20:49,271 [main] INFO  common.Storage (Storage.java:tryLock(923)) - Lock on /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/name-0-1/in_use.lock acquired by nodename 2001@2173cf0f5f64
2020-12-03 07:20:49,314 [main] INFO  common.Storage (Storage.java:tryLock(923)) - Lock on /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/name-0-2/in_use.lock acquired by nodename 2001@2173cf0f5f64
2020-12-03 07:20:49,318 [main] INFO  namenode.FileJournalManager (FileJournalManager.java:recoverUnfinalizedSegments(428)) - Recovering unfinalized segments in /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/name-0-1/current
2020-12-03 07:20:49,319 [main] INFO  namenode.FileJournalManager (FileJournalManager.java:recoverUnfinalizedSegments(428)) - Recovering unfinalized segments in /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/name-0-2/current
2020-12-03 07:20:49,320 [main] INFO  namenode.FSImage (FSImage.java:loadFSImage(733)) - No edit log streams selected.
2020-12-03 07:20:49,320 [main] INFO  namenode.FSImage (FSImage.java:loadFSImageFile(797)) - Planning to load image: FSImageFile(file=/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/name-0-1/current/fsimage_0000000000000000000, cpktTxId=0000000000000000000)
2020-12-03 07:20:49,361 [main] INFO  namenode.FSImageFormatPBINode (FSImageFormatPBINode.java:loadINodeSection(234)) - Loading 1 INodes.
2020-12-03 07:20:49,368 [main] INFO  namenode.FSImageFormatProtobuf (FSImageFormatProtobuf.java:load(246)) - Loaded FSImage in 0 seconds.
2020-12-03 07:20:49,369 [main] INFO  namenode.FSImage (FSImage.java:loadFSImage(978)) - Loaded image for txid 0 from /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/name-0-1/current/fsimage_0000000000000000000
2020-12-03 07:20:49,369 [main] INFO  namenode.FSNamesystem (FSNamesystem.java:loadFSImage(1110)) - Need to save fs image? false (staleImage=false, haEnabled=false, isRollingUpgrade=false)
2020-12-03 07:20:49,370 [main] INFO  namenode.FSEditLog (FSEditLog.java:startLogSegment(1365)) - Starting log segment at 1
2020-12-03 07:20:49,466 [main] INFO  namenode.NameCache (NameCache.java:initialized(143)) - initialized with 0 entries 0 lookups
2020-12-03 07:20:49,467 [main] INFO  namenode.FSNamesystem (FSNamesystem.java:loadFromDisk(727)) - Finished loading FSImage in 293 msecs
2020-12-03 07:20:49,697 [main] INFO  namenode.NameNode (NameNodeRpcServer.java:<init>(448)) - RPC server is binding to localhost:0
2020-12-03 07:20:49,746 [main] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 1000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2020-12-03 07:20:49,760 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1219)) - Starting Socket Reader #1 for port 0
2020-12-03 07:20:50,094 [Listener at localhost/39242] INFO  namenode.NameNode (NameNode.java:initialize(722)) - Clients are to use localhost:39242 to access this namenode/service.
2020-12-03 07:20:50,099 [Listener at localhost/39242] INFO  namenode.FSNamesystem (FSNamesystem.java:registerMBean(5090)) - Registered FSNamesystemState, ReplicatedBlocksState and ECBlockGroupsState MBeans.
2020-12-03 07:20:50,172 [Listener at localhost/39242] INFO  namenode.LeaseManager (LeaseManager.java:getNumUnderConstructionBlocks(171)) - Number of blocks under construction: 0
2020-12-03 07:20:50,189 [Listener at localhost/39242] INFO  blockmanagement.BlockManager (BlockManager.java:initializeReplQueues(4922)) - initializing replication queues
2020-12-03 07:20:50,193 [Listener at localhost/39242] INFO  hdfs.StateChange (BlockManagerSafeMode.java:leaveSafeMode(400)) - STATE* Leaving safe mode after 0 secs
2020-12-03 07:20:50,193 [Listener at localhost/39242] INFO  hdfs.StateChange (BlockManagerSafeMode.java:leaveSafeMode(406)) - STATE* Network topology has 0 racks and 0 datanodes
2020-12-03 07:20:50,194 [Listener at localhost/39242] INFO  hdfs.StateChange (BlockManagerSafeMode.java:leaveSafeMode(408)) - STATE* UnderReplicatedBlocks has 0 blocks
2020-12-03 07:20:50,199 [Reconstruction Queue Initializer] INFO  blockmanagement.BlockManager (BlockManager.java:processMisReplicatesAsync(3585)) - Total number of blocks            = 0
2020-12-03 07:20:50,199 [Reconstruction Queue Initializer] INFO  blockmanagement.BlockManager (BlockManager.java:processMisReplicatesAsync(3586)) - Number of invalid blocks          = 0
2020-12-03 07:20:50,200 [Reconstruction Queue Initializer] INFO  blockmanagement.BlockManager (BlockManager.java:processMisReplicatesAsync(3587)) - Number of under-replicated blocks = 0
2020-12-03 07:20:50,200 [Reconstruction Queue Initializer] INFO  blockmanagement.BlockManager (BlockManager.java:processMisReplicatesAsync(3588)) - Number of  over-replicated blocks = 0
2020-12-03 07:20:50,200 [Reconstruction Queue Initializer] INFO  blockmanagement.BlockManager (BlockManager.java:processMisReplicatesAsync(3590)) - Number of blocks being written    = 0
2020-12-03 07:20:50,200 [Reconstruction Queue Initializer] INFO  hdfs.StateChange (BlockManager.java:processMisReplicatesAsync(3593)) - STATE* Replication Queue initialization scan for invalid, over- and under-replicated blocks completed in 8 msec
2020-12-03 07:20:50,247 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1460)) - IPC Server Responder: starting
2020-12-03 07:20:50,248 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1298)) - IPC Server listener on 0: starting
2020-12-03 07:20:50,257 [Listener at localhost/39242] INFO  namenode.NameNode (NameNode.java:startCommonServices(828)) - NameNode RPC up at: localhost/127.0.0.1:39242
2020-12-03 07:20:50,268 [Listener at localhost/39242] INFO  namenode.FSNamesystem (FSNamesystem.java:startActiveServices(1222)) - Starting services required for active state
2020-12-03 07:20:50,269 [Listener at localhost/39242] INFO  namenode.FSDirectory (FSDirectory.java:updateCountForQuota(777)) - Initializing quota with 4 thread(s)
2020-12-03 07:20:50,292 [Listener at localhost/39242] INFO  namenode.FSDirectory (FSDirectory.java:updateCountForQuota(786)) - Quota initialization completed in 10 milliseconds
name space=1
storage space=0
storage types=RAM_DISK=0, SSD=0, DISK=0, ARCHIVE=0, PROVIDED=0
2020-12-03 07:20:50,305 [CacheReplicationMonitor(1408151872)] INFO  blockmanagement.CacheReplicationMonitor (CacheReplicationMonitor.java:run(160)) - Starting CacheReplicationMonitor with interval 30000 milliseconds
2020-12-03 07:20:50,319 [Listener at localhost/39242] INFO  hdfs.MiniDFSCluster (MiniDFSCluster.java:startDataNodes(1659)) - Starting DataNode 0 with dfs.datanode.data.dir: [DISK]file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data1,[DISK]file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data2
2020-12-03 07:20:50,437 [Listener at localhost/39242] INFO  checker.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(137)) - Scheduling a check for [DISK]file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data1
2020-12-03 07:20:50,466 [Listener at localhost/39242] INFO  checker.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(137)) - Scheduling a check for [DISK]file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data2
2020-12-03 07:20:50,502 [Listener at localhost/39242] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - DataNode metrics system started (again)
2020-12-03 07:20:50,520 [Listener at localhost/39242] INFO  common.Util (Util.java:isDiskStatsEnabled(395)) - dfs.datanode.fileio.profiling.sampling.percentage set to 0. Disabling file IO profiling
2020-12-03 07:20:50,528 [Listener at localhost/39242] INFO  datanode.BlockScanner (BlockScanner.java:<init>(184)) - Initialized block scanner with targetBytesPerSec 1048576
2020-12-03 07:20:50,534 [Listener at localhost/39242] INFO  datanode.DataNode (DataNode.java:<init>(500)) - Configured hostname is 127.0.0.1
2020-12-03 07:20:50,537 [Listener at localhost/39242] INFO  common.Util (Util.java:isDiskStatsEnabled(395)) - dfs.datanode.fileio.profiling.sampling.percentage set to 0. Disabling file IO profiling
2020-12-03 07:20:50,537 [Listener at localhost/39242] INFO  Configuration.deprecation (Configuration.java:logDeprecation(1395)) - No unit for dfs.heartbeat.interval(1) assuming SECONDS
2020-12-03 07:20:50,538 [Listener at localhost/39242] INFO  Configuration.deprecation (Configuration.java:logDeprecation(1395)) - No unit for dfs.heartbeat.interval(1) assuming SECONDS
2020-12-03 07:20:50,544 [Listener at localhost/39242] INFO  datanode.DataNode (DataNode.java:startDataNode(1400)) - Starting DataNode with maxLockedMemory = 0
2020-12-03 07:20:50,555 [Listener at localhost/39242] INFO  datanode.DataNode (DataNode.java:initDataXceiver(1148)) - Opened streaming server at /127.0.0.1:44445
2020-12-03 07:20:50,559 [Listener at localhost/39242] INFO  datanode.DataNode (DataXceiverServer.java:<init>(78)) - Balancing bandwidth is 10485760 bytes/s
2020-12-03 07:20:50,560 [Listener at localhost/39242] INFO  datanode.DataNode (DataXceiverServer.java:<init>(79)) - Number threads for balancing is 50
2020-12-03 07:20:50,594 [Listener at localhost/39242] INFO  http.HttpServer2 (HttpServer2.java:getWebAppsPath(1072)) - Web server is in development mode. Resources will be read from the source tree.
2020-12-03 07:20:50,597 [Listener at localhost/39242] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2020-12-03 07:20:50,598 [Listener at localhost/39242] INFO  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(81)) - Http request log for http.requests.datanode is not defined
2020-12-03 07:20:50,598 [Listener at localhost/39242] INFO  http.HttpServer2 (HttpServer2.java:getWebAppsPath(1072)) - Web server is in development mode. Resources will be read from the source tree.
2020-12-03 07:20:50,601 [Listener at localhost/39242] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(990)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2020-12-03 07:20:50,602 [Listener at localhost/39242] INFO  http.HttpServer2 (HttpServer2.java:addFilter(963)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context datanode
2020-12-03 07:20:50,603 [Listener at localhost/39242] INFO  http.HttpServer2 (HttpServer2.java:addFilter(973)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2020-12-03 07:20:50,603 [Listener at localhost/39242] INFO  http.HttpServer2 (HttpServer2.java:addFilter(973)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2020-12-03 07:20:50,609 [Listener at localhost/39242] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1206)) - Jetty bound to port 35926
2020-12-03 07:20:50,609 [Listener at localhost/39242] INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.24.v20180605, build timestamp: 2018-06-05T17:11:56Z, git hash: 84205aa28f11a4f31f2a3b86d1bba2cc8ab69827
2020-12-03 07:20:50,611 [Listener at localhost/39242] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@297ea53a{/logs,file:///root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/log/,AVAILABLE}
2020-12-03 07:20:50,612 [Listener at localhost/39242] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@5bf22f18{/static,file:///root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/src/main/webapps/static/,AVAILABLE}
2020-12-03 07:20:50,644 [Listener at localhost/39242] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@ab7a938{/,file:///root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/src/main/webapps/datanode/,AVAILABLE}{/datanode}
2020-12-03 07:20:50,663 [Listener at localhost/39242] INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@3faf2e7d{HTTP/1.1,[http/1.1]}{localhost:35926}
2020-12-03 07:20:50,664 [Listener at localhost/39242] INFO  server.Server (Server.java:doStart(419)) - Started @5880ms
2020-12-03 07:20:51,227 [Listener at localhost/39242] INFO  web.DatanodeHttpServer (DatanodeHttpServer.java:start(255)) - Listening HTTP traffic on /127.0.0.1:36441
2020-12-03 07:20:51,230 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@5910de75] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2020-12-03 07:20:51,231 [Listener at localhost/39242] INFO  datanode.DataNode (DataNode.java:startDataNode(1428)) - dnUserName = root
2020-12-03 07:20:51,231 [Listener at localhost/39242] INFO  datanode.DataNode (DataNode.java:startDataNode(1429)) - supergroup = supergroup
2020-12-03 07:20:51,620 [Listener at localhost/39242] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 1000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2020-12-03 07:20:51,623 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1219)) - Starting Socket Reader #1 for port 0
2020-12-03 07:20:51,646 [Listener at localhost/32989] INFO  datanode.DataNode (DataNode.java:initIpcServer(1034)) - Opened IPC server at /127.0.0.1:32989
2020-12-03 07:20:51,676 [Listener at localhost/32989] INFO  datanode.DataNode (BlockPoolManager.java:refreshNamenodes(149)) - Refresh request received for nameservices: null
2020-12-03 07:20:51,678 [Listener at localhost/32989] INFO  datanode.DataNode (BlockPoolManager.java:doRefreshNamenodes(210)) - Starting BPOfferServices for nameservices: <default>
2020-12-03 07:20:51,704 [Thread-59] INFO  datanode.DataNode (BPServiceActor.java:run(817)) - Block pool <registering> (Datanode Uuid unassigned) service to localhost/127.0.0.1:39242 starting to offer service
2020-12-03 07:20:51,742 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1460)) - IPC Server Responder: starting
2020-12-03 07:20:51,742 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1298)) - IPC Server listener on 0: starting
2020-12-03 07:20:51,748 [Listener at localhost/32989] INFO  hdfs.MiniDFSCluster (MiniDFSCluster.java:startDataNodes(1659)) - Starting DataNode 1 with dfs.datanode.data.dir: [DISK]file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data3,[DISK]file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data4
2020-12-03 07:20:51,755 [Listener at localhost/32989] INFO  checker.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(137)) - Scheduling a check for [DISK]file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data3
2020-12-03 07:20:51,756 [Listener at localhost/32989] INFO  checker.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(137)) - Scheduling a check for [DISK]file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data4
2020-12-03 07:20:51,799 [Listener at localhost/32989] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - DataNode metrics system started (again)
2020-12-03 07:20:51,799 [Listener at localhost/32989] INFO  common.Util (Util.java:isDiskStatsEnabled(395)) - dfs.datanode.fileio.profiling.sampling.percentage set to 0. Disabling file IO profiling
2020-12-03 07:20:51,800 [Listener at localhost/32989] INFO  datanode.BlockScanner (BlockScanner.java:<init>(184)) - Initialized block scanner with targetBytesPerSec 1048576
2020-12-03 07:20:51,800 [Listener at localhost/32989] INFO  datanode.DataNode (DataNode.java:<init>(500)) - Configured hostname is 127.0.0.1
2020-12-03 07:20:51,801 [Listener at localhost/32989] INFO  common.Util (Util.java:isDiskStatsEnabled(395)) - dfs.datanode.fileio.profiling.sampling.percentage set to 0. Disabling file IO profiling
2020-12-03 07:20:51,801 [Listener at localhost/32989] INFO  Configuration.deprecation (Configuration.java:logDeprecation(1395)) - No unit for dfs.heartbeat.interval(1) assuming SECONDS
2020-12-03 07:20:51,801 [Listener at localhost/32989] INFO  Configuration.deprecation (Configuration.java:logDeprecation(1395)) - No unit for dfs.heartbeat.interval(1) assuming SECONDS
2020-12-03 07:20:51,801 [Listener at localhost/32989] INFO  datanode.DataNode (DataNode.java:startDataNode(1400)) - Starting DataNode with maxLockedMemory = 0
2020-12-03 07:20:51,803 [Listener at localhost/32989] INFO  datanode.DataNode (DataNode.java:initDataXceiver(1148)) - Opened streaming server at /127.0.0.1:43948
2020-12-03 07:20:51,803 [Listener at localhost/32989] INFO  datanode.DataNode (DataXceiverServer.java:<init>(78)) - Balancing bandwidth is 10485760 bytes/s
2020-12-03 07:20:51,803 [Listener at localhost/32989] INFO  datanode.DataNode (DataXceiverServer.java:<init>(79)) - Number threads for balancing is 50
2020-12-03 07:20:51,805 [Listener at localhost/32989] INFO  http.HttpServer2 (HttpServer2.java:getWebAppsPath(1072)) - Web server is in development mode. Resources will be read from the source tree.
2020-12-03 07:20:51,808 [Listener at localhost/32989] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2020-12-03 07:20:51,810 [Listener at localhost/32989] INFO  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(81)) - Http request log for http.requests.datanode is not defined
2020-12-03 07:20:51,810 [Listener at localhost/32989] INFO  http.HttpServer2 (HttpServer2.java:getWebAppsPath(1072)) - Web server is in development mode. Resources will be read from the source tree.
2020-12-03 07:20:51,813 [Listener at localhost/32989] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(990)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2020-12-03 07:20:51,815 [Listener at localhost/32989] INFO  http.HttpServer2 (HttpServer2.java:addFilter(963)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context datanode
2020-12-03 07:20:51,815 [Listener at localhost/32989] INFO  http.HttpServer2 (HttpServer2.java:addFilter(973)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2020-12-03 07:20:51,815 [Listener at localhost/32989] INFO  http.HttpServer2 (HttpServer2.java:addFilter(973)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2020-12-03 07:20:51,817 [Listener at localhost/32989] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1206)) - Jetty bound to port 39634
2020-12-03 07:20:51,817 [Listener at localhost/32989] INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.24.v20180605, build timestamp: 2018-06-05T17:11:56Z, git hash: 84205aa28f11a4f31f2a3b86d1bba2cc8ab69827
2020-12-03 07:20:51,820 [Listener at localhost/32989] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@40f33492{/logs,file:///root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/log/,AVAILABLE}
2020-12-03 07:20:51,821 [Listener at localhost/32989] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@2ad3a1bb{/static,file:///root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/src/main/webapps/static/,AVAILABLE}
2020-12-03 07:20:51,855 [Listener at localhost/32989] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@37d80fe7{/,file:///root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/src/main/webapps/datanode/,AVAILABLE}{/datanode}
2020-12-03 07:20:51,858 [Listener at localhost/32989] INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@384fc774{HTTP/1.1,[http/1.1]}{localhost:39634}
2020-12-03 07:20:51,859 [Listener at localhost/32989] INFO  server.Server (Server.java:doStart(419)) - Started @7075ms
2020-12-03 07:20:52,004 [Listener at localhost/32989] INFO  web.DatanodeHttpServer (DatanodeHttpServer.java:start(255)) - Listening HTTP traffic on /127.0.0.1:39162
2020-12-03 07:20:52,005 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@71e9a896] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2020-12-03 07:20:52,005 [Listener at localhost/32989] INFO  datanode.DataNode (DataNode.java:startDataNode(1428)) - dnUserName = root
2020-12-03 07:20:52,006 [Listener at localhost/32989] INFO  datanode.DataNode (DataNode.java:startDataNode(1429)) - supergroup = supergroup
2020-12-03 07:20:52,007 [Listener at localhost/32989] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 1000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2020-12-03 07:20:52,010 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1219)) - Starting Socket Reader #1 for port 0
2020-12-03 07:20:52,017 [Listener at localhost/38553] INFO  datanode.DataNode (DataNode.java:initIpcServer(1034)) - Opened IPC server at /127.0.0.1:38553
2020-12-03 07:20:52,025 [Listener at localhost/38553] INFO  datanode.DataNode (BlockPoolManager.java:refreshNamenodes(149)) - Refresh request received for nameservices: null
2020-12-03 07:20:52,026 [Listener at localhost/38553] INFO  datanode.DataNode (BlockPoolManager.java:doRefreshNamenodes(210)) - Starting BPOfferServices for nameservices: <default>
2020-12-03 07:20:52,027 [Thread-83] INFO  datanode.DataNode (BPServiceActor.java:run(817)) - Block pool <registering> (Datanode Uuid unassigned) service to localhost/127.0.0.1:39242 starting to offer service
2020-12-03 07:20:52,035 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1298)) - IPC Server listener on 0: starting
2020-12-03 07:20:52,059 [Listener at localhost/38553] INFO  hdfs.MiniDFSCluster (MiniDFSCluster.java:startDataNodes(1659)) - Starting DataNode 2 with dfs.datanode.data.dir: [DISK]file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data5,[DISK]file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data6
2020-12-03 07:20:52,045 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1460)) - IPC Server Responder: starting
2020-12-03 07:20:52,063 [Listener at localhost/38553] INFO  checker.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(137)) - Scheduling a check for [DISK]file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data5
2020-12-03 07:20:52,075 [Listener at localhost/38553] INFO  checker.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(137)) - Scheduling a check for [DISK]file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data6
2020-12-03 07:20:52,077 [Listener at localhost/38553] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - DataNode metrics system started (again)
2020-12-03 07:20:52,078 [Listener at localhost/38553] INFO  common.Util (Util.java:isDiskStatsEnabled(395)) - dfs.datanode.fileio.profiling.sampling.percentage set to 0. Disabling file IO profiling
2020-12-03 07:20:52,078 [Listener at localhost/38553] INFO  datanode.BlockScanner (BlockScanner.java:<init>(184)) - Initialized block scanner with targetBytesPerSec 1048576
2020-12-03 07:20:52,084 [Listener at localhost/38553] INFO  datanode.DataNode (DataNode.java:<init>(500)) - Configured hostname is 127.0.0.1
2020-12-03 07:20:52,084 [Listener at localhost/38553] INFO  common.Util (Util.java:isDiskStatsEnabled(395)) - dfs.datanode.fileio.profiling.sampling.percentage set to 0. Disabling file IO profiling
2020-12-03 07:20:52,085 [Listener at localhost/38553] INFO  Configuration.deprecation (Configuration.java:logDeprecation(1395)) - No unit for dfs.heartbeat.interval(1) assuming SECONDS
2020-12-03 07:20:52,085 [Listener at localhost/38553] INFO  Configuration.deprecation (Configuration.java:logDeprecation(1395)) - No unit for dfs.heartbeat.interval(1) assuming SECONDS
2020-12-03 07:20:52,086 [Listener at localhost/38553] INFO  datanode.DataNode (DataNode.java:startDataNode(1400)) - Starting DataNode with maxLockedMemory = 0
2020-12-03 07:20:52,087 [Listener at localhost/38553] INFO  datanode.DataNode (DataNode.java:initDataXceiver(1148)) - Opened streaming server at /127.0.0.1:43522
2020-12-03 07:20:52,087 [Listener at localhost/38553] INFO  datanode.DataNode (DataXceiverServer.java:<init>(78)) - Balancing bandwidth is 10485760 bytes/s
2020-12-03 07:20:52,088 [Listener at localhost/38553] INFO  datanode.DataNode (DataXceiverServer.java:<init>(79)) - Number threads for balancing is 50
2020-12-03 07:20:52,090 [Listener at localhost/38553] INFO  http.HttpServer2 (HttpServer2.java:getWebAppsPath(1072)) - Web server is in development mode. Resources will be read from the source tree.
2020-12-03 07:20:52,096 [Listener at localhost/38553] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2020-12-03 07:20:52,098 [Listener at localhost/38553] INFO  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(81)) - Http request log for http.requests.datanode is not defined
2020-12-03 07:20:52,098 [Listener at localhost/38553] INFO  http.HttpServer2 (HttpServer2.java:getWebAppsPath(1072)) - Web server is in development mode. Resources will be read from the source tree.
2020-12-03 07:20:52,101 [Listener at localhost/38553] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(990)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2020-12-03 07:20:52,103 [Listener at localhost/38553] INFO  http.HttpServer2 (HttpServer2.java:addFilter(963)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context datanode
2020-12-03 07:20:52,103 [Listener at localhost/38553] INFO  http.HttpServer2 (HttpServer2.java:addFilter(973)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2020-12-03 07:20:52,103 [Listener at localhost/38553] INFO  http.HttpServer2 (HttpServer2.java:addFilter(973)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2020-12-03 07:20:52,107 [Listener at localhost/38553] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1206)) - Jetty bound to port 38998
2020-12-03 07:20:52,107 [Listener at localhost/38553] INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.24.v20180605, build timestamp: 2018-06-05T17:11:56Z, git hash: 84205aa28f11a4f31f2a3b86d1bba2cc8ab69827
2020-12-03 07:20:52,114 [Listener at localhost/38553] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@750fe12e{/logs,file:///root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/log/,AVAILABLE}
2020-12-03 07:20:52,116 [Listener at localhost/38553] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@3e587920{/static,file:///root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/src/main/webapps/static/,AVAILABLE}
2020-12-03 07:20:52,131 [Listener at localhost/38553] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@133e019b{/,file:///root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/src/main/webapps/datanode/,AVAILABLE}{/datanode}
2020-12-03 07:20:52,132 [Listener at localhost/38553] INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@41382722{HTTP/1.1,[http/1.1]}{localhost:38998}
2020-12-03 07:20:52,132 [Listener at localhost/38553] INFO  server.Server (Server.java:doStart(419)) - Started @7348ms
2020-12-03 07:20:52,189 [Listener at localhost/38553] INFO  web.DatanodeHttpServer (DatanodeHttpServer.java:start(255)) - Listening HTTP traffic on /127.0.0.1:34869
2020-12-03 07:20:52,190 [Listener at localhost/38553] INFO  datanode.DataNode (DataNode.java:startDataNode(1428)) - dnUserName = root
2020-12-03 07:20:52,190 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@425357dd] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2020-12-03 07:20:52,190 [Listener at localhost/38553] INFO  datanode.DataNode (DataNode.java:startDataNode(1429)) - supergroup = supergroup
2020-12-03 07:20:52,191 [Listener at localhost/38553] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 1000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2020-12-03 07:20:52,192 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1219)) - Starting Socket Reader #1 for port 0
2020-12-03 07:20:52,198 [Listener at localhost/42308] INFO  datanode.DataNode (DataNode.java:initIpcServer(1034)) - Opened IPC server at /127.0.0.1:42308
2020-12-03 07:20:52,212 [Listener at localhost/42308] INFO  datanode.DataNode (BlockPoolManager.java:refreshNamenodes(149)) - Refresh request received for nameservices: null
2020-12-03 07:20:52,213 [Listener at localhost/42308] INFO  datanode.DataNode (BlockPoolManager.java:doRefreshNamenodes(210)) - Starting BPOfferServices for nameservices: <default>
2020-12-03 07:20:52,214 [Thread-105] INFO  datanode.DataNode (BPServiceActor.java:run(817)) - Block pool <registering> (Datanode Uuid unassigned) service to localhost/127.0.0.1:39242 starting to offer service
2020-12-03 07:20:52,215 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1460)) - IPC Server Responder: starting
2020-12-03 07:20:52,215 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1298)) - IPC Server listener on 0: starting
2020-12-03 07:20:52,383 [Thread-105] INFO  datanode.DataNode (BPOfferService.java:verifyAndSetNamespaceInfo(378)) - Acknowledging ACTIVE Namenode during handshakeBlock pool <registering> (Datanode Uuid unassigned) service to localhost/127.0.0.1:39242
2020-12-03 07:20:52,383 [Thread-83] INFO  datanode.DataNode (BPOfferService.java:verifyAndSetNamespaceInfo(378)) - Acknowledging ACTIVE Namenode during handshakeBlock pool <registering> (Datanode Uuid unassigned) service to localhost/127.0.0.1:39242
2020-12-03 07:20:52,384 [Thread-59] INFO  datanode.DataNode (BPOfferService.java:verifyAndSetNamespaceInfo(378)) - Acknowledging ACTIVE Namenode during handshakeBlock pool <registering> (Datanode Uuid unassigned) service to localhost/127.0.0.1:39242
2020-12-03 07:20:52,386 [Thread-59] INFO  common.Storage (DataStorage.java:getParallelVolumeLoadThreadsNum(354)) - Using 2 threads to upgrade data directories (dfs.datanode.parallel.volumes.load.threads.num=2, dataDirs=2)
2020-12-03 07:20:52,386 [Thread-83] INFO  common.Storage (DataStorage.java:getParallelVolumeLoadThreadsNum(354)) - Using 2 threads to upgrade data directories (dfs.datanode.parallel.volumes.load.threads.num=2, dataDirs=2)
2020-12-03 07:20:52,386 [Thread-105] INFO  common.Storage (DataStorage.java:getParallelVolumeLoadThreadsNum(354)) - Using 2 threads to upgrade data directories (dfs.datanode.parallel.volumes.load.threads.num=2, dataDirs=2)
2020-12-03 07:20:52,482 [Thread-83] INFO  common.Storage (Storage.java:tryLock(923)) - Lock on /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data3/in_use.lock acquired by nodename 2001@2173cf0f5f64
2020-12-03 07:20:52,483 [Thread-83] INFO  common.Storage (DataStorage.java:loadStorageDirectory(282)) - Storage directory with location [DISK]file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data3 is not formatted for namespace 1644177315. Formatting...
2020-12-03 07:20:52,484 [Thread-83] INFO  common.Storage (DataStorage.java:createStorageID(160)) - Generated new storageID DS-01843347-4109-4ed7-95a5-187fd87ea302 for directory /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data3 
2020-12-03 07:20:52,482 [Thread-105] INFO  common.Storage (Storage.java:tryLock(923)) - Lock on /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data5/in_use.lock acquired by nodename 2001@2173cf0f5f64
2020-12-03 07:20:52,485 [Thread-105] INFO  common.Storage (DataStorage.java:loadStorageDirectory(282)) - Storage directory with location [DISK]file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data5 is not formatted for namespace 1644177315. Formatting...
2020-12-03 07:20:52,486 [Thread-105] INFO  common.Storage (DataStorage.java:createStorageID(160)) - Generated new storageID DS-5971d83e-96ee-4d0b-a01e-4aa063a9a273 for directory /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data5 
2020-12-03 07:20:52,486 [Thread-59] INFO  common.Storage (Storage.java:tryLock(923)) - Lock on /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data1/in_use.lock acquired by nodename 2001@2173cf0f5f64
2020-12-03 07:20:52,486 [Thread-59] INFO  common.Storage (DataStorage.java:loadStorageDirectory(282)) - Storage directory with location [DISK]file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data1 is not formatted for namespace 1644177315. Formatting...
2020-12-03 07:20:52,487 [Thread-59] INFO  common.Storage (DataStorage.java:createStorageID(160)) - Generated new storageID DS-0d4f1707-0fea-4fd4-bd10-735d6a0eaf83 for directory /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data1 
2020-12-03 07:20:52,705 [Thread-83] INFO  common.Storage (Storage.java:tryLock(923)) - Lock on /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data4/in_use.lock acquired by nodename 2001@2173cf0f5f64
2020-12-03 07:20:52,705 [Thread-105] INFO  common.Storage (Storage.java:tryLock(923)) - Lock on /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data6/in_use.lock acquired by nodename 2001@2173cf0f5f64
2020-12-03 07:20:52,706 [Thread-83] INFO  common.Storage (DataStorage.java:loadStorageDirectory(282)) - Storage directory with location [DISK]file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data4 is not formatted for namespace 1644177315. Formatting...
2020-12-03 07:20:52,707 [Thread-105] INFO  common.Storage (DataStorage.java:loadStorageDirectory(282)) - Storage directory with location [DISK]file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data6 is not formatted for namespace 1644177315. Formatting...
2020-12-03 07:20:52,708 [Thread-105] INFO  common.Storage (DataStorage.java:createStorageID(160)) - Generated new storageID DS-557f638d-d24c-413e-a530-1084e5f0ca2d for directory /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data6 
2020-12-03 07:20:52,710 [Thread-83] INFO  common.Storage (DataStorage.java:createStorageID(160)) - Generated new storageID DS-8bab79cf-aa5e-4c7f-a0f4-36535a8b9d80 for directory /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data4 
2020-12-03 07:20:52,780 [Thread-59] INFO  common.Storage (Storage.java:tryLock(923)) - Lock on /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data2/in_use.lock acquired by nodename 2001@2173cf0f5f64
2020-12-03 07:20:52,781 [Thread-59] INFO  common.Storage (DataStorage.java:loadStorageDirectory(282)) - Storage directory with location [DISK]file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data2 is not formatted for namespace 1644177315. Formatting...
2020-12-03 07:20:52,781 [Thread-59] INFO  common.Storage (DataStorage.java:createStorageID(160)) - Generated new storageID DS-a13fc93c-0aae-460f-9db6-74b98bcd7a09 for directory /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data2 
2020-12-03 07:20:52,852 [IPC Server handler 5 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=datanodeReport	src=null	dst=null	perm=null	proto=rpc
2020-12-03 07:20:52,867 [Listener at localhost/42308] INFO  hdfs.MiniDFSCluster (MiniDFSCluster.java:shouldWait(2782)) - dnInfo.length != numDataNodes
2020-12-03 07:20:52,867 [Listener at localhost/42308] INFO  hdfs.MiniDFSCluster (MiniDFSCluster.java:waitActive(2703)) - Waiting for cluster to become active
2020-12-03 07:20:52,915 [Thread-83] INFO  common.Storage (BlockPoolSliceStorage.java:recoverTransitionRead(251)) - Analyzing storage directories for bpid BP-289139721-172.17.0.11-1606980047411
2020-12-03 07:20:52,916 [Thread-83] INFO  common.Storage (Storage.java:lock(882)) - Locking is disabled for /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data3/current/BP-289139721-172.17.0.11-1606980047411
2020-12-03 07:20:52,917 [Thread-83] INFO  common.Storage (BlockPoolSliceStorage.java:loadStorageDirectory(168)) - Block pool storage directory for location [DISK]file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data3 and block pool id BP-289139721-172.17.0.11-1606980047411 is not formatted. Formatting ...
2020-12-03 07:20:52,917 [Thread-83] INFO  common.Storage (BlockPoolSliceStorage.java:format(280)) - Formatting block pool BP-289139721-172.17.0.11-1606980047411 directory /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data3/current/BP-289139721-172.17.0.11-1606980047411/current
2020-12-03 07:20:52,919 [Thread-105] INFO  common.Storage (BlockPoolSliceStorage.java:recoverTransitionRead(251)) - Analyzing storage directories for bpid BP-289139721-172.17.0.11-1606980047411
2020-12-03 07:20:52,919 [Thread-105] INFO  common.Storage (Storage.java:lock(882)) - Locking is disabled for /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data5/current/BP-289139721-172.17.0.11-1606980047411
2020-12-03 07:20:52,920 [Thread-105] INFO  common.Storage (BlockPoolSliceStorage.java:loadStorageDirectory(168)) - Block pool storage directory for location [DISK]file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data5 and block pool id BP-289139721-172.17.0.11-1606980047411 is not formatted. Formatting ...
2020-12-03 07:20:52,920 [Thread-105] INFO  common.Storage (BlockPoolSliceStorage.java:format(280)) - Formatting block pool BP-289139721-172.17.0.11-1606980047411 directory /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data5/current/BP-289139721-172.17.0.11-1606980047411/current
2020-12-03 07:20:52,928 [Thread-59] INFO  common.Storage (BlockPoolSliceStorage.java:recoverTransitionRead(251)) - Analyzing storage directories for bpid BP-289139721-172.17.0.11-1606980047411
2020-12-03 07:20:52,928 [Thread-59] INFO  common.Storage (Storage.java:lock(882)) - Locking is disabled for /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data1/current/BP-289139721-172.17.0.11-1606980047411
2020-12-03 07:20:52,928 [Thread-59] INFO  common.Storage (BlockPoolSliceStorage.java:loadStorageDirectory(168)) - Block pool storage directory for location [DISK]file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data1 and block pool id BP-289139721-172.17.0.11-1606980047411 is not formatted. Formatting ...
2020-12-03 07:20:52,929 [Thread-59] INFO  common.Storage (BlockPoolSliceStorage.java:format(280)) - Formatting block pool BP-289139721-172.17.0.11-1606980047411 directory /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data1/current/BP-289139721-172.17.0.11-1606980047411/current
2020-12-03 07:20:52,970 [IPC Server handler 0 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=datanodeReport	src=null	dst=null	perm=null	proto=rpc
2020-12-03 07:20:52,971 [Listener at localhost/42308] INFO  hdfs.MiniDFSCluster (MiniDFSCluster.java:shouldWait(2782)) - dnInfo.length != numDataNodes
2020-12-03 07:20:52,971 [Listener at localhost/42308] INFO  hdfs.MiniDFSCluster (MiniDFSCluster.java:waitActive(2703)) - Waiting for cluster to become active
2020-12-03 07:20:53,076 [IPC Server handler 7 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=datanodeReport	src=null	dst=null	perm=null	proto=rpc
2020-12-03 07:20:53,077 [Listener at localhost/42308] INFO  hdfs.MiniDFSCluster (MiniDFSCluster.java:shouldWait(2782)) - dnInfo.length != numDataNodes
2020-12-03 07:20:53,077 [Listener at localhost/42308] INFO  hdfs.MiniDFSCluster (MiniDFSCluster.java:waitActive(2703)) - Waiting for cluster to become active
2020-12-03 07:20:53,080 [Thread-83] INFO  common.Storage (BlockPoolSliceStorage.java:recoverTransitionRead(251)) - Analyzing storage directories for bpid BP-289139721-172.17.0.11-1606980047411
2020-12-03 07:20:53,081 [Thread-83] INFO  common.Storage (Storage.java:lock(882)) - Locking is disabled for /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data4/current/BP-289139721-172.17.0.11-1606980047411
2020-12-03 07:20:53,081 [Thread-83] INFO  common.Storage (BlockPoolSliceStorage.java:loadStorageDirectory(168)) - Block pool storage directory for location [DISK]file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data4 and block pool id BP-289139721-172.17.0.11-1606980047411 is not formatted. Formatting ...
2020-12-03 07:20:53,081 [Thread-83] INFO  common.Storage (BlockPoolSliceStorage.java:format(280)) - Formatting block pool BP-289139721-172.17.0.11-1606980047411 directory /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data4/current/BP-289139721-172.17.0.11-1606980047411/current
2020-12-03 07:20:53,118 [Thread-105] INFO  common.Storage (BlockPoolSliceStorage.java:recoverTransitionRead(251)) - Analyzing storage directories for bpid BP-289139721-172.17.0.11-1606980047411
2020-12-03 07:20:53,119 [Thread-105] INFO  common.Storage (Storage.java:lock(882)) - Locking is disabled for /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data6/current/BP-289139721-172.17.0.11-1606980047411
2020-12-03 07:20:53,120 [Thread-105] INFO  common.Storage (BlockPoolSliceStorage.java:loadStorageDirectory(168)) - Block pool storage directory for location [DISK]file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data6 and block pool id BP-289139721-172.17.0.11-1606980047411 is not formatted. Formatting ...
2020-12-03 07:20:53,120 [Thread-105] INFO  common.Storage (BlockPoolSliceStorage.java:format(280)) - Formatting block pool BP-289139721-172.17.0.11-1606980047411 directory /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data6/current/BP-289139721-172.17.0.11-1606980047411/current
2020-12-03 07:20:53,120 [Thread-59] INFO  common.Storage (BlockPoolSliceStorage.java:recoverTransitionRead(251)) - Analyzing storage directories for bpid BP-289139721-172.17.0.11-1606980047411
2020-12-03 07:20:53,121 [Thread-59] INFO  common.Storage (Storage.java:lock(882)) - Locking is disabled for /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data2/current/BP-289139721-172.17.0.11-1606980047411
2020-12-03 07:20:53,121 [Thread-59] INFO  common.Storage (BlockPoolSliceStorage.java:loadStorageDirectory(168)) - Block pool storage directory for location [DISK]file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data2 and block pool id BP-289139721-172.17.0.11-1606980047411 is not formatted. Formatting ...
2020-12-03 07:20:53,121 [Thread-59] INFO  common.Storage (BlockPoolSliceStorage.java:format(280)) - Formatting block pool BP-289139721-172.17.0.11-1606980047411 directory /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data2/current/BP-289139721-172.17.0.11-1606980047411/current
2020-12-03 07:20:53,179 [IPC Server handler 6 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=datanodeReport	src=null	dst=null	perm=null	proto=rpc
2020-12-03 07:20:53,180 [Listener at localhost/42308] INFO  hdfs.MiniDFSCluster (MiniDFSCluster.java:shouldWait(2782)) - dnInfo.length != numDataNodes
2020-12-03 07:20:53,180 [Listener at localhost/42308] INFO  hdfs.MiniDFSCluster (MiniDFSCluster.java:waitActive(2703)) - Waiting for cluster to become active
2020-12-03 07:20:53,234 [Thread-83] INFO  datanode.DataNode (DataNode.java:initStorage(1746)) - Setting up storage: nsid=1644177315;bpid=BP-289139721-172.17.0.11-1606980047411;lv=-57;nsInfo=lv=-65;cid=testClusterID;nsid=1644177315;c=1606980047411;bpid=BP-289139721-172.17.0.11-1606980047411;dnuuid=null
2020-12-03 07:20:53,273 [Thread-59] INFO  datanode.DataNode (DataNode.java:initStorage(1746)) - Setting up storage: nsid=1644177315;bpid=BP-289139721-172.17.0.11-1606980047411;lv=-57;nsInfo=lv=-65;cid=testClusterID;nsid=1644177315;c=1606980047411;bpid=BP-289139721-172.17.0.11-1606980047411;dnuuid=null
2020-12-03 07:20:53,273 [Thread-105] INFO  datanode.DataNode (DataNode.java:initStorage(1746)) - Setting up storage: nsid=1644177315;bpid=BP-289139721-172.17.0.11-1606980047411;lv=-57;nsInfo=lv=-65;cid=testClusterID;nsid=1644177315;c=1606980047411;bpid=BP-289139721-172.17.0.11-1606980047411;dnuuid=null
2020-12-03 07:20:53,282 [IPC Server handler 3 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=datanodeReport	src=null	dst=null	perm=null	proto=rpc
2020-12-03 07:20:53,284 [Listener at localhost/42308] INFO  hdfs.MiniDFSCluster (MiniDFSCluster.java:shouldWait(2782)) - dnInfo.length != numDataNodes
2020-12-03 07:20:53,284 [Listener at localhost/42308] INFO  hdfs.MiniDFSCluster (MiniDFSCluster.java:waitActive(2703)) - Waiting for cluster to become active
2020-12-03 07:20:53,386 [IPC Server handler 9 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=datanodeReport	src=null	dst=null	perm=null	proto=rpc
2020-12-03 07:20:53,387 [Listener at localhost/42308] INFO  hdfs.MiniDFSCluster (MiniDFSCluster.java:shouldWait(2782)) - dnInfo.length != numDataNodes
2020-12-03 07:20:53,387 [Listener at localhost/42308] INFO  hdfs.MiniDFSCluster (MiniDFSCluster.java:waitActive(2703)) - Waiting for cluster to become active
2020-12-03 07:20:53,431 [Thread-83] INFO  datanode.DataNode (DataNode.java:checkDatanodeUuid(1546)) - Generated and persisted new Datanode UUID cb9af4a7-3d3c-4e0a-a0a8-459be5d72fb4
2020-12-03 07:20:53,480 [Thread-59] INFO  datanode.DataNode (DataNode.java:checkDatanodeUuid(1546)) - Generated and persisted new Datanode UUID 09827f10-a8ef-4678-ab6b-635662dd143b
2020-12-03 07:20:53,481 [Thread-105] INFO  datanode.DataNode (DataNode.java:checkDatanodeUuid(1546)) - Generated and persisted new Datanode UUID 4dc3fc86-316f-46bd-b018-51709a77bcb4
2020-12-03 07:20:53,490 [IPC Server handler 8 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=datanodeReport	src=null	dst=null	perm=null	proto=rpc
2020-12-03 07:20:53,491 [Listener at localhost/42308] INFO  hdfs.MiniDFSCluster (MiniDFSCluster.java:shouldWait(2782)) - dnInfo.length != numDataNodes
2020-12-03 07:20:53,492 [Listener at localhost/42308] INFO  hdfs.MiniDFSCluster (MiniDFSCluster.java:waitActive(2703)) - Waiting for cluster to become active
2020-12-03 07:20:53,594 [IPC Server handler 5 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=datanodeReport	src=null	dst=null	perm=null	proto=rpc
2020-12-03 07:20:53,595 [Listener at localhost/42308] INFO  hdfs.MiniDFSCluster (MiniDFSCluster.java:shouldWait(2782)) - dnInfo.length != numDataNodes
2020-12-03 07:20:53,595 [Listener at localhost/42308] INFO  hdfs.MiniDFSCluster (MiniDFSCluster.java:waitActive(2703)) - Waiting for cluster to become active
2020-12-03 07:20:53,598 [Thread-59] INFO  impl.FsDatasetImpl (FsVolumeList.java:addVolume(304)) - Added new volume: DS-0d4f1707-0fea-4fd4-bd10-735d6a0eaf83
2020-12-03 07:20:53,600 [Thread-83] INFO  impl.FsDatasetImpl (FsVolumeList.java:addVolume(304)) - Added new volume: DS-01843347-4109-4ed7-95a5-187fd87ea302
2020-12-03 07:20:53,598 [Thread-105] INFO  impl.FsDatasetImpl (FsVolumeList.java:addVolume(304)) - Added new volume: DS-5971d83e-96ee-4d0b-a01e-4aa063a9a273
2020-12-03 07:20:53,606 [Thread-83] INFO  impl.FsDatasetImpl (FsDatasetImpl.java:addVolume(450)) - Added volume - [DISK]file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data3, StorageType: DISK
2020-12-03 07:20:53,606 [Thread-59] INFO  impl.FsDatasetImpl (FsDatasetImpl.java:addVolume(450)) - Added volume - [DISK]file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data1, StorageType: DISK
2020-12-03 07:20:53,606 [Thread-105] INFO  impl.FsDatasetImpl (FsDatasetImpl.java:addVolume(450)) - Added volume - [DISK]file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data5, StorageType: DISK
2020-12-03 07:20:53,608 [Thread-83] INFO  impl.FsDatasetImpl (FsVolumeList.java:addVolume(304)) - Added new volume: DS-8bab79cf-aa5e-4c7f-a0f4-36535a8b9d80
2020-12-03 07:20:53,609 [Thread-83] INFO  impl.FsDatasetImpl (FsDatasetImpl.java:addVolume(450)) - Added volume - [DISK]file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data4, StorageType: DISK
2020-12-03 07:20:53,609 [Thread-105] INFO  impl.FsDatasetImpl (FsVolumeList.java:addVolume(304)) - Added new volume: DS-557f638d-d24c-413e-a530-1084e5f0ca2d
2020-12-03 07:20:53,609 [Thread-105] INFO  impl.FsDatasetImpl (FsDatasetImpl.java:addVolume(450)) - Added volume - [DISK]file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data6, StorageType: DISK
2020-12-03 07:20:53,612 [Thread-59] INFO  impl.FsDatasetImpl (FsVolumeList.java:addVolume(304)) - Added new volume: DS-a13fc93c-0aae-460f-9db6-74b98bcd7a09
2020-12-03 07:20:53,612 [Thread-59] INFO  impl.FsDatasetImpl (FsDatasetImpl.java:addVolume(450)) - Added volume - [DISK]file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data2, StorageType: DISK
2020-12-03 07:20:53,617 [Thread-105] INFO  impl.FsDatasetImpl (FsDatasetImpl.java:registerMBean(2280)) - Registered FSDatasetState MBean
2020-12-03 07:20:53,618 [Thread-59] INFO  impl.FsDatasetImpl (FsDatasetImpl.java:registerMBean(2280)) - Registered FSDatasetState MBean
2020-12-03 07:20:53,618 [Thread-83] INFO  impl.FsDatasetImpl (FsDatasetImpl.java:registerMBean(2280)) - Registered FSDatasetState MBean
2020-12-03 07:20:53,624 [Thread-105] INFO  checker.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(137)) - Scheduling a check for /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data5
2020-12-03 07:20:53,626 [Thread-83] INFO  checker.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(137)) - Scheduling a check for /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data3
2020-12-03 07:20:53,628 [Thread-59] INFO  checker.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(137)) - Scheduling a check for /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data1
2020-12-03 07:20:53,634 [Thread-105] INFO  checker.DatasetVolumeChecker (DatasetVolumeChecker.java:checkAllVolumes(222)) - Scheduled health check for volume /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data5
2020-12-03 07:20:53,637 [Thread-59] INFO  checker.DatasetVolumeChecker (DatasetVolumeChecker.java:checkAllVolumes(222)) - Scheduled health check for volume /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data1
2020-12-03 07:20:53,639 [Thread-59] INFO  checker.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(137)) - Scheduling a check for /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data2
2020-12-03 07:20:53,640 [Thread-59] INFO  checker.DatasetVolumeChecker (DatasetVolumeChecker.java:checkAllVolumes(222)) - Scheduled health check for volume /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data2
2020-12-03 07:20:53,634 [Thread-83] INFO  checker.DatasetVolumeChecker (DatasetVolumeChecker.java:checkAllVolumes(222)) - Scheduled health check for volume /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data3
2020-12-03 07:20:53,639 [Thread-105] INFO  checker.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(137)) - Scheduling a check for /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data6
2020-12-03 07:20:53,647 [Thread-105] INFO  checker.DatasetVolumeChecker (DatasetVolumeChecker.java:checkAllVolumes(222)) - Scheduled health check for volume /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data6
2020-12-03 07:20:53,647 [Thread-83] INFO  checker.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(137)) - Scheduling a check for /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data4
2020-12-03 07:20:53,647 [Thread-59] INFO  impl.FsDatasetImpl (FsDatasetImpl.java:addBlockPool(2791)) - Adding block pool BP-289139721-172.17.0.11-1606980047411
2020-12-03 07:20:53,648 [Thread-83] INFO  checker.DatasetVolumeChecker (DatasetVolumeChecker.java:checkAllVolumes(222)) - Scheduled health check for volume /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data4
2020-12-03 07:20:53,648 [Thread-83] INFO  impl.FsDatasetImpl (FsDatasetImpl.java:addBlockPool(2791)) - Adding block pool BP-289139721-172.17.0.11-1606980047411
2020-12-03 07:20:53,649 [Thread-125] INFO  impl.FsDatasetImpl (FsVolumeList.java:run(406)) - Scanning block pool BP-289139721-172.17.0.11-1606980047411 on volume /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data1...
2020-12-03 07:20:53,649 [Thread-126] INFO  impl.FsDatasetImpl (FsVolumeList.java:run(406)) - Scanning block pool BP-289139721-172.17.0.11-1606980047411 on volume /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data3...
2020-12-03 07:20:53,649 [Thread-127] INFO  impl.FsDatasetImpl (FsVolumeList.java:run(406)) - Scanning block pool BP-289139721-172.17.0.11-1606980047411 on volume /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data2...
2020-12-03 07:20:53,650 [Thread-128] INFO  impl.FsDatasetImpl (FsVolumeList.java:run(406)) - Scanning block pool BP-289139721-172.17.0.11-1606980047411 on volume /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data4...
2020-12-03 07:20:53,657 [Thread-105] INFO  impl.FsDatasetImpl (FsDatasetImpl.java:addBlockPool(2791)) - Adding block pool BP-289139721-172.17.0.11-1606980047411
2020-12-03 07:20:53,658 [Thread-129] INFO  impl.FsDatasetImpl (FsVolumeList.java:run(406)) - Scanning block pool BP-289139721-172.17.0.11-1606980047411 on volume /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data5...
2020-12-03 07:20:53,658 [Thread-130] INFO  impl.FsDatasetImpl (FsVolumeList.java:run(406)) - Scanning block pool BP-289139721-172.17.0.11-1606980047411 on volume /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data6...
2020-12-03 07:20:53,706 [IPC Server handler 0 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=datanodeReport	src=null	dst=null	perm=null	proto=rpc
2020-12-03 07:20:53,715 [Listener at localhost/42308] INFO  hdfs.MiniDFSCluster (MiniDFSCluster.java:shouldWait(2782)) - dnInfo.length != numDataNodes
2020-12-03 07:20:53,715 [Listener at localhost/42308] INFO  hdfs.MiniDFSCluster (MiniDFSCluster.java:waitActive(2703)) - Waiting for cluster to become active
2020-12-03 07:20:53,720 [Thread-130] INFO  impl.FsDatasetImpl (FsVolumeList.java:run(411)) - Time taken to scan block pool BP-289139721-172.17.0.11-1606980047411 on /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data6: 63ms
2020-12-03 07:20:53,723 [Thread-128] INFO  impl.FsDatasetImpl (FsVolumeList.java:run(411)) - Time taken to scan block pool BP-289139721-172.17.0.11-1606980047411 on /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data4: 74ms
2020-12-03 07:20:53,724 [Thread-125] INFO  impl.FsDatasetImpl (FsVolumeList.java:run(411)) - Time taken to scan block pool BP-289139721-172.17.0.11-1606980047411 on /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data1: 75ms
2020-12-03 07:20:53,734 [Thread-127] INFO  impl.FsDatasetImpl (FsVolumeList.java:run(411)) - Time taken to scan block pool BP-289139721-172.17.0.11-1606980047411 on /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data2: 84ms
2020-12-03 07:20:53,742 [Thread-129] INFO  impl.FsDatasetImpl (FsVolumeList.java:run(411)) - Time taken to scan block pool BP-289139721-172.17.0.11-1606980047411 on /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data5: 84ms
2020-12-03 07:20:53,735 [Thread-126] INFO  impl.FsDatasetImpl (FsVolumeList.java:run(411)) - Time taken to scan block pool BP-289139721-172.17.0.11-1606980047411 on /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data3: 85ms
2020-12-03 07:20:53,743 [Thread-105] INFO  impl.FsDatasetImpl (FsVolumeList.java:addBlockPool(431)) - Total time to scan all replicas for block pool BP-289139721-172.17.0.11-1606980047411: 85ms
2020-12-03 07:20:53,743 [Thread-59] INFO  impl.FsDatasetImpl (FsVolumeList.java:addBlockPool(431)) - Total time to scan all replicas for block pool BP-289139721-172.17.0.11-1606980047411: 95ms
2020-12-03 07:20:53,744 [Thread-83] INFO  impl.FsDatasetImpl (FsVolumeList.java:addBlockPool(431)) - Total time to scan all replicas for block pool BP-289139721-172.17.0.11-1606980047411: 96ms
2020-12-03 07:20:53,746 [Thread-137] INFO  impl.FsDatasetImpl (FsVolumeList.java:run(199)) - Adding replicas to map for block pool BP-289139721-172.17.0.11-1606980047411 on volume /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data1...
2020-12-03 07:20:53,747 [Thread-139] INFO  impl.FsDatasetImpl (FsVolumeList.java:run(199)) - Adding replicas to map for block pool BP-289139721-172.17.0.11-1606980047411 on volume /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data3...
2020-12-03 07:20:53,747 [Thread-137] INFO  impl.BlockPoolSlice (BlockPoolSlice.java:readReplicasFromCache(876)) - Replica Cache file: /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data1/current/BP-289139721-172.17.0.11-1606980047411/current/replicas doesn't exist 
2020-12-03 07:20:53,746 [Thread-138] INFO  impl.FsDatasetImpl (FsVolumeList.java:run(199)) - Adding replicas to map for block pool BP-289139721-172.17.0.11-1606980047411 on volume /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data2...
2020-12-03 07:20:53,761 [Thread-141] INFO  impl.FsDatasetImpl (FsVolumeList.java:run(199)) - Adding replicas to map for block pool BP-289139721-172.17.0.11-1606980047411 on volume /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data5...
2020-12-03 07:20:53,761 [Thread-140] INFO  impl.FsDatasetImpl (FsVolumeList.java:run(199)) - Adding replicas to map for block pool BP-289139721-172.17.0.11-1606980047411 on volume /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data4...
2020-12-03 07:20:53,747 [Thread-139] INFO  impl.BlockPoolSlice (BlockPoolSlice.java:readReplicasFromCache(876)) - Replica Cache file: /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data3/current/BP-289139721-172.17.0.11-1606980047411/current/replicas doesn't exist 
2020-12-03 07:20:53,763 [Thread-138] INFO  impl.BlockPoolSlice (BlockPoolSlice.java:readReplicasFromCache(876)) - Replica Cache file: /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data2/current/BP-289139721-172.17.0.11-1606980047411/current/replicas doesn't exist 
2020-12-03 07:20:53,763 [Thread-140] INFO  impl.BlockPoolSlice (BlockPoolSlice.java:readReplicasFromCache(876)) - Replica Cache file: /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data4/current/BP-289139721-172.17.0.11-1606980047411/current/replicas doesn't exist 
2020-12-03 07:20:53,763 [Thread-141] INFO  impl.BlockPoolSlice (BlockPoolSlice.java:readReplicasFromCache(876)) - Replica Cache file: /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data5/current/BP-289139721-172.17.0.11-1606980047411/current/replicas doesn't exist 
2020-12-03 07:20:53,764 [Thread-137] INFO  impl.FsDatasetImpl (FsVolumeList.java:run(204)) - Time to add replicas to map for block pool BP-289139721-172.17.0.11-1606980047411 on volume /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data1: 18ms
2020-12-03 07:20:53,767 [Thread-142] INFO  impl.FsDatasetImpl (FsVolumeList.java:run(199)) - Adding replicas to map for block pool BP-289139721-172.17.0.11-1606980047411 on volume /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data6...
2020-12-03 07:20:53,768 [Thread-142] INFO  impl.BlockPoolSlice (BlockPoolSlice.java:readReplicasFromCache(876)) - Replica Cache file: /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data6/current/BP-289139721-172.17.0.11-1606980047411/current/replicas doesn't exist 
2020-12-03 07:20:53,768 [Thread-138] INFO  impl.FsDatasetImpl (FsVolumeList.java:run(204)) - Time to add replicas to map for block pool BP-289139721-172.17.0.11-1606980047411 on volume /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data2: 6ms
2020-12-03 07:20:53,769 [Thread-140] INFO  impl.FsDatasetImpl (FsVolumeList.java:run(204)) - Time to add replicas to map for block pool BP-289139721-172.17.0.11-1606980047411 on volume /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data4: 6ms
2020-12-03 07:20:53,769 [Thread-142] INFO  impl.FsDatasetImpl (FsVolumeList.java:run(204)) - Time to add replicas to map for block pool BP-289139721-172.17.0.11-1606980047411 on volume /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data6: 1ms
2020-12-03 07:20:53,769 [Thread-59] INFO  impl.FsDatasetImpl (FsVolumeList.java:getAllVolumesMap(225)) - Total time to add all replicas to map for block pool BP-289139721-172.17.0.11-1606980047411: 23ms
2020-12-03 07:20:53,771 [Thread-139] INFO  impl.FsDatasetImpl (FsVolumeList.java:run(204)) - Time to add replicas to map for block pool BP-289139721-172.17.0.11-1606980047411 on volume /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data3: 24ms
2020-12-03 07:20:53,773 [VolumeScannerThread(/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data2)] INFO  datanode.VolumeScanner (VolumeScanner.java:findNextUsableBlockIter(381)) - Now scanning bpid BP-289139721-172.17.0.11-1606980047411 on volume /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data2
2020-12-03 07:20:53,773 [Thread-141] INFO  impl.FsDatasetImpl (FsVolumeList.java:run(204)) - Time to add replicas to map for block pool BP-289139721-172.17.0.11-1606980047411 on volume /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data5: 9ms
2020-12-03 07:20:53,773 [Thread-105] INFO  impl.FsDatasetImpl (FsVolumeList.java:getAllVolumesMap(225)) - Total time to add all replicas to map for block pool BP-289139721-172.17.0.11-1606980047411: 27ms
2020-12-03 07:20:53,773 [VolumeScannerThread(/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data6)] INFO  datanode.VolumeScanner (VolumeScanner.java:findNextUsableBlockIter(381)) - Now scanning bpid BP-289139721-172.17.0.11-1606980047411 on volume /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data6
2020-12-03 07:20:53,774 [VolumeScannerThread(/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data5)] INFO  datanode.VolumeScanner (VolumeScanner.java:findNextUsableBlockIter(381)) - Now scanning bpid BP-289139721-172.17.0.11-1606980047411 on volume /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data5
2020-12-03 07:20:53,774 [VolumeScannerThread(/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data1)] INFO  datanode.VolumeScanner (VolumeScanner.java:findNextUsableBlockIter(381)) - Now scanning bpid BP-289139721-172.17.0.11-1606980047411 on volume /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data1
2020-12-03 07:20:53,775 [VolumeScannerThread(/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data6)] INFO  datanode.VolumeScanner (VolumeScanner.java:runLoop(539)) - VolumeScanner(/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data6, DS-557f638d-d24c-413e-a530-1084e5f0ca2d): finished scanning block pool BP-289139721-172.17.0.11-1606980047411
2020-12-03 07:20:53,775 [Thread-83] INFO  impl.FsDatasetImpl (FsVolumeList.java:getAllVolumesMap(225)) - Total time to add all replicas to map for block pool BP-289139721-172.17.0.11-1606980047411: 28ms
2020-12-03 07:20:53,775 [VolumeScannerThread(/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data3)] INFO  datanode.VolumeScanner (VolumeScanner.java:findNextUsableBlockIter(381)) - Now scanning bpid BP-289139721-172.17.0.11-1606980047411 on volume /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data3
2020-12-03 07:20:53,776 [VolumeScannerThread(/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data4)] INFO  datanode.VolumeScanner (VolumeScanner.java:findNextUsableBlockIter(381)) - Now scanning bpid BP-289139721-172.17.0.11-1606980047411 on volume /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data4
2020-12-03 07:20:53,776 [VolumeScannerThread(/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data3)] INFO  datanode.VolumeScanner (VolumeScanner.java:runLoop(539)) - VolumeScanner(/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data3, DS-01843347-4109-4ed7-95a5-187fd87ea302): finished scanning block pool BP-289139721-172.17.0.11-1606980047411
2020-12-03 07:20:53,776 [VolumeScannerThread(/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data4)] INFO  datanode.VolumeScanner (VolumeScanner.java:runLoop(539)) - VolumeScanner(/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data4, DS-8bab79cf-aa5e-4c7f-a0f4-36535a8b9d80): finished scanning block pool BP-289139721-172.17.0.11-1606980047411
2020-12-03 07:20:53,775 [VolumeScannerThread(/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data1)] INFO  datanode.VolumeScanner (VolumeScanner.java:runLoop(539)) - VolumeScanner(/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data1, DS-0d4f1707-0fea-4fd4-bd10-735d6a0eaf83): finished scanning block pool BP-289139721-172.17.0.11-1606980047411
2020-12-03 07:20:53,775 [VolumeScannerThread(/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data5)] INFO  datanode.VolumeScanner (VolumeScanner.java:runLoop(539)) - VolumeScanner(/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data5, DS-5971d83e-96ee-4d0b-a01e-4aa063a9a273): finished scanning block pool BP-289139721-172.17.0.11-1606980047411
2020-12-03 07:20:53,779 [VolumeScannerThread(/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data2)] INFO  datanode.VolumeScanner (VolumeScanner.java:runLoop(539)) - VolumeScanner(/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data2, DS-a13fc93c-0aae-460f-9db6-74b98bcd7a09): finished scanning block pool BP-289139721-172.17.0.11-1606980047411
2020-12-03 07:20:53,807 [Thread-59] INFO  datanode.DirectoryScanner (DirectoryScanner.java:start(284)) - Periodic Directory Tree Verification scan starting at 12/3/20 1:10 PM with interval of 21600000ms
2020-12-03 07:20:53,808 [Thread-105] INFO  datanode.DirectoryScanner (DirectoryScanner.java:start(284)) - Periodic Directory Tree Verification scan starting at 12/3/20 11:57 AM with interval of 21600000ms
2020-12-03 07:20:53,807 [Thread-83] INFO  datanode.DirectoryScanner (DirectoryScanner.java:start(284)) - Periodic Directory Tree Verification scan starting at 12/3/20 9:15 AM with interval of 21600000ms
2020-12-03 07:20:53,809 [VolumeScannerThread(/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data5)] INFO  datanode.VolumeScanner (VolumeScanner.java:findNextUsableBlockIter(398)) - VolumeScanner(/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data5, DS-5971d83e-96ee-4d0b-a01e-4aa063a9a273): no suitable block pools found to scan.  Waiting 1814399964 ms.
2020-12-03 07:20:53,809 [VolumeScannerThread(/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data3)] INFO  datanode.VolumeScanner (VolumeScanner.java:findNextUsableBlockIter(398)) - VolumeScanner(/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data3, DS-01843347-4109-4ed7-95a5-187fd87ea302): no suitable block pools found to scan.  Waiting 1814399966 ms.
2020-12-03 07:20:53,809 [VolumeScannerThread(/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data6)] INFO  datanode.VolumeScanner (VolumeScanner.java:findNextUsableBlockIter(398)) - VolumeScanner(/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data6, DS-557f638d-d24c-413e-a530-1084e5f0ca2d): no suitable block pools found to scan.  Waiting 1814399964 ms.
2020-12-03 07:20:53,809 [VolumeScannerThread(/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data2)] INFO  datanode.VolumeScanner (VolumeScanner.java:findNextUsableBlockIter(398)) - VolumeScanner(/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data2, DS-a13fc93c-0aae-460f-9db6-74b98bcd7a09): no suitable block pools found to scan.  Waiting 1814399963 ms.
2020-12-03 07:20:53,809 [VolumeScannerThread(/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data4)] INFO  datanode.VolumeScanner (VolumeScanner.java:findNextUsableBlockIter(398)) - VolumeScanner(/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data4, DS-8bab79cf-aa5e-4c7f-a0f4-36535a8b9d80): no suitable block pools found to scan.  Waiting 1814399966 ms.
2020-12-03 07:20:53,810 [VolumeScannerThread(/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data1)] INFO  datanode.VolumeScanner (VolumeScanner.java:findNextUsableBlockIter(398)) - VolumeScanner(/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data1, DS-0d4f1707-0fea-4fd4-bd10-735d6a0eaf83): no suitable block pools found to scan.  Waiting 1814399962 ms.
2020-12-03 07:20:53,817 [BP-289139721-172.17.0.11-1606980047411 heartbeating to localhost/127.0.0.1:39242] INFO  datanode.DataNode (BPServiceActor.java:register(767)) - Block pool BP-289139721-172.17.0.11-1606980047411 (Datanode Uuid 09827f10-a8ef-4678-ab6b-635662dd143b) service to localhost/127.0.0.1:39242 beginning handshake with NN
2020-12-03 07:20:53,817 [BP-289139721-172.17.0.11-1606980047411 heartbeating to localhost/127.0.0.1:39242] INFO  datanode.DataNode (BPServiceActor.java:register(767)) - Block pool BP-289139721-172.17.0.11-1606980047411 (Datanode Uuid 4dc3fc86-316f-46bd-b018-51709a77bcb4) service to localhost/127.0.0.1:39242 beginning handshake with NN
2020-12-03 07:20:53,817 [BP-289139721-172.17.0.11-1606980047411 heartbeating to localhost/127.0.0.1:39242] INFO  datanode.DataNode (BPServiceActor.java:register(767)) - Block pool BP-289139721-172.17.0.11-1606980047411 (Datanode Uuid cb9af4a7-3d3c-4e0a-a0a8-459be5d72fb4) service to localhost/127.0.0.1:39242 beginning handshake with NN
2020-12-03 07:20:53,817 [IPC Server handler 7 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=datanodeReport	src=null	dst=null	perm=null	proto=rpc
2020-12-03 07:20:53,818 [Listener at localhost/42308] INFO  hdfs.MiniDFSCluster (MiniDFSCluster.java:shouldWait(2782)) - dnInfo.length != numDataNodes
2020-12-03 07:20:53,819 [Listener at localhost/42308] INFO  hdfs.MiniDFSCluster (MiniDFSCluster.java:waitActive(2703)) - Waiting for cluster to become active
2020-12-03 07:20:53,831 [IPC Server handler 6 on default port 39242] INFO  hdfs.StateChange (DatanodeManager.java:registerDatanode(1042)) - BLOCK* registerDatanode: from DatanodeRegistration(127.0.0.1:43948, datanodeUuid=cb9af4a7-3d3c-4e0a-a0a8-459be5d72fb4, infoPort=39162, infoSecurePort=0, ipcPort=38553, storageInfo=lv=-57;cid=testClusterID;nsid=1644177315;c=1606980047411) storage cb9af4a7-3d3c-4e0a-a0a8-459be5d72fb4
2020-12-03 07:20:53,834 [IPC Server handler 6 on default port 39242] INFO  net.NetworkTopology (NetworkTopology.java:add(145)) - Adding a new node: /default-rack/127.0.0.1:43948
2020-12-03 07:20:53,834 [IPC Server handler 6 on default port 39242] INFO  blockmanagement.BlockReportLeaseManager (BlockReportLeaseManager.java:registerNode(204)) - Registered DN cb9af4a7-3d3c-4e0a-a0a8-459be5d72fb4 (127.0.0.1:43948).
2020-12-03 07:20:53,837 [IPC Server handler 1 on default port 39242] INFO  hdfs.StateChange (DatanodeManager.java:registerDatanode(1042)) - BLOCK* registerDatanode: from DatanodeRegistration(127.0.0.1:44445, datanodeUuid=09827f10-a8ef-4678-ab6b-635662dd143b, infoPort=36441, infoSecurePort=0, ipcPort=32989, storageInfo=lv=-57;cid=testClusterID;nsid=1644177315;c=1606980047411) storage 09827f10-a8ef-4678-ab6b-635662dd143b
2020-12-03 07:20:53,838 [IPC Server handler 1 on default port 39242] INFO  net.NetworkTopology (NetworkTopology.java:add(145)) - Adding a new node: /default-rack/127.0.0.1:44445
2020-12-03 07:20:53,839 [IPC Server handler 1 on default port 39242] INFO  blockmanagement.BlockReportLeaseManager (BlockReportLeaseManager.java:registerNode(204)) - Registered DN 09827f10-a8ef-4678-ab6b-635662dd143b (127.0.0.1:44445).
2020-12-03 07:20:53,839 [IPC Server handler 3 on default port 39242] INFO  hdfs.StateChange (DatanodeManager.java:registerDatanode(1042)) - BLOCK* registerDatanode: from DatanodeRegistration(127.0.0.1:43522, datanodeUuid=4dc3fc86-316f-46bd-b018-51709a77bcb4, infoPort=34869, infoSecurePort=0, ipcPort=42308, storageInfo=lv=-57;cid=testClusterID;nsid=1644177315;c=1606980047411) storage 4dc3fc86-316f-46bd-b018-51709a77bcb4
2020-12-03 07:20:53,840 [IPC Server handler 3 on default port 39242] INFO  net.NetworkTopology (NetworkTopology.java:add(145)) - Adding a new node: /default-rack/127.0.0.1:43522
2020-12-03 07:20:53,840 [IPC Server handler 3 on default port 39242] INFO  blockmanagement.BlockReportLeaseManager (BlockReportLeaseManager.java:registerNode(204)) - Registered DN 4dc3fc86-316f-46bd-b018-51709a77bcb4 (127.0.0.1:43522).
2020-12-03 07:20:53,841 [BP-289139721-172.17.0.11-1606980047411 heartbeating to localhost/127.0.0.1:39242] INFO  datanode.DataNode (BPServiceActor.java:register(786)) - Block pool Block pool BP-289139721-172.17.0.11-1606980047411 (Datanode Uuid cb9af4a7-3d3c-4e0a-a0a8-459be5d72fb4) service to localhost/127.0.0.1:39242 successfully registered with NN
2020-12-03 07:20:53,841 [BP-289139721-172.17.0.11-1606980047411 heartbeating to localhost/127.0.0.1:39242] INFO  datanode.DataNode (BPServiceActor.java:register(786)) - Block pool Block pool BP-289139721-172.17.0.11-1606980047411 (Datanode Uuid 09827f10-a8ef-4678-ab6b-635662dd143b) service to localhost/127.0.0.1:39242 successfully registered with NN
2020-12-03 07:20:53,841 [BP-289139721-172.17.0.11-1606980047411 heartbeating to localhost/127.0.0.1:39242] INFO  datanode.DataNode (BPServiceActor.java:offerService(616)) - For namenode localhost/127.0.0.1:39242 using BLOCKREPORT_INTERVAL of 21600000msec CACHEREPORT_INTERVAL of 10000msec Initial delay: 0msec; heartBeatInterval=1000
2020-12-03 07:20:53,841 [BP-289139721-172.17.0.11-1606980047411 heartbeating to localhost/127.0.0.1:39242] INFO  datanode.DataNode (BPServiceActor.java:offerService(616)) - For namenode localhost/127.0.0.1:39242 using BLOCKREPORT_INTERVAL of 21600000msec CACHEREPORT_INTERVAL of 10000msec Initial delay: 0msec; heartBeatInterval=1000
2020-12-03 07:20:53,842 [BP-289139721-172.17.0.11-1606980047411 heartbeating to localhost/127.0.0.1:39242] INFO  datanode.DataNode (BPServiceActor.java:register(786)) - Block pool Block pool BP-289139721-172.17.0.11-1606980047411 (Datanode Uuid 4dc3fc86-316f-46bd-b018-51709a77bcb4) service to localhost/127.0.0.1:39242 successfully registered with NN
2020-12-03 07:20:53,842 [BP-289139721-172.17.0.11-1606980047411 heartbeating to localhost/127.0.0.1:39242] INFO  datanode.DataNode (BPServiceActor.java:offerService(616)) - For namenode localhost/127.0.0.1:39242 using BLOCKREPORT_INTERVAL of 21600000msec CACHEREPORT_INTERVAL of 10000msec Initial delay: 0msec; heartBeatInterval=1000
2020-12-03 07:20:53,861 [IPC Server handler 4 on default port 39242] INFO  blockmanagement.DatanodeDescriptor (DatanodeDescriptor.java:updateStorage(987)) - Adding new storage ID DS-0d4f1707-0fea-4fd4-bd10-735d6a0eaf83 for DN 127.0.0.1:44445
2020-12-03 07:20:53,862 [IPC Server handler 4 on default port 39242] INFO  blockmanagement.DatanodeDescriptor (DatanodeDescriptor.java:updateStorage(987)) - Adding new storage ID DS-a13fc93c-0aae-460f-9db6-74b98bcd7a09 for DN 127.0.0.1:44445
2020-12-03 07:20:53,863 [IPC Server handler 2 on default port 39242] INFO  blockmanagement.DatanodeDescriptor (DatanodeDescriptor.java:updateStorage(987)) - Adding new storage ID DS-5971d83e-96ee-4d0b-a01e-4aa063a9a273 for DN 127.0.0.1:43522
2020-12-03 07:20:53,864 [IPC Server handler 2 on default port 39242] INFO  blockmanagement.DatanodeDescriptor (DatanodeDescriptor.java:updateStorage(987)) - Adding new storage ID DS-557f638d-d24c-413e-a530-1084e5f0ca2d for DN 127.0.0.1:43522
2020-12-03 07:20:53,866 [IPC Server handler 9 on default port 39242] INFO  blockmanagement.DatanodeDescriptor (DatanodeDescriptor.java:updateStorage(987)) - Adding new storage ID DS-01843347-4109-4ed7-95a5-187fd87ea302 for DN 127.0.0.1:43948
2020-12-03 07:20:53,866 [IPC Server handler 9 on default port 39242] INFO  blockmanagement.DatanodeDescriptor (DatanodeDescriptor.java:updateStorage(987)) - Adding new storage ID DS-8bab79cf-aa5e-4c7f-a0f4-36535a8b9d80 for DN 127.0.0.1:43948
2020-12-03 07:20:53,904 [Block report processor] INFO  BlockStateChange (BlockManager.java:processReport(2648)) - BLOCK* processReport 0xb66691dff82cc057: Processing first storage report for DS-a13fc93c-0aae-460f-9db6-74b98bcd7a09 from datanode 09827f10-a8ef-4678-ab6b-635662dd143b
2020-12-03 07:20:53,907 [Block report processor] INFO  BlockStateChange (BlockManager.java:processReport(2677)) - BLOCK* processReport 0xb66691dff82cc057: from storage DS-a13fc93c-0aae-460f-9db6-74b98bcd7a09 node DatanodeRegistration(127.0.0.1:44445, datanodeUuid=09827f10-a8ef-4678-ab6b-635662dd143b, infoPort=36441, infoSecurePort=0, ipcPort=32989, storageInfo=lv=-57;cid=testClusterID;nsid=1644177315;c=1606980047411), blocks: 0, hasStaleStorage: true, processing time: 2 msecs, invalidatedBlocks: 0
2020-12-03 07:20:53,907 [Block report processor] INFO  BlockStateChange (BlockManager.java:processReport(2648)) - BLOCK* processReport 0x1be17e1248aebd0f: Processing first storage report for DS-01843347-4109-4ed7-95a5-187fd87ea302 from datanode cb9af4a7-3d3c-4e0a-a0a8-459be5d72fb4
2020-12-03 07:20:53,907 [Block report processor] INFO  BlockStateChange (BlockManager.java:processReport(2677)) - BLOCK* processReport 0x1be17e1248aebd0f: from storage DS-01843347-4109-4ed7-95a5-187fd87ea302 node DatanodeRegistration(127.0.0.1:43948, datanodeUuid=cb9af4a7-3d3c-4e0a-a0a8-459be5d72fb4, infoPort=39162, infoSecurePort=0, ipcPort=38553, storageInfo=lv=-57;cid=testClusterID;nsid=1644177315;c=1606980047411), blocks: 0, hasStaleStorage: true, processing time: 0 msecs, invalidatedBlocks: 0
2020-12-03 07:20:53,907 [Block report processor] INFO  BlockStateChange (BlockManager.java:processReport(2648)) - BLOCK* processReport 0xca0e165e147b04fb: Processing first storage report for DS-5971d83e-96ee-4d0b-a01e-4aa063a9a273 from datanode 4dc3fc86-316f-46bd-b018-51709a77bcb4
2020-12-03 07:20:53,907 [Block report processor] INFO  BlockStateChange (BlockManager.java:processReport(2677)) - BLOCK* processReport 0xca0e165e147b04fb: from storage DS-5971d83e-96ee-4d0b-a01e-4aa063a9a273 node DatanodeRegistration(127.0.0.1:43522, datanodeUuid=4dc3fc86-316f-46bd-b018-51709a77bcb4, infoPort=34869, infoSecurePort=0, ipcPort=42308, storageInfo=lv=-57;cid=testClusterID;nsid=1644177315;c=1606980047411), blocks: 0, hasStaleStorage: true, processing time: 0 msecs, invalidatedBlocks: 0
2020-12-03 07:20:53,907 [Block report processor] INFO  BlockStateChange (BlockManager.java:processReport(2648)) - BLOCK* processReport 0xb66691dff82cc057: Processing first storage report for DS-0d4f1707-0fea-4fd4-bd10-735d6a0eaf83 from datanode 09827f10-a8ef-4678-ab6b-635662dd143b
2020-12-03 07:20:53,908 [Block report processor] INFO  BlockStateChange (BlockManager.java:processReport(2677)) - BLOCK* processReport 0xb66691dff82cc057: from storage DS-0d4f1707-0fea-4fd4-bd10-735d6a0eaf83 node DatanodeRegistration(127.0.0.1:44445, datanodeUuid=09827f10-a8ef-4678-ab6b-635662dd143b, infoPort=36441, infoSecurePort=0, ipcPort=32989, storageInfo=lv=-57;cid=testClusterID;nsid=1644177315;c=1606980047411), blocks: 0, hasStaleStorage: false, processing time: 0 msecs, invalidatedBlocks: 0
2020-12-03 07:20:53,908 [Block report processor] INFO  BlockStateChange (BlockManager.java:processReport(2648)) - BLOCK* processReport 0x1be17e1248aebd0f: Processing first storage report for DS-8bab79cf-aa5e-4c7f-a0f4-36535a8b9d80 from datanode cb9af4a7-3d3c-4e0a-a0a8-459be5d72fb4
2020-12-03 07:20:53,908 [Block report processor] INFO  BlockStateChange (BlockManager.java:processReport(2677)) - BLOCK* processReport 0x1be17e1248aebd0f: from storage DS-8bab79cf-aa5e-4c7f-a0f4-36535a8b9d80 node DatanodeRegistration(127.0.0.1:43948, datanodeUuid=cb9af4a7-3d3c-4e0a-a0a8-459be5d72fb4, infoPort=39162, infoSecurePort=0, ipcPort=38553, storageInfo=lv=-57;cid=testClusterID;nsid=1644177315;c=1606980047411), blocks: 0, hasStaleStorage: false, processing time: 0 msecs, invalidatedBlocks: 0
2020-12-03 07:20:53,908 [Block report processor] INFO  BlockStateChange (BlockManager.java:processReport(2648)) - BLOCK* processReport 0xca0e165e147b04fb: Processing first storage report for DS-557f638d-d24c-413e-a530-1084e5f0ca2d from datanode 4dc3fc86-316f-46bd-b018-51709a77bcb4
2020-12-03 07:20:53,908 [Block report processor] INFO  BlockStateChange (BlockManager.java:processReport(2677)) - BLOCK* processReport 0xca0e165e147b04fb: from storage DS-557f638d-d24c-413e-a530-1084e5f0ca2d node DatanodeRegistration(127.0.0.1:43522, datanodeUuid=4dc3fc86-316f-46bd-b018-51709a77bcb4, infoPort=34869, infoSecurePort=0, ipcPort=42308, storageInfo=lv=-57;cid=testClusterID;nsid=1644177315;c=1606980047411), blocks: 0, hasStaleStorage: false, processing time: 1 msecs, invalidatedBlocks: 0
2020-12-03 07:20:53,924 [IPC Server handler 7 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=datanodeReport	src=null	dst=null	perm=null	proto=rpc
2020-12-03 07:20:53,937 [BP-289139721-172.17.0.11-1606980047411 heartbeating to localhost/127.0.0.1:39242] INFO  datanode.DataNode (BPServiceActor.java:blockReport(424)) - Successfully sent block report 0x1be17e1248aebd0f,  containing 2 storage report(s), of which we sent 2. The reports had 0 total blocks and used 1 RPC(s). This took 5 msec to generate and 50 msecs for RPC and NN processing. Got back one command: FinalizeCommand/5.
2020-12-03 07:20:53,937 [BP-289139721-172.17.0.11-1606980047411 heartbeating to localhost/127.0.0.1:39242] INFO  datanode.DataNode (BPServiceActor.java:blockReport(424)) - Successfully sent block report 0xca0e165e147b04fb,  containing 2 storage report(s), of which we sent 2. The reports had 0 total blocks and used 1 RPC(s). This took 13 msec to generate and 42 msecs for RPC and NN processing. Got back one command: FinalizeCommand/5.
2020-12-03 07:20:53,937 [BP-289139721-172.17.0.11-1606980047411 heartbeating to localhost/127.0.0.1:39242] INFO  datanode.DataNode (BPServiceActor.java:blockReport(424)) - Successfully sent block report 0xb66691dff82cc057,  containing 2 storage report(s), of which we sent 2. The reports had 0 total blocks and used 1 RPC(s). This took 4 msec to generate and 52 msecs for RPC and NN processing. Got back one command: FinalizeCommand/5.
2020-12-03 07:20:53,938 [BP-289139721-172.17.0.11-1606980047411 heartbeating to localhost/127.0.0.1:39242] INFO  datanode.DataNode (BPOfferService.java:processCommandFromActive(759)) - Got finalize command for block pool BP-289139721-172.17.0.11-1606980047411
2020-12-03 07:20:53,937 [BP-289139721-172.17.0.11-1606980047411 heartbeating to localhost/127.0.0.1:39242] INFO  datanode.DataNode (BPOfferService.java:processCommandFromActive(759)) - Got finalize command for block pool BP-289139721-172.17.0.11-1606980047411
2020-12-03 07:20:53,938 [BP-289139721-172.17.0.11-1606980047411 heartbeating to localhost/127.0.0.1:39242] INFO  datanode.DataNode (BPOfferService.java:processCommandFromActive(759)) - Got finalize command for block pool BP-289139721-172.17.0.11-1606980047411
2020-12-03 07:20:53,939 [Listener at localhost/42308] INFO  hdfs.MiniDFSCluster (MiniDFSCluster.java:waitActive(2758)) - Cluster is active
2020-12-03 07:20:53,958 [IPC Server handler 1 on default port 39242] DEBUG hdfs.StateChange (NameNodeRpcServer.java:mkdirs(1139)) - *DIR* NameNode.mkdirs: /test
2020-12-03 07:20:53,960 [IPC Server handler 1 on default port 39242] DEBUG hdfs.StateChange (FSDirMkdirOp.java:mkdirs(46)) - DIR* NameSystem.mkdirs: /test
2020-12-03 07:20:53,967 [IPC Server handler 1 on default port 39242] DEBUG hdfs.StateChange (FSDirMkdirOp.java:createSingleDirectory(182)) - mkdirs: created directory /test
2020-12-03 07:20:53,968 [IPC Server handler 1 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=mkdirs	src=/test	dst=null	perm=root:supergroup:rwxr-xr-x	proto=rpc
2020-12-03 07:20:53,994 [IPC Server handler 6 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=setSpaceQuota	src=/test	dst=null	perm=null	proto=rpc
2020-12-03 07:20:54,002 [IPC Server handler 3 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=allowSnapshot	src=/test	dst=null	perm=null	proto=rpc
2020-12-03 07:20:54,009 [IPC Server handler 4 on default port 39242] DEBUG hdfs.StateChange (NameNodeRpcServer.java:mkdirs(1139)) - *DIR* NameNode.mkdirs: /test
2020-12-03 07:20:54,009 [IPC Server handler 4 on default port 39242] DEBUG hdfs.StateChange (FSDirMkdirOp.java:mkdirs(46)) - DIR* NameSystem.mkdirs: /test
2020-12-03 07:20:54,010 [IPC Server handler 4 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=mkdirs	src=/test	dst=null	perm=root:supergroup:rwxr-xr-x	proto=rpc
2020-12-03 07:20:54,027 [IPC Server handler 2 on default port 39242] DEBUG hdfs.StateChange (NameNodeRpcServer.java:create(774)) - *DIR* NameNode.create: file /test/testSnapshotWithAppendTruncate for DFSClient_NONMAPREDUCE_-1095141669_1 at 127.0.0.1
2020-12-03 07:20:54,029 [IPC Server handler 2 on default port 39242] DEBUG hdfs.StateChange (FSNamesystem.java:startFileInt(2460)) - DIR* NameSystem.startFile: src=/test/testSnapshotWithAppendTruncate, holder=DFSClient_NONMAPREDUCE_-1095141669_1, clientMachine=127.0.0.1, createParent=true, replication=3, createFlag=[CREATE, OVERWRITE], blockSize=4, supportedVersions=[CryptoProtocolVersion{description='Encryption zones', version=2, unknownValue=null}]
2020-12-03 07:20:54,044 [IPC Server handler 2 on default port 39242] DEBUG hdfs.StateChange (FSDirWriteFileOp.java:addFile(579)) - DIR* addFile: testSnapshotWithAppendTruncate is added
2020-12-03 07:20:54,047 [IPC Server handler 2 on default port 39242] DEBUG hdfs.StateChange (FSDirWriteFileOp.java:startFile(415)) - DIR* NameSystem.startFile: added /test/testSnapshotWithAppendTruncate inode 16387 DFSClient_NONMAPREDUCE_-1095141669_1
2020-12-03 07:20:54,063 [IPC Server handler 2 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=create	src=/test/testSnapshotWithAppendTruncate	dst=null	perm=root:supergroup:rw-r--r--	proto=rpc
2020-12-03 07:20:54,112 [IPC Server handler 9 on default port 39242] DEBUG hdfs.StateChange (FSNamesystem.java:getAdditionalBlock(2767)) - BLOCK* getAdditionalBlock: /test/testSnapshotWithAppendTruncate  inodeId 16387 for DFSClient_NONMAPREDUCE_-1095141669_1
2020-12-03 07:20:54,124 [IPC Server handler 9 on default port 39242] DEBUG hdfs.StateChange (FSDirWriteFileOp.java:addBlock(524)) - DIR* FSDirectory.addBlock: /test/testSnapshotWithAppendTruncate with blk_1073741825_1001 block is added to the in-memory file system
2020-12-03 07:20:54,124 [IPC Server handler 9 on default port 39242] INFO  hdfs.StateChange (FSDirWriteFileOp.java:logAllocatedBlock(798)) - BLOCK* allocate blk_1073741825_1001, replicas=127.0.0.1:43948, 127.0.0.1:44445, 127.0.0.1:43522 for /test/testSnapshotWithAppendTruncate
2020-12-03 07:20:54,125 [IPC Server handler 9 on default port 39242] DEBUG hdfs.StateChange (FSDirWriteFileOp.java:persistNewBlock(758)) - persistNewBlock: /test/testSnapshotWithAppendTruncate with new block blk_1073741825_1001, current total block count is 1
2020-12-03 07:20:54,148 [Thread-152] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:20:54,236 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:41024 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741825_1001]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741825_1001 src: /127.0.0.1:41024 dest: /127.0.0.1:43948
2020-12-03 07:20:54,269 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:41024 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741825_1001]] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:20:54,271 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:47436 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741825_1001]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741825_1001 src: /127.0.0.1:47436 dest: /127.0.0.1:44445
2020-12-03 07:20:54,273 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:47436 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741825_1001]] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:20:54,274 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:50840 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741825_1001]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741825_1001 src: /127.0.0.1:50840 dest: /127.0.0.1:43522
2020-12-03 07:20:54,315 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741825_1001, type=LAST_IN_PIPELINE] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:50840, dest: /127.0.0.1:43522, bytes: 4, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: 4dc3fc86-316f-46bd-b018-51709a77bcb4, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741825_1001, duration(ns): 19129494
2020-12-03 07:20:54,315 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741825_1001, type=LAST_IN_PIPELINE] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741825_1001, type=LAST_IN_PIPELINE terminating
2020-12-03 07:20:54,319 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741825_1001, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:43522]] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:47436, dest: /127.0.0.1:44445, bytes: 4, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: 09827f10-a8ef-4678-ab6b-635662dd143b, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741825_1001, duration(ns): 26993467
2020-12-03 07:20:54,322 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741825_1001, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:43522]] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741825_1001, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:43522] terminating
2020-12-03 07:20:54,337 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741825_1001, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:44445, 127.0.0.1:43522]] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:41024, dest: /127.0.0.1:43948, bytes: 4, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: cb9af4a7-3d3c-4e0a-a0a8-459be5d72fb4, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741825_1001, duration(ns): 36380546
2020-12-03 07:20:54,338 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741825_1001, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:44445, 127.0.0.1:43522]] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741825_1001, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:44445, 127.0.0.1:43522] terminating
2020-12-03 07:20:54,376 [IPC Server handler 1 on default port 39242] DEBUG hdfs.StateChange (FSNamesystem.java:getAdditionalBlock(2767)) - BLOCK* getAdditionalBlock: /test/testSnapshotWithAppendTruncate  inodeId 16387 for DFSClient_NONMAPREDUCE_-1095141669_1
2020-12-03 07:20:54,388 [IPC Server handler 1 on default port 39242] DEBUG hdfs.StateChange (FSDirWriteFileOp.java:addBlock(524)) - DIR* FSDirectory.addBlock: /test/testSnapshotWithAppendTruncate with blk_1073741826_1002 block is added to the in-memory file system
2020-12-03 07:20:54,388 [IPC Server handler 1 on default port 39242] INFO  hdfs.StateChange (FSDirWriteFileOp.java:logAllocatedBlock(798)) - BLOCK* allocate blk_1073741826_1002, replicas=127.0.0.1:43948, 127.0.0.1:44445, 127.0.0.1:43522 for /test/testSnapshotWithAppendTruncate
2020-12-03 07:20:54,389 [IPC Server handler 1 on default port 39242] DEBUG hdfs.StateChange (FSDirWriteFileOp.java:persistNewBlock(758)) - persistNewBlock: /test/testSnapshotWithAppendTruncate with new block blk_1073741826_1002, current total block count is 2
2020-12-03 07:20:54,392 [DataStreamer for file /test/testSnapshotWithAppendTruncate] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:20:54,396 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:41030 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741826_1002]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741826_1002 src: /127.0.0.1:41030 dest: /127.0.0.1:43948
2020-12-03 07:20:54,397 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:41030 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741826_1002]] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:20:54,401 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:47442 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741826_1002]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741826_1002 src: /127.0.0.1:47442 dest: /127.0.0.1:44445
2020-12-03 07:20:54,403 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:47442 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741826_1002]] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:20:54,407 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:50846 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741826_1002]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741826_1002 src: /127.0.0.1:50846 dest: /127.0.0.1:43522
2020-12-03 07:20:54,424 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741826_1002, type=LAST_IN_PIPELINE] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:50846, dest: /127.0.0.1:43522, bytes: 4, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: 4dc3fc86-316f-46bd-b018-51709a77bcb4, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741826_1002, duration(ns): 14035676
2020-12-03 07:20:54,425 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741826_1002, type=LAST_IN_PIPELINE] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741826_1002, type=LAST_IN_PIPELINE terminating
2020-12-03 07:20:54,432 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741826_1002, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:43522]] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:47442, dest: /127.0.0.1:44445, bytes: 4, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: 09827f10-a8ef-4678-ab6b-635662dd143b, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741826_1002, duration(ns): 17928167
2020-12-03 07:20:54,433 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741826_1002, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:43522]] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741826_1002, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:43522] terminating
2020-12-03 07:20:54,438 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741826_1002, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:44445, 127.0.0.1:43522]] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:41030, dest: /127.0.0.1:43948, bytes: 4, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: cb9af4a7-3d3c-4e0a-a0a8-459be5d72fb4, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741826_1002, duration(ns): 27455821
2020-12-03 07:20:54,438 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741826_1002, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:44445, 127.0.0.1:43522]] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741826_1002, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:44445, 127.0.0.1:43522] terminating
2020-12-03 07:20:54,444 [IPC Server handler 4 on default port 39242] DEBUG hdfs.StateChange (FSNamesystem.java:getAdditionalBlock(2767)) - BLOCK* getAdditionalBlock: /test/testSnapshotWithAppendTruncate  inodeId 16387 for DFSClient_NONMAPREDUCE_-1095141669_1
2020-12-03 07:20:54,446 [IPC Server handler 4 on default port 39242] DEBUG hdfs.StateChange (FSDirWriteFileOp.java:addBlock(524)) - DIR* FSDirectory.addBlock: /test/testSnapshotWithAppendTruncate with blk_1073741827_1003 block is added to the in-memory file system
2020-12-03 07:20:54,446 [IPC Server handler 4 on default port 39242] INFO  hdfs.StateChange (FSDirWriteFileOp.java:logAllocatedBlock(798)) - BLOCK* allocate blk_1073741827_1003, replicas=127.0.0.1:43522, 127.0.0.1:43948, 127.0.0.1:44445 for /test/testSnapshotWithAppendTruncate
2020-12-03 07:20:54,447 [IPC Server handler 4 on default port 39242] DEBUG hdfs.StateChange (FSDirWriteFileOp.java:persistNewBlock(758)) - persistNewBlock: /test/testSnapshotWithAppendTruncate with new block blk_1073741827_1003, current total block count is 3
2020-12-03 07:20:54,449 [DataStreamer for file /test/testSnapshotWithAppendTruncate] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:20:54,451 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:50848 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741827_1003]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741827_1003 src: /127.0.0.1:50848 dest: /127.0.0.1:43522
2020-12-03 07:20:54,452 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:50848 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741827_1003]] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:20:54,454 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:41038 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741827_1003]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741827_1003 src: /127.0.0.1:41038 dest: /127.0.0.1:43948
2020-12-03 07:20:54,455 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:41038 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741827_1003]] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:20:54,459 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:47450 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741827_1003]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741827_1003 src: /127.0.0.1:47450 dest: /127.0.0.1:44445
2020-12-03 07:20:54,477 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741827_1003, type=LAST_IN_PIPELINE] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:47450, dest: /127.0.0.1:44445, bytes: 2, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: 09827f10-a8ef-4678-ab6b-635662dd143b, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741827_1003, duration(ns): 14634141
2020-12-03 07:20:54,477 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741827_1003, type=LAST_IN_PIPELINE] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741827_1003, type=LAST_IN_PIPELINE terminating
2020-12-03 07:20:54,481 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741827_1003, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:44445]] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:41038, dest: /127.0.0.1:43948, bytes: 2, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: cb9af4a7-3d3c-4e0a-a0a8-459be5d72fb4, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741827_1003, duration(ns): 13090790
2020-12-03 07:20:54,486 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741827_1003, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:44445]] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741827_1003, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:44445] terminating
2020-12-03 07:20:54,491 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741827_1003, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:43948, 127.0.0.1:44445]] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:50848, dest: /127.0.0.1:43522, bytes: 2, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: 4dc3fc86-316f-46bd-b018-51709a77bcb4, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741827_1003, duration(ns): 22998315
2020-12-03 07:20:54,491 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741827_1003, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:43948, 127.0.0.1:44445]] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741827_1003, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:43948, 127.0.0.1:44445] terminating
2020-12-03 07:20:54,499 [IPC Server handler 8 on default port 39242] DEBUG hdfs.StateChange (FSDirWriteFileOp.java:completeFile(674)) - DIR* NameSystem.completeFile: /test/testSnapshotWithAppendTruncate for DFSClient_NONMAPREDUCE_-1095141669_1
2020-12-03 07:20:54,501 [IPC Server handler 8 on default port 39242] DEBUG hdfs.StateChange (FSNamesystem.java:closeFile(4036)) - closeFile: /test/testSnapshotWithAppendTruncate with 3 blocks is persisted to the file system
2020-12-03 07:20:54,501 [IPC Server handler 8 on default port 39242] INFO  hdfs.StateChange (FSNamesystem.java:completeFile(2948)) - DIR* completeFile: /test/testSnapshotWithAppendTruncate is closed by DFSClient_NONMAPREDUCE_-1095141669_1
2020-12-03 07:20:54,516 [IPC Server handler 5 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:54,543 [IPC Server handler 1 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=contentSummary	src=/test	dst=null	perm=null	proto=rpc
2020-12-03 07:20:54,589 [IPC Server handler 3 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=createSnapshot	src=/test	dst=/test/.snapshot/ss0	perm=null	proto=rpc
2020-12-03 07:20:54,595 [IPC Server handler 6 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=getfileinfo	src=/test/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:54,601 [IPC Server handler 2 on default port 39242] DEBUG hdfs.StateChange (NameNodeRpcServer.java:append(809)) - *DIR* NameNode.append: file /test/testSnapshotWithAppendTruncate for DFSClient_NONMAPREDUCE_-1095141669_1 at 127.0.0.1
2020-12-03 07:20:54,601 [IPC Server handler 2 on default port 39242] DEBUG hdfs.StateChange (FSNamesystem.java:appendFile(2710)) - DIR* NameSystem.appendFile: src=/test/testSnapshotWithAppendTruncate, holder=DFSClient_NONMAPREDUCE_-1095141669_1, clientMachine=127.0.0.1
2020-12-03 07:20:54,610 [IPC Server handler 2 on default port 39242] DEBUG hdfs.StateChange (FSDirAppendOp.java:appendFile(154)) - DIR* NameSystem.appendFile: file /test/testSnapshotWithAppendTruncate for DFSClient_NONMAPREDUCE_-1095141669_1 at 127.0.0.1 block BP-289139721-172.17.0.11-1606980047411:blk_1073741827_1003 block size 2
2020-12-03 07:20:54,611 [IPC Server handler 2 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=append	src=/test/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:54,634 [Thread-175] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:20:54,636 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:47452 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741827_1003]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741827_1003 src: /127.0.0.1:47452 dest: /127.0.0.1:44445
2020-12-03 07:20:54,637 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:47452 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741827_1003]] INFO  impl.FsDatasetImpl (FsDatasetImpl.java:append(1187)) - Appending to FinalizedReplica, blk_1073741827_1003, FINALIZED
  getNumBytes()     = 2
  getBytesOnDisk()  = 2
  getVisibleLength()= 2
  getVolume()       = /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data1
  getBlockURI()     = file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data1/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741827
2020-12-03 07:20:54,664 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:47452 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741827_1003]] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:20:54,667 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:41044 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741827_1003]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741827_1003 src: /127.0.0.1:41044 dest: /127.0.0.1:43948
2020-12-03 07:20:54,668 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:41044 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741827_1003]] INFO  impl.FsDatasetImpl (FsDatasetImpl.java:append(1187)) - Appending to FinalizedReplica, blk_1073741827_1003, FINALIZED
  getNumBytes()     = 2
  getBytesOnDisk()  = 2
  getVisibleLength()= 2
  getVolume()       = /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data3
  getBlockURI()     = file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data3/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741827
2020-12-03 07:20:54,686 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:41044 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741827_1003]] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:20:54,688 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:50858 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741827_1003]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741827_1003 src: /127.0.0.1:50858 dest: /127.0.0.1:43522
2020-12-03 07:20:54,689 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:50858 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741827_1003]] INFO  impl.FsDatasetImpl (FsDatasetImpl.java:append(1187)) - Appending to FinalizedReplica, blk_1073741827_1003, FINALIZED
  getNumBytes()     = 2
  getBytesOnDisk()  = 2
  getVisibleLength()= 2
  getVolume()       = /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data5
  getBlockURI()     = file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data5/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741827
2020-12-03 07:20:54,713 [IPC Server handler 9 on default port 39242] INFO  namenode.FSNamesystem (FSNamesystem.java:updatePipeline(5430)) - updatePipeline(blk_1073741827_1003, newGS=1004, newLength=2, newNodes=[127.0.0.1:44445, 127.0.0.1:43948, 127.0.0.1:43522], client=DFSClient_NONMAPREDUCE_-1095141669_1)
2020-12-03 07:20:54,715 [IPC Server handler 9 on default port 39242] DEBUG hdfs.StateChange (FSDirWriteFileOp.java:persistBlocks(111)) - persistBlocks: /test/testSnapshotWithAppendTruncate with 3 blocks is persisted to the file system
2020-12-03 07:20:54,715 [IPC Server handler 9 on default port 39242] INFO  namenode.FSNamesystem (FSNamesystem.java:updatePipeline(5448)) - updatePipeline(blk_1073741827_1003 => blk_1073741827_1004) success
2020-12-03 07:20:54,726 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741827_1004, type=LAST_IN_PIPELINE] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:50858, dest: /127.0.0.1:43522, bytes: 4, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: 4dc3fc86-316f-46bd-b018-51709a77bcb4, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741827_1004, duration(ns): 19172019
2020-12-03 07:20:54,727 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741827_1004, type=LAST_IN_PIPELINE] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741827_1004, type=LAST_IN_PIPELINE terminating
2020-12-03 07:20:54,730 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741827_1004, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:43522]] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:41044, dest: /127.0.0.1:43948, bytes: 4, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: cb9af4a7-3d3c-4e0a-a0a8-459be5d72fb4, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741827_1004, duration(ns): 22155779
2020-12-03 07:20:54,730 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741827_1004, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:43522]] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741827_1004, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:43522] terminating
2020-12-03 07:20:54,734 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741827_1004, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:43948, 127.0.0.1:43522]] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:47452, dest: /127.0.0.1:44445, bytes: 4, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: 09827f10-a8ef-4678-ab6b-635662dd143b, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741827_1004, duration(ns): 26941327
2020-12-03 07:20:54,735 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741827_1004, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:43948, 127.0.0.1:43522]] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741827_1004, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:43948, 127.0.0.1:43522] terminating
2020-12-03 07:20:54,736 [IPC Server handler 5 on default port 39242] DEBUG hdfs.StateChange (FSNamesystem.java:getAdditionalBlock(2767)) - BLOCK* getAdditionalBlock: /test/testSnapshotWithAppendTruncate  inodeId 16387 for DFSClient_NONMAPREDUCE_-1095141669_1
2020-12-03 07:20:54,738 [IPC Server handler 5 on default port 39242] DEBUG hdfs.StateChange (FSDirWriteFileOp.java:addBlock(524)) - DIR* FSDirectory.addBlock: /test/testSnapshotWithAppendTruncate with blk_1073741828_1005 block is added to the in-memory file system
2020-12-03 07:20:54,738 [IPC Server handler 5 on default port 39242] INFO  hdfs.StateChange (FSDirWriteFileOp.java:logAllocatedBlock(798)) - BLOCK* allocate blk_1073741828_1005, replicas=127.0.0.1:43948, 127.0.0.1:43522, 127.0.0.1:44445 for /test/testSnapshotWithAppendTruncate
2020-12-03 07:20:54,738 [IPC Server handler 5 on default port 39242] DEBUG hdfs.StateChange (FSDirWriteFileOp.java:persistNewBlock(758)) - persistNewBlock: /test/testSnapshotWithAppendTruncate with new block blk_1073741828_1005, current total block count is 4
2020-12-03 07:20:54,740 [DataStreamer for file /test/testSnapshotWithAppendTruncate] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:20:54,742 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:41048 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741828_1005]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741828_1005 src: /127.0.0.1:41048 dest: /127.0.0.1:43948
2020-12-03 07:20:54,743 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:41048 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741828_1005]] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:20:54,745 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:50862 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741828_1005]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741828_1005 src: /127.0.0.1:50862 dest: /127.0.0.1:43522
2020-12-03 07:20:54,745 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:50862 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741828_1005]] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:20:54,746 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:47462 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741828_1005]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741828_1005 src: /127.0.0.1:47462 dest: /127.0.0.1:44445
2020-12-03 07:20:54,757 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741828_1005, type=LAST_IN_PIPELINE] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:47462, dest: /127.0.0.1:44445, bytes: 3, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: 09827f10-a8ef-4678-ab6b-635662dd143b, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741828_1005, duration(ns): 8679256
2020-12-03 07:20:54,758 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741828_1005, type=LAST_IN_PIPELINE] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741828_1005, type=LAST_IN_PIPELINE terminating
2020-12-03 07:20:54,759 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741828_1005, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:44445]] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:50862, dest: /127.0.0.1:43522, bytes: 3, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: 4dc3fc86-316f-46bd-b018-51709a77bcb4, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741828_1005, duration(ns): 10554924
2020-12-03 07:20:54,760 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741828_1005, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:44445]] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741828_1005, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:44445] terminating
2020-12-03 07:20:54,762 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741828_1005, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:43522, 127.0.0.1:44445]] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:41048, dest: /127.0.0.1:43948, bytes: 3, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: cb9af4a7-3d3c-4e0a-a0a8-459be5d72fb4, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741828_1005, duration(ns): 12670308
2020-12-03 07:20:54,762 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741828_1005, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:43522, 127.0.0.1:44445]] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741828_1005, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:43522, 127.0.0.1:44445] terminating
2020-12-03 07:20:54,763 [IPC Server handler 2 on default port 39242] DEBUG hdfs.StateChange (FSDirWriteFileOp.java:completeFile(674)) - DIR* NameSystem.completeFile: /test/testSnapshotWithAppendTruncate for DFSClient_NONMAPREDUCE_-1095141669_1
2020-12-03 07:20:54,764 [IPC Server handler 2 on default port 39242] DEBUG hdfs.StateChange (FSNamesystem.java:closeFile(4036)) - closeFile: /test/testSnapshotWithAppendTruncate with 4 blocks is persisted to the file system
2020-12-03 07:20:54,765 [IPC Server handler 2 on default port 39242] INFO  hdfs.StateChange (FSNamesystem.java:completeFile(2948)) - DIR* completeFile: /test/testSnapshotWithAppendTruncate is closed by DFSClient_NONMAPREDUCE_-1095141669_1
2020-12-03 07:20:54,768 [IPC Server handler 4 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:54,773 [IPC Server handler 9 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=contentSummary	src=/test	dst=null	perm=null	proto=rpc
2020-12-03 07:20:54,775 [IPC Server handler 7 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=createSnapshot	src=/test	dst=/test/.snapshot/ss1	perm=null	proto=rpc
2020-12-03 07:20:54,779 [IPC Server handler 0 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=createSnapshot	src=/test	dst=/test/.snapshot/ss2	perm=null	proto=rpc
2020-12-03 07:20:54,781 [IPC Server handler 8 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=getfileinfo	src=/test/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:54,782 [IPC Server handler 5 on default port 39242] DEBUG hdfs.StateChange (NameNodeRpcServer.java:append(809)) - *DIR* NameNode.append: file /test/testSnapshotWithAppendTruncate for DFSClient_NONMAPREDUCE_-1095141669_1 at 127.0.0.1
2020-12-03 07:20:54,783 [IPC Server handler 5 on default port 39242] DEBUG hdfs.StateChange (FSNamesystem.java:appendFile(2710)) - DIR* NameSystem.appendFile: src=/test/testSnapshotWithAppendTruncate, holder=DFSClient_NONMAPREDUCE_-1095141669_1, clientMachine=127.0.0.1
2020-12-03 07:20:54,784 [IPC Server handler 5 on default port 39242] DEBUG hdfs.StateChange (FSDirAppendOp.java:appendFile(154)) - DIR* NameSystem.appendFile: file /test/testSnapshotWithAppendTruncate for DFSClient_NONMAPREDUCE_-1095141669_1 at 127.0.0.1 block BP-289139721-172.17.0.11-1606980047411:blk_1073741828_1005 block size 3
2020-12-03 07:20:54,784 [IPC Server handler 5 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=append	src=/test/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:54,797 [Thread-196] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:20:54,800 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:47464 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741828_1005]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741828_1005 src: /127.0.0.1:47464 dest: /127.0.0.1:44445
2020-12-03 07:20:54,800 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:47464 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741828_1005]] INFO  impl.FsDatasetImpl (FsDatasetImpl.java:append(1187)) - Appending to FinalizedReplica, blk_1073741828_1005, FINALIZED
  getNumBytes()     = 3
  getBytesOnDisk()  = 3
  getVisibleLength()= 3
  getVolume()       = /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data2
  getBlockURI()     = file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data2/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741828
2020-12-03 07:20:54,821 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:47464 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741828_1005]] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:20:54,827 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:50868 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741828_1005]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741828_1005 src: /127.0.0.1:50868 dest: /127.0.0.1:43522
2020-12-03 07:20:54,828 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:50868 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741828_1005]] INFO  impl.FsDatasetImpl (FsDatasetImpl.java:append(1187)) - Appending to FinalizedReplica, blk_1073741828_1005, FINALIZED
  getNumBytes()     = 3
  getBytesOnDisk()  = 3
  getVisibleLength()= 3
  getVolume()       = /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data6
  getBlockURI()     = file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data6/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741828
2020-12-03 07:20:54,854 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:50868 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741828_1005]] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:20:54,856 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:41058 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741828_1005]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741828_1005 src: /127.0.0.1:41058 dest: /127.0.0.1:43948
2020-12-03 07:20:54,856 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:41058 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741828_1005]] INFO  impl.FsDatasetImpl (FsDatasetImpl.java:append(1187)) - Appending to FinalizedReplica, blk_1073741828_1005, FINALIZED
  getNumBytes()     = 3
  getBytesOnDisk()  = 3
  getVisibleLength()= 3
  getVolume()       = /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data4
  getBlockURI()     = file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data4/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741828
2020-12-03 07:20:54,877 [IPC Server handler 9 on default port 39242] INFO  namenode.FSNamesystem (FSNamesystem.java:updatePipeline(5430)) - updatePipeline(blk_1073741828_1005, newGS=1006, newLength=3, newNodes=[127.0.0.1:44445, 127.0.0.1:43522, 127.0.0.1:43948], client=DFSClient_NONMAPREDUCE_-1095141669_1)
2020-12-03 07:20:54,878 [IPC Server handler 9 on default port 39242] DEBUG hdfs.StateChange (FSDirWriteFileOp.java:persistBlocks(111)) - persistBlocks: /test/testSnapshotWithAppendTruncate with 4 blocks is persisted to the file system
2020-12-03 07:20:54,878 [IPC Server handler 9 on default port 39242] INFO  namenode.FSNamesystem (FSNamesystem.java:updatePipeline(5448)) - updatePipeline(blk_1073741828_1005 => blk_1073741828_1006) success
2020-12-03 07:20:54,913 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741828_1006, type=LAST_IN_PIPELINE] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:41058, dest: /127.0.0.1:43948, bytes: 4, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: cb9af4a7-3d3c-4e0a-a0a8-459be5d72fb4, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741828_1006, duration(ns): 36570321
2020-12-03 07:20:54,914 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741828_1006, type=LAST_IN_PIPELINE] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741828_1006, type=LAST_IN_PIPELINE terminating
2020-12-03 07:20:54,925 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741828_1006, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:43948]] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:50868, dest: /127.0.0.1:43522, bytes: 4, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: 4dc3fc86-316f-46bd-b018-51709a77bcb4, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741828_1006, duration(ns): 47718012
2020-12-03 07:20:54,926 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741828_1006, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:43948]] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741828_1006, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:43948] terminating
2020-12-03 07:20:54,929 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741828_1006, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:43522, 127.0.0.1:43948]] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:47464, dest: /127.0.0.1:44445, bytes: 4, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: 09827f10-a8ef-4678-ab6b-635662dd143b, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741828_1006, duration(ns): 51699133
2020-12-03 07:20:54,929 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741828_1006, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:43522, 127.0.0.1:43948]] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741828_1006, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:43522, 127.0.0.1:43948] terminating
2020-12-03 07:20:54,930 [IPC Server handler 5 on default port 39242] DEBUG hdfs.StateChange (FSNamesystem.java:getAdditionalBlock(2767)) - BLOCK* getAdditionalBlock: /test/testSnapshotWithAppendTruncate  inodeId 16387 for DFSClient_NONMAPREDUCE_-1095141669_1
2020-12-03 07:20:54,933 [IPC Server handler 5 on default port 39242] DEBUG hdfs.StateChange (FSDirWriteFileOp.java:addBlock(524)) - DIR* FSDirectory.addBlock: /test/testSnapshotWithAppendTruncate with blk_1073741829_1007 block is added to the in-memory file system
2020-12-03 07:20:54,933 [IPC Server handler 5 on default port 39242] INFO  hdfs.StateChange (FSDirWriteFileOp.java:logAllocatedBlock(798)) - BLOCK* allocate blk_1073741829_1007, replicas=127.0.0.1:43522, 127.0.0.1:44445, 127.0.0.1:43948 for /test/testSnapshotWithAppendTruncate
2020-12-03 07:20:54,933 [IPC Server handler 5 on default port 39242] DEBUG hdfs.StateChange (FSDirWriteFileOp.java:persistNewBlock(758)) - persistNewBlock: /test/testSnapshotWithAppendTruncate with new block blk_1073741829_1007, current total block count is 5
2020-12-03 07:20:54,937 [DataStreamer for file /test/testSnapshotWithAppendTruncate] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:20:54,939 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:50872 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741829_1007]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741829_1007 src: /127.0.0.1:50872 dest: /127.0.0.1:43522
2020-12-03 07:20:54,940 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:50872 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741829_1007]] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:20:54,943 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:47472 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741829_1007]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741829_1007 src: /127.0.0.1:47472 dest: /127.0.0.1:44445
2020-12-03 07:20:54,944 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:47472 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741829_1007]] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:20:54,945 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:41064 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741829_1007]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741829_1007 src: /127.0.0.1:41064 dest: /127.0.0.1:43948
2020-12-03 07:20:54,965 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741829_1007, type=LAST_IN_PIPELINE] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:41064, dest: /127.0.0.1:43948, bytes: 4, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: cb9af4a7-3d3c-4e0a-a0a8-459be5d72fb4, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741829_1007, duration(ns): 14627081
2020-12-03 07:20:54,966 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741829_1007, type=LAST_IN_PIPELINE] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741829_1007, type=LAST_IN_PIPELINE terminating
2020-12-03 07:20:54,968 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741829_1007, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:43948]] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:47472, dest: /127.0.0.1:44445, bytes: 4, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: 09827f10-a8ef-4678-ab6b-635662dd143b, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741829_1007, duration(ns): 15111218
2020-12-03 07:20:54,969 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741829_1007, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:43948]] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741829_1007, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:43948] terminating
2020-12-03 07:20:54,969 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741829_1007, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:44445, 127.0.0.1:43948]] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:50872, dest: /127.0.0.1:43522, bytes: 4, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: 4dc3fc86-316f-46bd-b018-51709a77bcb4, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741829_1007, duration(ns): 15369946
2020-12-03 07:20:54,970 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741829_1007, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:44445, 127.0.0.1:43948]] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741829_1007, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:44445, 127.0.0.1:43948] terminating
2020-12-03 07:20:54,975 [IPC Server handler 6 on default port 39242] DEBUG hdfs.StateChange (FSDirWriteFileOp.java:completeFile(674)) - DIR* NameSystem.completeFile: /test/testSnapshotWithAppendTruncate for DFSClient_NONMAPREDUCE_-1095141669_1
2020-12-03 07:20:54,979 [IPC Server handler 6 on default port 39242] DEBUG hdfs.StateChange (FSNamesystem.java:closeFile(4036)) - closeFile: /test/testSnapshotWithAppendTruncate with 5 blocks is persisted to the file system
2020-12-03 07:20:54,979 [IPC Server handler 6 on default port 39242] INFO  hdfs.StateChange (FSNamesystem.java:completeFile(2948)) - DIR* completeFile: /test/testSnapshotWithAppendTruncate is closed by DFSClient_NONMAPREDUCE_-1095141669_1
2020-12-03 07:20:54,982 [IPC Server handler 4 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:54,988 [IPC Server handler 9 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=contentSummary	src=/test	dst=null	perm=null	proto=rpc
2020-12-03 07:20:54,993 [IPC Server handler 7 on default port 39242] DEBUG hdfs.StateChange (NameNodeRpcServer.java:truncate(1087)) - *DIR* NameNode.truncate: /test/testSnapshotWithAppendTruncate to 12
2020-12-03 07:20:54,993 [IPC Server handler 7 on default port 39242] DEBUG hdfs.StateChange (FSNamesystem.java:truncate(2136)) - DIR* NameSystem.truncate: src=/test/testSnapshotWithAppendTruncate newLength=12
2020-12-03 07:20:54,998 [IPC Server handler 7 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=truncate	src=/test/testSnapshotWithAppendTruncate	dst=null	perm=root:supergroup:rw-r--r--	proto=rpc
2020-12-03 07:20:55,005 [IPC Server handler 8 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/.snapshot/ss2/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:55,038 [Listener at localhost/42308] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:20:55,075 [Listener at localhost/42308] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:20:55,080 [Listener at localhost/42308] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:20:55,087 [IPC Server handler 0 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/.snapshot/ss1/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:55,103 [IPC Server handler 5 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/.snapshot/ss0/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:55,118 [IPC Server handler 1 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=contentSummary	src=/test	dst=null	perm=null	proto=rpc
2020-12-03 07:20:55,120 [IPC Server handler 3 on default port 39242] DEBUG hdfs.StateChange (NameNodeRpcServer.java:truncate(1087)) - *DIR* NameNode.truncate: /test/testSnapshotWithAppendTruncate to 8
2020-12-03 07:20:55,120 [IPC Server handler 3 on default port 39242] DEBUG hdfs.StateChange (FSNamesystem.java:truncate(2136)) - DIR* NameSystem.truncate: src=/test/testSnapshotWithAppendTruncate newLength=8
2020-12-03 07:20:55,121 [IPC Server handler 3 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=truncate	src=/test/testSnapshotWithAppendTruncate	dst=null	perm=root:supergroup:rw-r--r--	proto=rpc
2020-12-03 07:20:55,131 [IPC Server handler 2 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/.snapshot/ss2/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:55,156 [IPC Server handler 6 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/.snapshot/ss1/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:55,188 [IPC Server handler 4 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/.snapshot/ss0/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:55,201 [IPC Server handler 9 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=contentSummary	src=/test	dst=null	perm=null	proto=rpc
2020-12-03 07:20:55,202 [IPC Server handler 7 on default port 39242] DEBUG hdfs.StateChange (NameNodeRpcServer.java:truncate(1087)) - *DIR* NameNode.truncate: /test/testSnapshotWithAppendTruncate to 6
2020-12-03 07:20:55,202 [IPC Server handler 7 on default port 39242] DEBUG hdfs.StateChange (FSNamesystem.java:truncate(2136)) - DIR* NameSystem.truncate: src=/test/testSnapshotWithAppendTruncate newLength=6
2020-12-03 07:20:55,203 [IPC Server handler 7 on default port 39242] DEBUG hdfs.StateChange (FSDirTruncateOp.java:prepareFileForTruncate(252)) - BLOCK* prepareFileForTruncate: Scheduling copy-on-truncate to new size 2  new block blk_1073741830_1008 old block blk_1073741826_1002
2020-12-03 07:20:55,205 [IPC Server handler 7 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=truncate	src=/test/testSnapshotWithAppendTruncate	dst=null	perm=root:supergroup:rw-r--r--	proto=rpc
2020-12-03 07:20:55,207 [IPC Server handler 8 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:55,312 [IPC Server handler 0 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:55,416 [IPC Server handler 5 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:55,520 [IPC Server handler 1 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:55,627 [IPC Server handler 3 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:55,731 [IPC Server handler 2 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:55,837 [IPC Server handler 6 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:55,854 [org.apache.hadoop.hdfs.server.datanode.BlockRecoveryWorker$1@6c885a52] INFO  datanode.DataNode (BlockRecoveryWorker.java:logRecoverBlock(549)) - BlockRecoveryWorker: NameNode at localhost/127.0.0.1:39242 calls recoverBlock(BP-289139721-172.17.0.11-1606980047411:blk_1073741826_1002, targets=[DatanodeInfoWithStorage[127.0.0.1:44445,null,null], DatanodeInfoWithStorage[127.0.0.1:43522,null,null], DatanodeInfoWithStorage[127.0.0.1:43948,null,null]], newGenerationStamp=1008, newBlock=blk_1073741830_1008, isStriped=false)
2020-12-03 07:20:55,874 [IPC Server handler 3 on default port 32989] INFO  impl.FsDatasetImpl (FsDatasetImpl.java:initReplicaRecoveryImpl(2588)) - initReplicaRecovery: blk_1073741826_1002, recoveryId=1008, replica=FinalizedReplica, blk_1073741826_1002, FINALIZED
  getNumBytes()     = 4
  getBytesOnDisk()  = 4
  getVisibleLength()= 4
  getVolume()       = /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data2
  getBlockURI()     = file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data2/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741826
2020-12-03 07:20:55,874 [IPC Server handler 3 on default port 32989] INFO  impl.FsDatasetImpl (FsDatasetImpl.java:initReplicaRecoveryImpl(2646)) - initReplicaRecovery: changing replica state for blk_1073741826_1002 from FINALIZED to RUR
2020-12-03 07:20:55,878 [org.apache.hadoop.hdfs.server.datanode.BlockRecoveryWorker$1@6c885a52] INFO  impl.FsDatasetImpl (FsDatasetImpl.java:initReplicaRecoveryImpl(2588)) - initReplicaRecovery: blk_1073741826_1002, recoveryId=1008, replica=FinalizedReplica, blk_1073741826_1002, FINALIZED
  getNumBytes()     = 4
  getBytesOnDisk()  = 4
  getVisibleLength()= 4
  getVolume()       = /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data6
  getBlockURI()     = file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data6/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741826
2020-12-03 07:20:55,879 [org.apache.hadoop.hdfs.server.datanode.BlockRecoveryWorker$1@6c885a52] INFO  impl.FsDatasetImpl (FsDatasetImpl.java:initReplicaRecoveryImpl(2646)) - initReplicaRecovery: changing replica state for blk_1073741826_1002 from FINALIZED to RUR
2020-12-03 07:20:55,884 [IPC Server handler 0 on default port 38553] INFO  impl.FsDatasetImpl (FsDatasetImpl.java:initReplicaRecoveryImpl(2588)) - initReplicaRecovery: blk_1073741826_1002, recoveryId=1008, replica=FinalizedReplica, blk_1073741826_1002, FINALIZED
  getNumBytes()     = 4
  getBytesOnDisk()  = 4
  getVisibleLength()= 4
  getVolume()       = /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data4
  getBlockURI()     = file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data4/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741826
2020-12-03 07:20:55,884 [IPC Server handler 0 on default port 38553] INFO  impl.FsDatasetImpl (FsDatasetImpl.java:initReplicaRecoveryImpl(2646)) - initReplicaRecovery: changing replica state for blk_1073741826_1002 from FINALIZED to RUR
2020-12-03 07:20:55,885 [org.apache.hadoop.hdfs.server.datanode.BlockRecoveryWorker$1@6c885a52] INFO  datanode.DataNode (BlockRecoveryWorker.java:syncBlock(200)) - BlockRecoveryWorker: block=BP-289139721-172.17.0.11-1606980047411:blk_1073741826_1002 (length=4), isTruncateRecovery=true, syncList=[block:blk_1073741826_1002[numBytes=4,originalReplicaState=FINALIZED] node:DatanodeInfoWithStorage[127.0.0.1:44445,null,null], block:blk_1073741826_1002[numBytes=4,originalReplicaState=FINALIZED] node:DatanodeInfoWithStorage[127.0.0.1:43522,null,null], block:blk_1073741826_1002[numBytes=4,originalReplicaState=FINALIZED] node:DatanodeInfoWithStorage[127.0.0.1:43948,null,null]]
2020-12-03 07:20:55,886 [org.apache.hadoop.hdfs.server.datanode.BlockRecoveryWorker$1@6c885a52] INFO  datanode.DataNode (BlockRecoveryWorker.java:syncBlock(293)) - BlockRecoveryWorker: block=BP-289139721-172.17.0.11-1606980047411:blk_1073741826_1002 (length=4), bestState=FINALIZED, newBlock=BP-289139721-172.17.0.11-1606980047411:blk_1073741830_1008 (length=2), participatingList=[block:blk_1073741826_1002[numBytes=4,originalReplicaState=FINALIZED] node:DatanodeInfoWithStorage[127.0.0.1:44445,null,null], block:blk_1073741826_1002[numBytes=4,originalReplicaState=FINALIZED] node:DatanodeInfoWithStorage[127.0.0.1:43522,null,null], block:blk_1073741826_1002[numBytes=4,originalReplicaState=FINALIZED] node:DatanodeInfoWithStorage[127.0.0.1:43948,null,null]]
2020-12-03 07:20:55,889 [IPC Server handler 4 on default port 32989] INFO  impl.FsDatasetImpl (FsDatasetImpl.java:updateReplicaUnderRecovery(2667)) - updateReplica: BP-289139721-172.17.0.11-1606980047411:blk_1073741826_1002, recoveryId=1008, length=2, replica=ReplicaUnderRecovery, blk_1073741826_1002, RUR
  getNumBytes()     = 4
  getBytesOnDisk()  = 4
  getVisibleLength()= 4
  getVolume()       = /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data2
  getBlockURI()     = file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data2/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741826
  recoveryId=1008
  original=FinalizedReplica, blk_1073741826_1002, FINALIZED
  getNumBytes()     = 4
  getBytesOnDisk()  = 4
  getVisibleLength()= 4
  getVolume()       = /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data2
  getBlockURI()     = file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data2/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741826
2020-12-03 07:20:55,910 [IPC Server handler 4 on default port 32989] INFO  datanode.LocalReplica (LocalReplica.java:truncateBlock(473)) - truncateBlock: blockFile=/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data2/current/BP-289139721-172.17.0.11-1606980047411/tmp/subdir0/subdir0/blk_1073741830, metaFile=/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data2/current/BP-289139721-172.17.0.11-1606980047411/tmp/subdir0/subdir0/blk_1073741830_1008.meta, oldlen=4, newlen=2
2020-12-03 07:20:55,919 [org.apache.hadoop.hdfs.server.datanode.BlockRecoveryWorker$1@6c885a52] INFO  impl.FsDatasetImpl (FsDatasetImpl.java:updateReplicaUnderRecovery(2667)) - updateReplica: BP-289139721-172.17.0.11-1606980047411:blk_1073741826_1002[numBytes=4,originalReplicaState=FINALIZED], recoveryId=1008, length=2, replica=ReplicaUnderRecovery, blk_1073741826_1002, RUR
  getNumBytes()     = 4
  getBytesOnDisk()  = 4
  getVisibleLength()= 4
  getVolume()       = /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data6
  getBlockURI()     = file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data6/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741826
  recoveryId=1008
  original=FinalizedReplica, blk_1073741826_1002, FINALIZED
  getNumBytes()     = 4
  getBytesOnDisk()  = 4
  getVisibleLength()= 4
  getVolume()       = /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data6
  getBlockURI()     = file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data6/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741826
2020-12-03 07:20:55,938 [org.apache.hadoop.hdfs.server.datanode.BlockRecoveryWorker$1@6c885a52] INFO  datanode.LocalReplica (LocalReplica.java:truncateBlock(473)) - truncateBlock: blockFile=/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data6/current/BP-289139721-172.17.0.11-1606980047411/tmp/subdir0/subdir0/blk_1073741830, metaFile=/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data6/current/BP-289139721-172.17.0.11-1606980047411/tmp/subdir0/subdir0/blk_1073741830_1008.meta, oldlen=4, newlen=2
2020-12-03 07:20:55,940 [IPC Server handler 3 on default port 38553] INFO  impl.FsDatasetImpl (FsDatasetImpl.java:updateReplicaUnderRecovery(2667)) - updateReplica: BP-289139721-172.17.0.11-1606980047411:blk_1073741826_1002, recoveryId=1008, length=2, replica=ReplicaUnderRecovery, blk_1073741826_1002, RUR
  getNumBytes()     = 4
  getBytesOnDisk()  = 4
  getVisibleLength()= 4
  getVolume()       = /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data4
  getBlockURI()     = file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data4/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741826
  recoveryId=1008
  original=FinalizedReplica, blk_1073741826_1002, FINALIZED
  getNumBytes()     = 4
  getBytesOnDisk()  = 4
  getVisibleLength()= 4
  getVolume()       = /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data4
  getBlockURI()     = file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data4/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741826
2020-12-03 07:20:55,941 [IPC Server handler 5 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:55,961 [IPC Server handler 3 on default port 38553] INFO  datanode.LocalReplica (LocalReplica.java:truncateBlock(473)) - truncateBlock: blockFile=/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data4/current/BP-289139721-172.17.0.11-1606980047411/tmp/subdir0/subdir0/blk_1073741830, metaFile=/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data4/current/BP-289139721-172.17.0.11-1606980047411/tmp/subdir0/subdir0/blk_1073741830_1008.meta, oldlen=4, newlen=2
2020-12-03 07:20:55,968 [IPC Server handler 3 on default port 39242] INFO  namenode.FSNamesystem (FSNamesystem.java:commitBlockSynchronization(3655)) - commitBlockSynchronization(oldBlock=BP-289139721-172.17.0.11-1606980047411:blk_1073741826_1002, newgenerationstamp=1008, newlength=2, newtargets=[127.0.0.1:44445, 127.0.0.1:43522, 127.0.0.1:43948], closeFile=true, deleteBlock=false)
2020-12-03 07:20:55,969 [IPC Server handler 3 on default port 39242] DEBUG hdfs.StateChange (FSNamesystem.java:closeFile(4036)) - closeFile: /test/testSnapshotWithAppendTruncate with 2 blocks is persisted to the file system
2020-12-03 07:20:55,970 [IPC Server handler 3 on default port 39242] INFO  namenode.FSNamesystem (FSNamesystem.java:commitBlockSynchronization(3805)) - commitBlockSynchronization(oldBlock=BP-289139721-172.17.0.11-1606980047411:blk_1073741826_1002, file=/test/testSnapshotWithAppendTruncate, newBlock=blk_1073741830_1008, newlength=2, newtargets=[127.0.0.1:44445, 127.0.0.1:43522, 127.0.0.1:43948]) successful
2020-12-03 07:20:56,047 [IPC Server handler 2 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:56,052 [IPC Server handler 6 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/.snapshot/ss2/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:56,063 [IPC Server handler 4 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/.snapshot/ss1/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:56,073 [IPC Server handler 9 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/.snapshot/ss0/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:56,080 [IPC Server handler 7 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:56,091 [IPC Server handler 8 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=contentSummary	src=/test	dst=null	perm=null	proto=rpc
2020-12-03 07:20:56,094 [IPC Server handler 0 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=createSnapshot	src=/test	dst=/test/.snapshot/ss3	perm=null	proto=rpc
2020-12-03 07:20:56,100 [IPC Server handler 5 on default port 39242] DEBUG hdfs.StateChange (NameNodeRpcServer.java:delete(1103)) - *DIR* Namenode.delete: src=/test/testSnapshotWithAppendTruncate, recursive=false
2020-12-03 07:20:56,103 [IPC Server handler 5 on default port 39242] DEBUG hdfs.StateChange (FSDirDeleteOp.java:deleteInternal(180)) - DIR* NameSystem.delete: /test/testSnapshotWithAppendTruncate
2020-12-03 07:20:56,103 [IPC Server handler 5 on default port 39242] DEBUG hdfs.StateChange (FSDirDeleteOp.java:delete(55)) - DIR* FSDirectory.delete: /test/testSnapshotWithAppendTruncate
2020-12-03 07:20:56,107 [IPC Server handler 5 on default port 39242] DEBUG hdfs.StateChange (FSDirDeleteOp.java:unprotectedDelete(269)) - DIR* FSDirectory.unprotectedDelete: /test/testSnapshotWithAppendTruncate is removed
2020-12-03 07:20:56,111 [IPC Server handler 5 on default port 39242] DEBUG hdfs.StateChange (FSDirDeleteOp.java:deleteInternal(201)) - DIR* Namesystem.delete: /test/testSnapshotWithAppendTruncate is removed
2020-12-03 07:20:56,111 [IPC Server handler 5 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=delete	src=/test/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:56,116 [IPC Server handler 1 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/.snapshot/ss3/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:56,124 [IPC Server handler 3 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/.snapshot/ss2/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:56,134 [IPC Server handler 2 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/.snapshot/ss1/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:56,144 [IPC Server handler 6 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/.snapshot/ss0/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:56,164 [IPC Server handler 4 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=deleteSnapshot	src=/test/.snapshot/ss3	dst=null	perm=null	proto=rpc
2020-12-03 07:20:56,166 [IPC Server handler 9 on default port 39242] ERROR namenode.NameNode (DirectoryWithQuotaFeature.java:checkStoragespace(143)) - BUG: Inconsistent storagespace for directory /test. Cached = 84 != Computed = 0
2020-12-03 07:20:56,166 [IPC Server handler 9 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=contentSummary	src=/test	dst=null	perm=null	proto=rpc
2020-12-03 07:20:56,169 [IPC Server handler 7 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=deleteSnapshot	src=/test/.snapshot/ss0	dst=null	perm=null	proto=rpc
2020-12-03 07:20:56,171 [IPC Server handler 8 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/.snapshot/ss1/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:56,181 [IPC Server handler 0 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/.snapshot/ss2/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:56,189 [IPC Server handler 5 on default port 39242] ERROR namenode.NameNode (DirectoryWithQuotaFeature.java:checkStoragespace(143)) - BUG: Inconsistent storagespace for directory /test. Cached = 120 != Computed = 0
2020-12-03 07:20:56,190 [IPC Server handler 5 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=contentSummary	src=/test	dst=null	perm=null	proto=rpc
2020-12-03 07:20:56,192 [IPC Server handler 1 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=deleteSnapshot	src=/test/.snapshot/ss1	dst=null	perm=null	proto=rpc
2020-12-03 07:20:56,194 [IPC Server handler 3 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/.snapshot/ss2/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:56,203 [IPC Server handler 2 on default port 39242] ERROR namenode.NameNode (DirectoryWithQuotaFeature.java:checkStoragespace(143)) - BUG: Inconsistent storagespace for directory /test. Cached = 120 != Computed = 0
2020-12-03 07:20:56,203 [IPC Server handler 2 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=contentSummary	src=/test	dst=null	perm=null	proto=rpc
2020-12-03 07:20:56,205 [IPC Server handler 6 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=getfileinfo	src=/test/.snapshot/ss0/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:56,207 [IPC Server handler 4 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=deleteSnapshot	src=/test/.snapshot/ss2	dst=null	perm=null	proto=rpc
2020-12-03 07:20:56,208 [IPC Server handler 9 on default port 39242] ERROR namenode.NameNode (DirectoryWithQuotaFeature.java:checkStoragespace(143)) - BUG: Inconsistent storagespace for directory /test. Cached = 72 != Computed = 0
2020-12-03 07:20:56,209 [IPC Server handler 9 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=contentSummary	src=/test	dst=null	perm=null	proto=rpc
2020-12-03 07:20:56,210 [IPC Server handler 7 on default port 39242] DEBUG hdfs.StateChange (NameNodeRpcServer.java:mkdirs(1139)) - *DIR* NameNode.mkdirs: /test
2020-12-03 07:20:56,210 [IPC Server handler 7 on default port 39242] DEBUG hdfs.StateChange (FSDirMkdirOp.java:mkdirs(46)) - DIR* NameSystem.mkdirs: /test
2020-12-03 07:20:56,211 [IPC Server handler 7 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=mkdirs	src=/test	dst=null	perm=root:supergroup:rwxr-xr-x	proto=rpc
2020-12-03 07:20:56,212 [IPC Server handler 8 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=setSpaceQuota	src=/test	dst=null	perm=null	proto=rpc
2020-12-03 07:20:56,213 [IPC Server handler 0 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=allowSnapshot	src=/test	dst=null	perm=null	proto=rpc
2020-12-03 07:20:56,214 [IPC Server handler 5 on default port 39242] DEBUG hdfs.StateChange (NameNodeRpcServer.java:mkdirs(1139)) - *DIR* NameNode.mkdirs: /test
2020-12-03 07:20:56,214 [IPC Server handler 5 on default port 39242] DEBUG hdfs.StateChange (FSDirMkdirOp.java:mkdirs(46)) - DIR* NameSystem.mkdirs: /test
2020-12-03 07:20:56,214 [IPC Server handler 5 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=mkdirs	src=/test	dst=null	perm=root:supergroup:rwxr-xr-x	proto=rpc
2020-12-03 07:20:56,215 [IPC Server handler 1 on default port 39242] DEBUG hdfs.StateChange (NameNodeRpcServer.java:create(774)) - *DIR* NameNode.create: file /test/testSnapshotWithAppendTruncate for DFSClient_NONMAPREDUCE_-1095141669_1 at 127.0.0.1
2020-12-03 07:20:56,215 [IPC Server handler 1 on default port 39242] DEBUG hdfs.StateChange (FSNamesystem.java:startFileInt(2460)) - DIR* NameSystem.startFile: src=/test/testSnapshotWithAppendTruncate, holder=DFSClient_NONMAPREDUCE_-1095141669_1, clientMachine=127.0.0.1, createParent=true, replication=3, createFlag=[CREATE, OVERWRITE], blockSize=4, supportedVersions=[CryptoProtocolVersion{description='Encryption zones', version=2, unknownValue=null}]
2020-12-03 07:20:56,216 [IPC Server handler 1 on default port 39242] DEBUG hdfs.StateChange (FSDirWriteFileOp.java:addFile(579)) - DIR* addFile: testSnapshotWithAppendTruncate is added
2020-12-03 07:20:56,216 [IPC Server handler 1 on default port 39242] DEBUG hdfs.StateChange (FSDirWriteFileOp.java:startFile(415)) - DIR* NameSystem.startFile: added /test/testSnapshotWithAppendTruncate inode 16388 DFSClient_NONMAPREDUCE_-1095141669_1
2020-12-03 07:20:56,216 [IPC Server handler 1 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=create	src=/test/testSnapshotWithAppendTruncate	dst=null	perm=root:supergroup:rw-r--r--	proto=rpc
2020-12-03 07:20:56,218 [IPC Server handler 3 on default port 39242] DEBUG hdfs.StateChange (FSNamesystem.java:getAdditionalBlock(2767)) - BLOCK* getAdditionalBlock: /test/testSnapshotWithAppendTruncate  inodeId 16388 for DFSClient_NONMAPREDUCE_-1095141669_1
2020-12-03 07:20:56,220 [IPC Server handler 3 on default port 39242] DEBUG hdfs.StateChange (FSDirWriteFileOp.java:addBlock(524)) - DIR* FSDirectory.addBlock: /test/testSnapshotWithAppendTruncate with blk_1073741831_1009 block is added to the in-memory file system
2020-12-03 07:20:56,220 [IPC Server handler 3 on default port 39242] INFO  hdfs.StateChange (FSDirWriteFileOp.java:logAllocatedBlock(798)) - BLOCK* allocate blk_1073741831_1009, replicas=127.0.0.1:43522, 127.0.0.1:43948, 127.0.0.1:44445 for /test/testSnapshotWithAppendTruncate
2020-12-03 07:20:56,220 [IPC Server handler 3 on default port 39242] DEBUG hdfs.StateChange (FSDirWriteFileOp.java:persistNewBlock(758)) - persistNewBlock: /test/testSnapshotWithAppendTruncate with new block blk_1073741831_1009, current total block count is 1
2020-12-03 07:20:56,221 [Thread-230] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:20:56,223 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:50892 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741831_1009]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741831_1009 src: /127.0.0.1:50892 dest: /127.0.0.1:43522
2020-12-03 07:20:56,223 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:50892 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741831_1009]] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:20:56,224 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:41082 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741831_1009]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741831_1009 src: /127.0.0.1:41082 dest: /127.0.0.1:43948
2020-12-03 07:20:56,225 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:41082 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741831_1009]] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:20:56,226 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:47494 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741831_1009]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741831_1009 src: /127.0.0.1:47494 dest: /127.0.0.1:44445
2020-12-03 07:20:56,236 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741831_1009, type=LAST_IN_PIPELINE] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:47494, dest: /127.0.0.1:44445, bytes: 4, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: 09827f10-a8ef-4678-ab6b-635662dd143b, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741831_1009, duration(ns): 9113564
2020-12-03 07:20:56,237 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741831_1009, type=LAST_IN_PIPELINE] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741831_1009, type=LAST_IN_PIPELINE terminating
2020-12-03 07:20:56,238 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741831_1009, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:44445]] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:41082, dest: /127.0.0.1:43948, bytes: 4, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: cb9af4a7-3d3c-4e0a-a0a8-459be5d72fb4, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741831_1009, duration(ns): 10353025
2020-12-03 07:20:56,238 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741831_1009, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:44445]] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741831_1009, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:44445] terminating
2020-12-03 07:20:56,239 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741831_1009, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:43948, 127.0.0.1:44445]] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:50892, dest: /127.0.0.1:43522, bytes: 4, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: 4dc3fc86-316f-46bd-b018-51709a77bcb4, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741831_1009, duration(ns): 10979401
2020-12-03 07:20:56,239 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741831_1009, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:43948, 127.0.0.1:44445]] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741831_1009, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:43948, 127.0.0.1:44445] terminating
2020-12-03 07:20:56,240 [IPC Server handler 9 on default port 39242] DEBUG hdfs.StateChange (FSNamesystem.java:getAdditionalBlock(2767)) - BLOCK* getAdditionalBlock: /test/testSnapshotWithAppendTruncate  inodeId 16388 for DFSClient_NONMAPREDUCE_-1095141669_1
2020-12-03 07:20:56,242 [IPC Server handler 9 on default port 39242] DEBUG hdfs.StateChange (FSDirWriteFileOp.java:addBlock(524)) - DIR* FSDirectory.addBlock: /test/testSnapshotWithAppendTruncate with blk_1073741832_1010 block is added to the in-memory file system
2020-12-03 07:20:56,242 [IPC Server handler 9 on default port 39242] INFO  hdfs.StateChange (FSDirWriteFileOp.java:logAllocatedBlock(798)) - BLOCK* allocate blk_1073741832_1010, replicas=127.0.0.1:43522, 127.0.0.1:43948, 127.0.0.1:44445 for /test/testSnapshotWithAppendTruncate
2020-12-03 07:20:56,242 [IPC Server handler 9 on default port 39242] DEBUG hdfs.StateChange (FSDirWriteFileOp.java:persistNewBlock(758)) - persistNewBlock: /test/testSnapshotWithAppendTruncate with new block blk_1073741832_1010, current total block count is 2
2020-12-03 07:20:56,244 [DataStreamer for file /test/testSnapshotWithAppendTruncate] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:20:56,245 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:50898 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741832_1010]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741832_1010 src: /127.0.0.1:50898 dest: /127.0.0.1:43522
2020-12-03 07:20:56,245 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:50898 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741832_1010]] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:20:56,246 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:41088 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741832_1010]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741832_1010 src: /127.0.0.1:41088 dest: /127.0.0.1:43948
2020-12-03 07:20:56,247 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:41088 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741832_1010]] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:20:56,248 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:47500 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741832_1010]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741832_1010 src: /127.0.0.1:47500 dest: /127.0.0.1:44445
2020-12-03 07:20:56,254 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741832_1010, type=LAST_IN_PIPELINE] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:47500, dest: /127.0.0.1:44445, bytes: 4, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: 09827f10-a8ef-4678-ab6b-635662dd143b, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741832_1010, duration(ns): 4226120
2020-12-03 07:20:56,255 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741832_1010, type=LAST_IN_PIPELINE] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741832_1010, type=LAST_IN_PIPELINE terminating
2020-12-03 07:20:56,256 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741832_1010, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:44445]] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:41088, dest: /127.0.0.1:43948, bytes: 4, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: cb9af4a7-3d3c-4e0a-a0a8-459be5d72fb4, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741832_1010, duration(ns): 6053036
2020-12-03 07:20:56,256 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741832_1010, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:44445]] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741832_1010, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:44445] terminating
2020-12-03 07:20:56,257 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741832_1010, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:43948, 127.0.0.1:44445]] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:50898, dest: /127.0.0.1:43522, bytes: 4, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: 4dc3fc86-316f-46bd-b018-51709a77bcb4, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741832_1010, duration(ns): 7192184
2020-12-03 07:20:56,257 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741832_1010, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:43948, 127.0.0.1:44445]] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741832_1010, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:43948, 127.0.0.1:44445] terminating
2020-12-03 07:20:56,258 [IPC Server handler 5 on default port 39242] DEBUG hdfs.StateChange (FSNamesystem.java:getAdditionalBlock(2767)) - BLOCK* getAdditionalBlock: /test/testSnapshotWithAppendTruncate  inodeId 16388 for DFSClient_NONMAPREDUCE_-1095141669_1
2020-12-03 07:20:56,260 [IPC Server handler 5 on default port 39242] DEBUG hdfs.StateChange (FSDirWriteFileOp.java:addBlock(524)) - DIR* FSDirectory.addBlock: /test/testSnapshotWithAppendTruncate with blk_1073741833_1011 block is added to the in-memory file system
2020-12-03 07:20:56,260 [IPC Server handler 5 on default port 39242] INFO  hdfs.StateChange (FSDirWriteFileOp.java:logAllocatedBlock(798)) - BLOCK* allocate blk_1073741833_1011, replicas=127.0.0.1:43948, 127.0.0.1:43522, 127.0.0.1:44445 for /test/testSnapshotWithAppendTruncate
2020-12-03 07:20:56,260 [IPC Server handler 5 on default port 39242] DEBUG hdfs.StateChange (FSDirWriteFileOp.java:persistNewBlock(758)) - persistNewBlock: /test/testSnapshotWithAppendTruncate with new block blk_1073741833_1011, current total block count is 3
2020-12-03 07:20:56,261 [DataStreamer for file /test/testSnapshotWithAppendTruncate] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:20:56,262 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:41092 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741833_1011]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741833_1011 src: /127.0.0.1:41092 dest: /127.0.0.1:43948
2020-12-03 07:20:56,263 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:41092 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741833_1011]] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:20:56,264 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:50906 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741833_1011]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741833_1011 src: /127.0.0.1:50906 dest: /127.0.0.1:43522
2020-12-03 07:20:56,264 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:50906 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741833_1011]] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:20:56,265 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:47506 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741833_1011]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741833_1011 src: /127.0.0.1:47506 dest: /127.0.0.1:44445
2020-12-03 07:20:56,273 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741833_1011, type=LAST_IN_PIPELINE] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:47506, dest: /127.0.0.1:44445, bytes: 2, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: 09827f10-a8ef-4678-ab6b-635662dd143b, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741833_1011, duration(ns): 5826283
2020-12-03 07:20:56,273 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741833_1011, type=LAST_IN_PIPELINE] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741833_1011, type=LAST_IN_PIPELINE terminating
2020-12-03 07:20:56,274 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741833_1011, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:44445]] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:50906, dest: /127.0.0.1:43522, bytes: 2, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: 4dc3fc86-316f-46bd-b018-51709a77bcb4, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741833_1011, duration(ns): 6882360
2020-12-03 07:20:56,274 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741833_1011, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:44445]] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741833_1011, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:44445] terminating
2020-12-03 07:20:56,276 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741833_1011, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:43522, 127.0.0.1:44445]] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:41092, dest: /127.0.0.1:43948, bytes: 2, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: cb9af4a7-3d3c-4e0a-a0a8-459be5d72fb4, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741833_1011, duration(ns): 8097397
2020-12-03 07:20:56,276 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741833_1011, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:43522, 127.0.0.1:44445]] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741833_1011, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:43522, 127.0.0.1:44445] terminating
2020-12-03 07:20:56,277 [IPC Server handler 6 on default port 39242] DEBUG hdfs.StateChange (FSDirWriteFileOp.java:completeFile(674)) - DIR* NameSystem.completeFile: /test/testSnapshotWithAppendTruncate for DFSClient_NONMAPREDUCE_-1095141669_1
2020-12-03 07:20:56,278 [IPC Server handler 6 on default port 39242] DEBUG hdfs.StateChange (FSNamesystem.java:closeFile(4036)) - closeFile: /test/testSnapshotWithAppendTruncate with 3 blocks is persisted to the file system
2020-12-03 07:20:56,278 [IPC Server handler 6 on default port 39242] INFO  hdfs.StateChange (FSNamesystem.java:completeFile(2948)) - DIR* completeFile: /test/testSnapshotWithAppendTruncate is closed by DFSClient_NONMAPREDUCE_-1095141669_1
2020-12-03 07:20:56,279 [IPC Server handler 4 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:56,281 [IPC Server handler 9 on default port 39242] ERROR namenode.NameNode (DirectoryWithQuotaFeature.java:checkStoragespace(143)) - BUG: Inconsistent storagespace for directory /test. Cached = 102 != Computed = 30
2020-12-03 07:20:56,282 [IPC Server handler 9 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=contentSummary	src=/test	dst=null	perm=null	proto=rpc
2020-12-03 07:20:56,283 [IPC Server handler 7 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=createSnapshot	src=/test	dst=/test/.snapshot/ss0	perm=null	proto=rpc
2020-12-03 07:20:56,284 [IPC Server handler 8 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=getfileinfo	src=/test/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:56,285 [IPC Server handler 0 on default port 39242] DEBUG hdfs.StateChange (NameNodeRpcServer.java:append(809)) - *DIR* NameNode.append: file /test/testSnapshotWithAppendTruncate for DFSClient_NONMAPREDUCE_-1095141669_1 at 127.0.0.1
2020-12-03 07:20:56,285 [IPC Server handler 0 on default port 39242] DEBUG hdfs.StateChange (FSNamesystem.java:appendFile(2710)) - DIR* NameSystem.appendFile: src=/test/testSnapshotWithAppendTruncate, holder=DFSClient_NONMAPREDUCE_-1095141669_1, clientMachine=127.0.0.1
2020-12-03 07:20:56,286 [IPC Server handler 0 on default port 39242] DEBUG hdfs.StateChange (FSDirAppendOp.java:appendFile(154)) - DIR* NameSystem.appendFile: file /test/testSnapshotWithAppendTruncate for DFSClient_NONMAPREDUCE_-1095141669_1 at 127.0.0.1 block BP-289139721-172.17.0.11-1606980047411:blk_1073741833_1011 block size 2
2020-12-03 07:20:56,286 [IPC Server handler 0 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=append	src=/test/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:56,290 [Thread-252] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:20:56,291 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:47508 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741833_1011]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741833_1011 src: /127.0.0.1:47508 dest: /127.0.0.1:44445
2020-12-03 07:20:56,291 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:47508 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741833_1011]] INFO  impl.FsDatasetImpl (FsDatasetImpl.java:append(1187)) - Appending to FinalizedReplica, blk_1073741833_1011, FINALIZED
  getNumBytes()     = 2
  getBytesOnDisk()  = 2
  getVisibleLength()= 2
  getVolume()       = /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data2
  getBlockURI()     = file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data2/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741833
2020-12-03 07:20:56,311 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:47508 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741833_1011]] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:20:56,312 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:50912 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741833_1011]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741833_1011 src: /127.0.0.1:50912 dest: /127.0.0.1:43522
2020-12-03 07:20:56,312 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:50912 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741833_1011]] INFO  impl.FsDatasetImpl (FsDatasetImpl.java:append(1187)) - Appending to FinalizedReplica, blk_1073741833_1011, FINALIZED
  getNumBytes()     = 2
  getBytesOnDisk()  = 2
  getVisibleLength()= 2
  getVolume()       = /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data6
  getBlockURI()     = file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data6/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741833
2020-12-03 07:20:56,346 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:50912 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741833_1011]] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:20:56,348 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:41102 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741833_1011]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741833_1011 src: /127.0.0.1:41102 dest: /127.0.0.1:43948
2020-12-03 07:20:56,349 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:41102 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741833_1011]] INFO  impl.FsDatasetImpl (FsDatasetImpl.java:append(1187)) - Appending to FinalizedReplica, blk_1073741833_1011, FINALIZED
  getNumBytes()     = 2
  getBytesOnDisk()  = 2
  getVisibleLength()= 2
  getVolume()       = /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data4
  getBlockURI()     = file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data4/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741833
2020-12-03 07:20:56,405 [IPC Server handler 1 on default port 39242] INFO  namenode.FSNamesystem (FSNamesystem.java:updatePipeline(5430)) - updatePipeline(blk_1073741833_1011, newGS=1012, newLength=2, newNodes=[127.0.0.1:44445, 127.0.0.1:43522, 127.0.0.1:43948], client=DFSClient_NONMAPREDUCE_-1095141669_1)
2020-12-03 07:20:56,405 [IPC Server handler 1 on default port 39242] DEBUG hdfs.StateChange (FSDirWriteFileOp.java:persistBlocks(111)) - persistBlocks: /test/testSnapshotWithAppendTruncate with 3 blocks is persisted to the file system
2020-12-03 07:20:56,406 [IPC Server handler 1 on default port 39242] INFO  namenode.FSNamesystem (FSNamesystem.java:updatePipeline(5448)) - updatePipeline(blk_1073741833_1011 => blk_1073741833_1012) success
2020-12-03 07:20:56,425 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741833_1012, type=LAST_IN_PIPELINE] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:41102, dest: /127.0.0.1:43948, bytes: 4, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: cb9af4a7-3d3c-4e0a-a0a8-459be5d72fb4, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741833_1012, duration(ns): 21693501
2020-12-03 07:20:56,425 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741833_1012, type=LAST_IN_PIPELINE] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741833_1012, type=LAST_IN_PIPELINE terminating
2020-12-03 07:20:56,427 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741833_1012, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:43948]] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:50912, dest: /127.0.0.1:43522, bytes: 4, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: 4dc3fc86-316f-46bd-b018-51709a77bcb4, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741833_1012, duration(ns): 20004452
2020-12-03 07:20:56,428 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741833_1012, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:43948]] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741833_1012, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:43948] terminating
2020-12-03 07:20:56,430 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741833_1012, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:43522, 127.0.0.1:43948]] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:47508, dest: /127.0.0.1:44445, bytes: 4, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: 09827f10-a8ef-4678-ab6b-635662dd143b, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741833_1012, duration(ns): 22821974
2020-12-03 07:20:56,430 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741833_1012, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:43522, 127.0.0.1:43948]] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741833_1012, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:43522, 127.0.0.1:43948] terminating
2020-12-03 07:20:56,433 [IPC Server handler 4 on default port 39242] DEBUG hdfs.StateChange (FSNamesystem.java:getAdditionalBlock(2767)) - BLOCK* getAdditionalBlock: /test/testSnapshotWithAppendTruncate  inodeId 16388 for DFSClient_NONMAPREDUCE_-1095141669_1
2020-12-03 07:20:56,435 [IPC Server handler 4 on default port 39242] DEBUG hdfs.StateChange (FSDirWriteFileOp.java:addBlock(524)) - DIR* FSDirectory.addBlock: /test/testSnapshotWithAppendTruncate with blk_1073741834_1013 block is added to the in-memory file system
2020-12-03 07:20:56,435 [IPC Server handler 4 on default port 39242] INFO  hdfs.StateChange (FSDirWriteFileOp.java:logAllocatedBlock(798)) - BLOCK* allocate blk_1073741834_1013, replicas=127.0.0.1:43948, 127.0.0.1:43522, 127.0.0.1:44445 for /test/testSnapshotWithAppendTruncate
2020-12-03 07:20:56,435 [IPC Server handler 4 on default port 39242] DEBUG hdfs.StateChange (FSDirWriteFileOp.java:persistNewBlock(758)) - persistNewBlock: /test/testSnapshotWithAppendTruncate with new block blk_1073741834_1013, current total block count is 4
2020-12-03 07:20:56,438 [DataStreamer for file /test/testSnapshotWithAppendTruncate] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:20:56,439 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:41104 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741834_1013]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741834_1013 src: /127.0.0.1:41104 dest: /127.0.0.1:43948
2020-12-03 07:20:56,440 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:41104 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741834_1013]] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:20:56,441 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:50918 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741834_1013]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741834_1013 src: /127.0.0.1:50918 dest: /127.0.0.1:43522
2020-12-03 07:20:56,442 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:50918 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741834_1013]] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:20:56,442 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:47518 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741834_1013]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741834_1013 src: /127.0.0.1:47518 dest: /127.0.0.1:44445
2020-12-03 07:20:56,450 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741834_1013, type=LAST_IN_PIPELINE] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:47518, dest: /127.0.0.1:44445, bytes: 3, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: 09827f10-a8ef-4678-ab6b-635662dd143b, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741834_1013, duration(ns): 5439498
2020-12-03 07:20:56,450 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741834_1013, type=LAST_IN_PIPELINE] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741834_1013, type=LAST_IN_PIPELINE terminating
2020-12-03 07:20:56,451 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741834_1013, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:44445]] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:50918, dest: /127.0.0.1:43522, bytes: 3, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: 4dc3fc86-316f-46bd-b018-51709a77bcb4, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741834_1013, duration(ns): 6613837
2020-12-03 07:20:56,451 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741834_1013, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:44445]] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741834_1013, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:44445] terminating
2020-12-03 07:20:56,452 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741834_1013, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:43522, 127.0.0.1:44445]] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:41104, dest: /127.0.0.1:43948, bytes: 3, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: cb9af4a7-3d3c-4e0a-a0a8-459be5d72fb4, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741834_1013, duration(ns): 7372861
2020-12-03 07:20:56,452 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741834_1013, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:43522, 127.0.0.1:44445]] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741834_1013, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:43522, 127.0.0.1:44445] terminating
2020-12-03 07:20:56,453 [IPC Server handler 8 on default port 39242] DEBUG hdfs.StateChange (FSDirWriteFileOp.java:completeFile(674)) - DIR* NameSystem.completeFile: /test/testSnapshotWithAppendTruncate for DFSClient_NONMAPREDUCE_-1095141669_1
2020-12-03 07:20:56,454 [IPC Server handler 8 on default port 39242] DEBUG hdfs.StateChange (FSNamesystem.java:closeFile(4036)) - closeFile: /test/testSnapshotWithAppendTruncate with 4 blocks is persisted to the file system
2020-12-03 07:20:56,454 [IPC Server handler 8 on default port 39242] INFO  hdfs.StateChange (FSNamesystem.java:completeFile(2948)) - DIR* completeFile: /test/testSnapshotWithAppendTruncate is closed by DFSClient_NONMAPREDUCE_-1095141669_1
2020-12-03 07:20:56,456 [IPC Server handler 5 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:56,459 [IPC Server handler 1 on default port 39242] ERROR namenode.NameNode (DirectoryWithQuotaFeature.java:checkStoragespace(143)) - BUG: Inconsistent storagespace for directory /test. Cached = 117 != Computed = 45
2020-12-03 07:20:56,459 [IPC Server handler 1 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=contentSummary	src=/test	dst=null	perm=null	proto=rpc
2020-12-03 07:20:56,468 [IPC Server handler 3 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=createSnapshot	src=/test	dst=/test/.snapshot/ss1	perm=null	proto=rpc
2020-12-03 07:20:56,470 [IPC Server handler 2 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=createSnapshot	src=/test	dst=/test/.snapshot/ss2	perm=null	proto=rpc
2020-12-03 07:20:56,475 [IPC Server handler 6 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=getfileinfo	src=/test/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:56,477 [IPC Server handler 4 on default port 39242] DEBUG hdfs.StateChange (NameNodeRpcServer.java:append(809)) - *DIR* NameNode.append: file /test/testSnapshotWithAppendTruncate for DFSClient_NONMAPREDUCE_-1095141669_1 at 127.0.0.1
2020-12-03 07:20:56,478 [IPC Server handler 4 on default port 39242] DEBUG hdfs.StateChange (FSNamesystem.java:appendFile(2710)) - DIR* NameSystem.appendFile: src=/test/testSnapshotWithAppendTruncate, holder=DFSClient_NONMAPREDUCE_-1095141669_1, clientMachine=127.0.0.1
2020-12-03 07:20:56,479 [IPC Server handler 4 on default port 39242] DEBUG hdfs.StateChange (FSDirAppendOp.java:appendFile(154)) - DIR* NameSystem.appendFile: file /test/testSnapshotWithAppendTruncate for DFSClient_NONMAPREDUCE_-1095141669_1 at 127.0.0.1 block BP-289139721-172.17.0.11-1606980047411:blk_1073741834_1013 block size 3
2020-12-03 07:20:56,479 [IPC Server handler 4 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=append	src=/test/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:56,487 [Thread-273] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:20:56,491 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:47520 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741834_1013]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741834_1013 src: /127.0.0.1:47520 dest: /127.0.0.1:44445
2020-12-03 07:20:56,491 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:47520 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741834_1013]] INFO  impl.FsDatasetImpl (FsDatasetImpl.java:append(1187)) - Appending to FinalizedReplica, blk_1073741834_1013, FINALIZED
  getNumBytes()     = 3
  getBytesOnDisk()  = 3
  getVisibleLength()= 3
  getVolume()       = /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data1
  getBlockURI()     = file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data1/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741834
2020-12-03 07:20:56,538 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:47520 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741834_1013]] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:20:56,544 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:50924 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741834_1013]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741834_1013 src: /127.0.0.1:50924 dest: /127.0.0.1:43522
2020-12-03 07:20:56,545 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:50924 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741834_1013]] INFO  impl.FsDatasetImpl (FsDatasetImpl.java:append(1187)) - Appending to FinalizedReplica, blk_1073741834_1013, FINALIZED
  getNumBytes()     = 3
  getBytesOnDisk()  = 3
  getVisibleLength()= 3
  getVolume()       = /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data5
  getBlockURI()     = file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data5/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741834
2020-12-03 07:20:56,564 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:50924 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741834_1013]] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:20:56,565 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:41114 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741834_1013]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741834_1013 src: /127.0.0.1:41114 dest: /127.0.0.1:43948
2020-12-03 07:20:56,565 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:41114 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741834_1013]] INFO  impl.FsDatasetImpl (FsDatasetImpl.java:append(1187)) - Appending to FinalizedReplica, blk_1073741834_1013, FINALIZED
  getNumBytes()     = 3
  getBytesOnDisk()  = 3
  getVisibleLength()= 3
  getVolume()       = /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data3
  getBlockURI()     = file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data3/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741834
2020-12-03 07:20:56,585 [IPC Server handler 7 on default port 39242] INFO  namenode.FSNamesystem (FSNamesystem.java:updatePipeline(5430)) - updatePipeline(blk_1073741834_1013, newGS=1014, newLength=3, newNodes=[127.0.0.1:44445, 127.0.0.1:43522, 127.0.0.1:43948], client=DFSClient_NONMAPREDUCE_-1095141669_1)
2020-12-03 07:20:56,585 [IPC Server handler 7 on default port 39242] DEBUG hdfs.StateChange (FSDirWriteFileOp.java:persistBlocks(111)) - persistBlocks: /test/testSnapshotWithAppendTruncate with 4 blocks is persisted to the file system
2020-12-03 07:20:56,585 [IPC Server handler 7 on default port 39242] INFO  namenode.FSNamesystem (FSNamesystem.java:updatePipeline(5448)) - updatePipeline(blk_1073741834_1013 => blk_1073741834_1014) success
2020-12-03 07:20:56,591 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741834_1014, type=LAST_IN_PIPELINE] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:41114, dest: /127.0.0.1:43948, bytes: 4, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: cb9af4a7-3d3c-4e0a-a0a8-459be5d72fb4, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741834_1014, duration(ns): 7230081
2020-12-03 07:20:56,592 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741834_1014, type=LAST_IN_PIPELINE] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741834_1014, type=LAST_IN_PIPELINE terminating
2020-12-03 07:20:56,594 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741834_1014, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:43948]] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:50924, dest: /127.0.0.1:43522, bytes: 4, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: 4dc3fc86-316f-46bd-b018-51709a77bcb4, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741834_1014, duration(ns): 9204336
2020-12-03 07:20:56,594 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741834_1014, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:43948]] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741834_1014, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:43948] terminating
2020-12-03 07:20:56,596 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741834_1014, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:43522, 127.0.0.1:43948]] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:47520, dest: /127.0.0.1:44445, bytes: 4, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: 09827f10-a8ef-4678-ab6b-635662dd143b, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741834_1014, duration(ns): 10865914
2020-12-03 07:20:56,596 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741834_1014, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:43522, 127.0.0.1:43948]] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741834_1014, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:43522, 127.0.0.1:43948] terminating
2020-12-03 07:20:56,597 [IPC Server handler 1 on default port 39242] DEBUG hdfs.StateChange (FSNamesystem.java:getAdditionalBlock(2767)) - BLOCK* getAdditionalBlock: /test/testSnapshotWithAppendTruncate  inodeId 16388 for DFSClient_NONMAPREDUCE_-1095141669_1
2020-12-03 07:20:56,599 [IPC Server handler 1 on default port 39242] DEBUG hdfs.StateChange (FSDirWriteFileOp.java:addBlock(524)) - DIR* FSDirectory.addBlock: /test/testSnapshotWithAppendTruncate with blk_1073741835_1015 block is added to the in-memory file system
2020-12-03 07:20:56,599 [IPC Server handler 1 on default port 39242] INFO  hdfs.StateChange (FSDirWriteFileOp.java:logAllocatedBlock(798)) - BLOCK* allocate blk_1073741835_1015, replicas=127.0.0.1:44445, 127.0.0.1:43522, 127.0.0.1:43948 for /test/testSnapshotWithAppendTruncate
2020-12-03 07:20:56,599 [IPC Server handler 1 on default port 39242] DEBUG hdfs.StateChange (FSDirWriteFileOp.java:persistNewBlock(758)) - persistNewBlock: /test/testSnapshotWithAppendTruncate with new block blk_1073741835_1015, current total block count is 5
2020-12-03 07:20:56,601 [DataStreamer for file /test/testSnapshotWithAppendTruncate] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:20:56,602 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:47526 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741835_1015]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741835_1015 src: /127.0.0.1:47526 dest: /127.0.0.1:44445
2020-12-03 07:20:56,603 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:47526 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741835_1015]] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:20:56,604 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:50930 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741835_1015]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741835_1015 src: /127.0.0.1:50930 dest: /127.0.0.1:43522
2020-12-03 07:20:56,605 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:50930 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741835_1015]] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:20:56,606 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:41120 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741835_1015]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741835_1015 src: /127.0.0.1:41120 dest: /127.0.0.1:43948
2020-12-03 07:20:56,614 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741835_1015, type=LAST_IN_PIPELINE] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:41120, dest: /127.0.0.1:43948, bytes: 4, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: cb9af4a7-3d3c-4e0a-a0a8-459be5d72fb4, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741835_1015, duration(ns): 5850830
2020-12-03 07:20:56,614 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741835_1015, type=LAST_IN_PIPELINE] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741835_1015, type=LAST_IN_PIPELINE terminating
2020-12-03 07:20:56,617 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741835_1015, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:43948]] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:50930, dest: /127.0.0.1:43522, bytes: 4, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: 4dc3fc86-316f-46bd-b018-51709a77bcb4, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741835_1015, duration(ns): 6745912
2020-12-03 07:20:56,617 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741835_1015, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:43948]] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741835_1015, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:43948] terminating
2020-12-03 07:20:56,618 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741835_1015, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:43522, 127.0.0.1:43948]] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:47526, dest: /127.0.0.1:44445, bytes: 4, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: 09827f10-a8ef-4678-ab6b-635662dd143b, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741835_1015, duration(ns): 8869196
2020-12-03 07:20:56,618 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741835_1015, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:43522, 127.0.0.1:43948]] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741835_1015, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:43522, 127.0.0.1:43948] terminating
2020-12-03 07:20:56,619 [IPC Server handler 4 on default port 39242] DEBUG hdfs.StateChange (FSDirWriteFileOp.java:completeFile(674)) - DIR* NameSystem.completeFile: /test/testSnapshotWithAppendTruncate for DFSClient_NONMAPREDUCE_-1095141669_1
2020-12-03 07:20:56,620 [IPC Server handler 4 on default port 39242] DEBUG hdfs.StateChange (FSNamesystem.java:closeFile(4036)) - closeFile: /test/testSnapshotWithAppendTruncate with 5 blocks is persisted to the file system
2020-12-03 07:20:56,620 [IPC Server handler 4 on default port 39242] INFO  hdfs.StateChange (FSNamesystem.java:completeFile(2948)) - DIR* completeFile: /test/testSnapshotWithAppendTruncate is closed by DFSClient_NONMAPREDUCE_-1095141669_1
2020-12-03 07:20:56,622 [IPC Server handler 9 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:56,626 [IPC Server handler 7 on default port 39242] ERROR namenode.NameNode (DirectoryWithQuotaFeature.java:checkStoragespace(143)) - BUG: Inconsistent storagespace for directory /test. Cached = 132 != Computed = 60
2020-12-03 07:20:56,626 [IPC Server handler 7 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=contentSummary	src=/test	dst=null	perm=null	proto=rpc
2020-12-03 07:20:56,628 [IPC Server handler 0 on default port 39242] DEBUG hdfs.StateChange (NameNodeRpcServer.java:truncate(1087)) - *DIR* NameNode.truncate: /test/testSnapshotWithAppendTruncate to 12
2020-12-03 07:20:56,628 [IPC Server handler 0 on default port 39242] DEBUG hdfs.StateChange (FSNamesystem.java:truncate(2136)) - DIR* NameSystem.truncate: src=/test/testSnapshotWithAppendTruncate newLength=12
2020-12-03 07:20:56,629 [IPC Server handler 0 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=truncate	src=/test/testSnapshotWithAppendTruncate	dst=null	perm=root:supergroup:rw-r--r--	proto=rpc
2020-12-03 07:20:56,631 [IPC Server handler 8 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/.snapshot/ss2/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:56,642 [IPC Server handler 5 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/.snapshot/ss1/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:56,651 [IPC Server handler 1 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/.snapshot/ss0/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:56,658 [IPC Server handler 3 on default port 39242] ERROR namenode.NameNode (DirectoryWithQuotaFeature.java:checkStoragespace(143)) - BUG: Inconsistent storagespace for directory /test. Cached = 120 != Computed = 48
2020-12-03 07:20:56,658 [IPC Server handler 3 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=contentSummary	src=/test	dst=null	perm=null	proto=rpc
2020-12-03 07:20:56,659 [IPC Server handler 2 on default port 39242] DEBUG hdfs.StateChange (NameNodeRpcServer.java:truncate(1087)) - *DIR* NameNode.truncate: /test/testSnapshotWithAppendTruncate to 8
2020-12-03 07:20:56,660 [IPC Server handler 2 on default port 39242] DEBUG hdfs.StateChange (FSNamesystem.java:truncate(2136)) - DIR* NameSystem.truncate: src=/test/testSnapshotWithAppendTruncate newLength=8
2020-12-03 07:20:56,660 [IPC Server handler 2 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=truncate	src=/test/testSnapshotWithAppendTruncate	dst=null	perm=root:supergroup:rw-r--r--	proto=rpc
2020-12-03 07:20:56,662 [IPC Server handler 6 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/.snapshot/ss2/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:56,670 [IPC Server handler 4 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/.snapshot/ss1/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:56,677 [IPC Server handler 9 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/.snapshot/ss0/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:56,683 [IPC Server handler 7 on default port 39242] ERROR namenode.NameNode (DirectoryWithQuotaFeature.java:checkStoragespace(143)) - BUG: Inconsistent storagespace for directory /test. Cached = 120 != Computed = 48
2020-12-03 07:20:56,683 [IPC Server handler 7 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=contentSummary	src=/test	dst=null	perm=null	proto=rpc
2020-12-03 07:20:56,684 [IPC Server handler 0 on default port 39242] DEBUG hdfs.StateChange (NameNodeRpcServer.java:truncate(1087)) - *DIR* NameNode.truncate: /test/testSnapshotWithAppendTruncate to 6
2020-12-03 07:20:56,685 [IPC Server handler 0 on default port 39242] DEBUG hdfs.StateChange (FSNamesystem.java:truncate(2136)) - DIR* NameSystem.truncate: src=/test/testSnapshotWithAppendTruncate newLength=6
2020-12-03 07:20:56,686 [IPC Server handler 0 on default port 39242] DEBUG hdfs.StateChange (FSDirTruncateOp.java:prepareFileForTruncate(252)) - BLOCK* prepareFileForTruncate: Scheduling copy-on-truncate to new size 2  new block blk_1073741836_1016 old block blk_1073741832_1010
2020-12-03 07:20:56,686 [IPC Server handler 0 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=truncate	src=/test/testSnapshotWithAppendTruncate	dst=null	perm=root:supergroup:rw-r--r--	proto=rpc
2020-12-03 07:20:56,687 [IPC Server handler 8 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:56,790 [IPC Server handler 5 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:56,845 [org.apache.hadoop.hdfs.server.datanode.BlockRecoveryWorker$1@145dc254] INFO  datanode.DataNode (BlockRecoveryWorker.java:logRecoverBlock(549)) - BlockRecoveryWorker: NameNode at localhost/127.0.0.1:39242 calls recoverBlock(BP-289139721-172.17.0.11-1606980047411:blk_1073741832_1010, targets=[DatanodeInfoWithStorage[127.0.0.1:44445,null,null], DatanodeInfoWithStorage[127.0.0.1:43948,null,null], DatanodeInfoWithStorage[127.0.0.1:43522,null,null]], newGenerationStamp=1016, newBlock=blk_1073741836_1016, isStriped=false)
2020-12-03 07:20:56,846 [IPC Server handler 3 on default port 32989] INFO  impl.FsDatasetImpl (FsDatasetImpl.java:initReplicaRecoveryImpl(2588)) - initReplicaRecovery: blk_1073741832_1010, recoveryId=1016, replica=FinalizedReplica, blk_1073741832_1010, FINALIZED
  getNumBytes()     = 4
  getBytesOnDisk()  = 4
  getVisibleLength()= 4
  getVolume()       = /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data1
  getBlockURI()     = file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data1/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741832
2020-12-03 07:20:56,846 [IPC Server handler 3 on default port 32989] INFO  impl.FsDatasetImpl (FsDatasetImpl.java:initReplicaRecoveryImpl(2646)) - initReplicaRecovery: changing replica state for blk_1073741832_1010 from FINALIZED to RUR
2020-12-03 07:20:56,849 [IPC Server handler 0 on default port 38553] INFO  impl.FsDatasetImpl (FsDatasetImpl.java:initReplicaRecoveryImpl(2588)) - initReplicaRecovery: blk_1073741832_1010, recoveryId=1016, replica=FinalizedReplica, blk_1073741832_1010, FINALIZED
  getNumBytes()     = 4
  getBytesOnDisk()  = 4
  getVisibleLength()= 4
  getVolume()       = /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data3
  getBlockURI()     = file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data3/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741832
2020-12-03 07:20:56,850 [IPC Server handler 0 on default port 38553] INFO  impl.FsDatasetImpl (FsDatasetImpl.java:initReplicaRecoveryImpl(2646)) - initReplicaRecovery: changing replica state for blk_1073741832_1010 from FINALIZED to RUR
2020-12-03 07:20:56,851 [org.apache.hadoop.hdfs.server.datanode.BlockRecoveryWorker$1@145dc254] INFO  impl.FsDatasetImpl (FsDatasetImpl.java:initReplicaRecoveryImpl(2588)) - initReplicaRecovery: blk_1073741832_1010, recoveryId=1016, replica=FinalizedReplica, blk_1073741832_1010, FINALIZED
  getNumBytes()     = 4
  getBytesOnDisk()  = 4
  getVisibleLength()= 4
  getVolume()       = /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data5
  getBlockURI()     = file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data5/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741832
2020-12-03 07:20:56,852 [org.apache.hadoop.hdfs.server.datanode.BlockRecoveryWorker$1@145dc254] INFO  impl.FsDatasetImpl (FsDatasetImpl.java:initReplicaRecoveryImpl(2646)) - initReplicaRecovery: changing replica state for blk_1073741832_1010 from FINALIZED to RUR
2020-12-03 07:20:56,852 [org.apache.hadoop.hdfs.server.datanode.BlockRecoveryWorker$1@145dc254] INFO  datanode.DataNode (BlockRecoveryWorker.java:syncBlock(200)) - BlockRecoveryWorker: block=BP-289139721-172.17.0.11-1606980047411:blk_1073741832_1010 (length=4), isTruncateRecovery=true, syncList=[block:blk_1073741832_1010[numBytes=4,originalReplicaState=FINALIZED] node:DatanodeInfoWithStorage[127.0.0.1:44445,null,null], block:blk_1073741832_1010[numBytes=4,originalReplicaState=FINALIZED] node:DatanodeInfoWithStorage[127.0.0.1:43948,null,null], block:blk_1073741832_1010[numBytes=4,originalReplicaState=FINALIZED] node:DatanodeInfoWithStorage[127.0.0.1:43522,null,null]]
2020-12-03 07:20:56,853 [org.apache.hadoop.hdfs.server.datanode.BlockRecoveryWorker$1@145dc254] INFO  datanode.DataNode (BlockRecoveryWorker.java:syncBlock(293)) - BlockRecoveryWorker: block=BP-289139721-172.17.0.11-1606980047411:blk_1073741832_1010 (length=4), bestState=FINALIZED, newBlock=BP-289139721-172.17.0.11-1606980047411:blk_1073741836_1016 (length=2), participatingList=[block:blk_1073741832_1010[numBytes=4,originalReplicaState=FINALIZED] node:DatanodeInfoWithStorage[127.0.0.1:44445,null,null], block:blk_1073741832_1010[numBytes=4,originalReplicaState=FINALIZED] node:DatanodeInfoWithStorage[127.0.0.1:43948,null,null], block:blk_1073741832_1010[numBytes=4,originalReplicaState=FINALIZED] node:DatanodeInfoWithStorage[127.0.0.1:43522,null,null]]
2020-12-03 07:20:56,853 [IPC Server handler 4 on default port 32989] INFO  impl.FsDatasetImpl (FsDatasetImpl.java:updateReplicaUnderRecovery(2667)) - updateReplica: BP-289139721-172.17.0.11-1606980047411:blk_1073741832_1010, recoveryId=1016, length=2, replica=ReplicaUnderRecovery, blk_1073741832_1010, RUR
  getNumBytes()     = 4
  getBytesOnDisk()  = 4
  getVisibleLength()= 4
  getVolume()       = /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data1
  getBlockURI()     = file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data1/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741832
  recoveryId=1016
  original=FinalizedReplica, blk_1073741832_1010, FINALIZED
  getNumBytes()     = 4
  getBytesOnDisk()  = 4
  getVisibleLength()= 4
  getVolume()       = /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data1
  getBlockURI()     = file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data1/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741832
2020-12-03 07:20:56,854 [BP-289139721-172.17.0.11-1606980047411 heartbeating to localhost/127.0.0.1:39242] INFO  impl.FsDatasetAsyncDiskService (FsDatasetAsyncDiskService.java:deleteAsync(226)) - Scheduling blk_1073741829_1007 replica FinalizedReplica, blk_1073741829_1007, FINALIZED
  getNumBytes()     = 4
  getBytesOnDisk()  = 4
  getVisibleLength()= 4
  getVolume()       = /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data3
  getBlockURI()     = file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data3/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741829 for deletion
2020-12-03 07:20:56,856 [BP-289139721-172.17.0.11-1606980047411 heartbeating to localhost/127.0.0.1:39242] INFO  impl.FsDatasetAsyncDiskService (FsDatasetAsyncDiskService.java:deleteAsync(226)) - Scheduling blk_1073741830_1008 replica FinalizedReplica, blk_1073741830_1008, FINALIZED
  getNumBytes()     = 2
  getBytesOnDisk()  = 2
  getVisibleLength()= 2
  getVolume()       = /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data4
  getBlockURI()     = file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data4/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741830 for deletion
2020-12-03 07:20:56,857 [Async disk worker #0 for volume /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data3] INFO  impl.FsDatasetAsyncDiskService (FsDatasetAsyncDiskService.java:run(334)) - Deleted BP-289139721-172.17.0.11-1606980047411 blk_1073741829_1007 URI file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data3/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741829
2020-12-03 07:20:56,859 [Async disk worker #0 for volume /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data4] INFO  impl.FsDatasetAsyncDiskService (FsDatasetAsyncDiskService.java:run(334)) - Deleted BP-289139721-172.17.0.11-1606980047411 blk_1073741830_1008 URI file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data4/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741830
2020-12-03 07:20:56,875 [IPC Server handler 4 on default port 32989] INFO  datanode.LocalReplica (LocalReplica.java:truncateBlock(473)) - truncateBlock: blockFile=/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data1/current/BP-289139721-172.17.0.11-1606980047411/tmp/subdir0/subdir0/blk_1073741836, metaFile=/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data1/current/BP-289139721-172.17.0.11-1606980047411/tmp/subdir0/subdir0/blk_1073741836_1016.meta, oldlen=4, newlen=2
2020-12-03 07:20:56,877 [IPC Server handler 3 on default port 38553] INFO  impl.FsDatasetImpl (FsDatasetImpl.java:updateReplicaUnderRecovery(2667)) - updateReplica: BP-289139721-172.17.0.11-1606980047411:blk_1073741832_1010, recoveryId=1016, length=2, replica=ReplicaUnderRecovery, blk_1073741832_1010, RUR
  getNumBytes()     = 4
  getBytesOnDisk()  = 4
  getVisibleLength()= 4
  getVolume()       = /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data3
  getBlockURI()     = file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data3/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741832
  recoveryId=1016
  original=FinalizedReplica, blk_1073741832_1010, FINALIZED
  getNumBytes()     = 4
  getBytesOnDisk()  = 4
  getVisibleLength()= 4
  getVolume()       = /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data3
  getBlockURI()     = file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data3/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741832
2020-12-03 07:20:56,894 [IPC Server handler 4 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:56,899 [IPC Server handler 3 on default port 38553] INFO  datanode.LocalReplica (LocalReplica.java:truncateBlock(473)) - truncateBlock: blockFile=/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data3/current/BP-289139721-172.17.0.11-1606980047411/tmp/subdir0/subdir0/blk_1073741836, metaFile=/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data3/current/BP-289139721-172.17.0.11-1606980047411/tmp/subdir0/subdir0/blk_1073741836_1016.meta, oldlen=4, newlen=2
2020-12-03 07:20:56,901 [org.apache.hadoop.hdfs.server.datanode.BlockRecoveryWorker$1@145dc254] INFO  impl.FsDatasetImpl (FsDatasetImpl.java:updateReplicaUnderRecovery(2667)) - updateReplica: BP-289139721-172.17.0.11-1606980047411:blk_1073741832_1010[numBytes=4,originalReplicaState=FINALIZED], recoveryId=1016, length=2, replica=ReplicaUnderRecovery, blk_1073741832_1010, RUR
  getNumBytes()     = 4
  getBytesOnDisk()  = 4
  getVisibleLength()= 4
  getVolume()       = /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data5
  getBlockURI()     = file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data5/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741832
  recoveryId=1016
  original=FinalizedReplica, blk_1073741832_1010, FINALIZED
  getNumBytes()     = 4
  getBytesOnDisk()  = 4
  getVisibleLength()= 4
  getVolume()       = /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data5
  getBlockURI()     = file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data5/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741832
2020-12-03 07:20:56,921 [org.apache.hadoop.hdfs.server.datanode.BlockRecoveryWorker$1@145dc254] INFO  datanode.LocalReplica (LocalReplica.java:truncateBlock(473)) - truncateBlock: blockFile=/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data5/current/BP-289139721-172.17.0.11-1606980047411/tmp/subdir0/subdir0/blk_1073741836, metaFile=/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data5/current/BP-289139721-172.17.0.11-1606980047411/tmp/subdir0/subdir0/blk_1073741836_1016.meta, oldlen=4, newlen=2
2020-12-03 07:20:56,924 [IPC Server handler 7 on default port 39242] INFO  namenode.FSNamesystem (FSNamesystem.java:commitBlockSynchronization(3655)) - commitBlockSynchronization(oldBlock=BP-289139721-172.17.0.11-1606980047411:blk_1073741832_1010, newgenerationstamp=1016, newlength=2, newtargets=[127.0.0.1:44445, 127.0.0.1:43948, 127.0.0.1:43522], closeFile=true, deleteBlock=false)
2020-12-03 07:20:56,925 [IPC Server handler 7 on default port 39242] DEBUG hdfs.StateChange (FSNamesystem.java:closeFile(4036)) - closeFile: /test/testSnapshotWithAppendTruncate with 2 blocks is persisted to the file system
2020-12-03 07:20:56,926 [IPC Server handler 7 on default port 39242] INFO  namenode.FSNamesystem (FSNamesystem.java:commitBlockSynchronization(3805)) - commitBlockSynchronization(oldBlock=BP-289139721-172.17.0.11-1606980047411:blk_1073741832_1010, file=/test/testSnapshotWithAppendTruncate, newBlock=blk_1073741836_1016, newlength=2, newtargets=[127.0.0.1:44445, 127.0.0.1:43948, 127.0.0.1:43522]) successful
2020-12-03 07:20:56,998 [IPC Server handler 8 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:57,001 [IPC Server handler 5 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/.snapshot/ss2/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:57,010 [IPC Server handler 3 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/.snapshot/ss1/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:57,028 [IPC Server handler 2 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/.snapshot/ss0/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:57,036 [IPC Server handler 1 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:57,039 [IPC Server handler 6 on default port 39242] ERROR namenode.NameNode (DirectoryWithQuotaFeature.java:checkStoragespace(143)) - BUG: Inconsistent storagespace for directory /test. Cached = 126 != Computed = 54
2020-12-03 07:20:57,040 [IPC Server handler 6 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=contentSummary	src=/test	dst=null	perm=null	proto=rpc
2020-12-03 07:20:57,041 [IPC Server handler 4 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=createSnapshot	src=/test	dst=/test/.snapshot/ss3	perm=null	proto=rpc
2020-12-03 07:20:57,042 [IPC Server handler 9 on default port 39242] DEBUG hdfs.StateChange (NameNodeRpcServer.java:delete(1103)) - *DIR* Namenode.delete: src=/test/testSnapshotWithAppendTruncate, recursive=false
2020-12-03 07:20:57,042 [IPC Server handler 9 on default port 39242] DEBUG hdfs.StateChange (FSDirDeleteOp.java:deleteInternal(180)) - DIR* NameSystem.delete: /test/testSnapshotWithAppendTruncate
2020-12-03 07:20:57,043 [IPC Server handler 9 on default port 39242] DEBUG hdfs.StateChange (FSDirDeleteOp.java:delete(55)) - DIR* FSDirectory.delete: /test/testSnapshotWithAppendTruncate
2020-12-03 07:20:57,043 [IPC Server handler 9 on default port 39242] DEBUG hdfs.StateChange (FSDirDeleteOp.java:unprotectedDelete(269)) - DIR* FSDirectory.unprotectedDelete: /test/testSnapshotWithAppendTruncate is removed
2020-12-03 07:20:57,043 [IPC Server handler 9 on default port 39242] DEBUG hdfs.StateChange (FSDirDeleteOp.java:deleteInternal(201)) - DIR* Namesystem.delete: /test/testSnapshotWithAppendTruncate is removed
2020-12-03 07:20:57,044 [IPC Server handler 9 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=delete	src=/test/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:57,045 [IPC Server handler 0 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/.snapshot/ss3/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:57,056 [IPC Server handler 7 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/.snapshot/ss2/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:57,065 [IPC Server handler 8 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/.snapshot/ss1/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:57,073 [IPC Server handler 5 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/.snapshot/ss0/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:57,081 [IPC Server handler 3 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=deleteSnapshot	src=/test/.snapshot/ss3	dst=null	perm=null	proto=rpc
2020-12-03 07:20:57,082 [IPC Server handler 2 on default port 39242] ERROR namenode.NameNode (DirectoryWithQuotaFeature.java:checkStoragespace(143)) - BUG: Inconsistent storagespace for directory /test. Cached = 156 != Computed = 0
2020-12-03 07:20:57,083 [IPC Server handler 2 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=contentSummary	src=/test	dst=null	perm=null	proto=rpc
2020-12-03 07:20:57,085 [IPC Server handler 1 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=deleteSnapshot	src=/test/.snapshot/ss0	dst=null	perm=null	proto=rpc
2020-12-03 07:20:57,087 [IPC Server handler 6 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/.snapshot/ss2/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:57,097 [IPC Server handler 4 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/.snapshot/ss1/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:57,108 [IPC Server handler 9 on default port 39242] ERROR namenode.NameNode (DirectoryWithQuotaFeature.java:checkStoragespace(143)) - BUG: Inconsistent storagespace for directory /test. Cached = 192 != Computed = 0
2020-12-03 07:20:57,109 [IPC Server handler 9 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=contentSummary	src=/test	dst=null	perm=null	proto=rpc
2020-12-03 07:20:57,110 [IPC Server handler 0 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=deleteSnapshot	src=/test/.snapshot/ss2	dst=null	perm=null	proto=rpc
2020-12-03 07:20:57,112 [IPC Server handler 7 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/.snapshot/ss1/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:57,120 [IPC Server handler 8 on default port 39242] ERROR namenode.NameNode (DirectoryWithQuotaFeature.java:checkStoragespace(143)) - BUG: Inconsistent storagespace for directory /test. Cached = 192 != Computed = 0
2020-12-03 07:20:57,121 [IPC Server handler 8 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=contentSummary	src=/test	dst=null	perm=null	proto=rpc
2020-12-03 07:20:57,122 [IPC Server handler 5 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=getfileinfo	src=/test/.snapshot/ss0/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:57,124 [IPC Server handler 3 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=deleteSnapshot	src=/test/.snapshot/ss1	dst=null	perm=null	proto=rpc
2020-12-03 07:20:57,125 [IPC Server handler 2 on default port 39242] ERROR namenode.NameNode (DirectoryWithQuotaFeature.java:checkStoragespace(143)) - BUG: Inconsistent storagespace for directory /test. Cached = 144 != Computed = 0
2020-12-03 07:20:57,126 [IPC Server handler 2 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=contentSummary	src=/test	dst=null	perm=null	proto=rpc
2020-12-03 07:20:57,127 [IPC Server handler 1 on default port 39242] DEBUG hdfs.StateChange (NameNodeRpcServer.java:mkdirs(1139)) - *DIR* NameNode.mkdirs: /test
2020-12-03 07:20:57,127 [IPC Server handler 1 on default port 39242] DEBUG hdfs.StateChange (FSDirMkdirOp.java:mkdirs(46)) - DIR* NameSystem.mkdirs: /test
2020-12-03 07:20:57,127 [IPC Server handler 1 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=mkdirs	src=/test	dst=null	perm=root:supergroup:rwxr-xr-x	proto=rpc
2020-12-03 07:20:57,128 [IPC Server handler 6 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=setSpaceQuota	src=/test	dst=null	perm=null	proto=rpc
2020-12-03 07:20:57,129 [IPC Server handler 4 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=allowSnapshot	src=/test	dst=null	perm=null	proto=rpc
2020-12-03 07:20:57,130 [IPC Server handler 9 on default port 39242] DEBUG hdfs.StateChange (NameNodeRpcServer.java:mkdirs(1139)) - *DIR* NameNode.mkdirs: /test
2020-12-03 07:20:57,130 [IPC Server handler 9 on default port 39242] DEBUG hdfs.StateChange (FSDirMkdirOp.java:mkdirs(46)) - DIR* NameSystem.mkdirs: /test
2020-12-03 07:20:57,131 [IPC Server handler 9 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=mkdirs	src=/test	dst=null	perm=root:supergroup:rwxr-xr-x	proto=rpc
2020-12-03 07:20:57,132 [IPC Server handler 0 on default port 39242] DEBUG hdfs.StateChange (NameNodeRpcServer.java:create(774)) - *DIR* NameNode.create: file /test/testSnapshotWithAppendTruncate for DFSClient_NONMAPREDUCE_-1095141669_1 at 127.0.0.1
2020-12-03 07:20:57,132 [IPC Server handler 0 on default port 39242] DEBUG hdfs.StateChange (FSNamesystem.java:startFileInt(2460)) - DIR* NameSystem.startFile: src=/test/testSnapshotWithAppendTruncate, holder=DFSClient_NONMAPREDUCE_-1095141669_1, clientMachine=127.0.0.1, createParent=true, replication=3, createFlag=[CREATE, OVERWRITE], blockSize=4, supportedVersions=[CryptoProtocolVersion{description='Encryption zones', version=2, unknownValue=null}]
2020-12-03 07:20:57,132 [IPC Server handler 0 on default port 39242] DEBUG hdfs.StateChange (FSDirWriteFileOp.java:addFile(579)) - DIR* addFile: testSnapshotWithAppendTruncate is added
2020-12-03 07:20:57,133 [IPC Server handler 0 on default port 39242] DEBUG hdfs.StateChange (FSDirWriteFileOp.java:startFile(415)) - DIR* NameSystem.startFile: added /test/testSnapshotWithAppendTruncate inode 16389 DFSClient_NONMAPREDUCE_-1095141669_1
2020-12-03 07:20:57,133 [IPC Server handler 0 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=create	src=/test/testSnapshotWithAppendTruncate	dst=null	perm=root:supergroup:rw-r--r--	proto=rpc
2020-12-03 07:20:57,135 [IPC Server handler 7 on default port 39242] DEBUG hdfs.StateChange (FSNamesystem.java:getAdditionalBlock(2767)) - BLOCK* getAdditionalBlock: /test/testSnapshotWithAppendTruncate  inodeId 16389 for DFSClient_NONMAPREDUCE_-1095141669_1
2020-12-03 07:20:57,136 [IPC Server handler 7 on default port 39242] DEBUG hdfs.StateChange (FSDirWriteFileOp.java:addBlock(524)) - DIR* FSDirectory.addBlock: /test/testSnapshotWithAppendTruncate with blk_1073741837_1017 block is added to the in-memory file system
2020-12-03 07:20:57,136 [IPC Server handler 7 on default port 39242] INFO  hdfs.StateChange (FSDirWriteFileOp.java:logAllocatedBlock(798)) - BLOCK* allocate blk_1073741837_1017, replicas=127.0.0.1:43522, 127.0.0.1:43948, 127.0.0.1:44445 for /test/testSnapshotWithAppendTruncate
2020-12-03 07:20:57,136 [IPC Server handler 7 on default port 39242] DEBUG hdfs.StateChange (FSDirWriteFileOp.java:persistNewBlock(758)) - persistNewBlock: /test/testSnapshotWithAppendTruncate with new block blk_1073741837_1017, current total block count is 1
2020-12-03 07:20:57,137 [Thread-303] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:20:57,138 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:50934 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741837_1017]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741837_1017 src: /127.0.0.1:50934 dest: /127.0.0.1:43522
2020-12-03 07:20:57,139 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:50934 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741837_1017]] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:20:57,140 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:41124 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741837_1017]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741837_1017 src: /127.0.0.1:41124 dest: /127.0.0.1:43948
2020-12-03 07:20:57,141 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:41124 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741837_1017]] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:20:57,142 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:47536 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741837_1017]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741837_1017 src: /127.0.0.1:47536 dest: /127.0.0.1:44445
2020-12-03 07:20:57,148 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741837_1017, type=LAST_IN_PIPELINE] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:47536, dest: /127.0.0.1:44445, bytes: 4, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: 09827f10-a8ef-4678-ab6b-635662dd143b, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741837_1017, duration(ns): 5196438
2020-12-03 07:20:57,148 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741837_1017, type=LAST_IN_PIPELINE] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741837_1017, type=LAST_IN_PIPELINE terminating
2020-12-03 07:20:57,149 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741837_1017, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:44445]] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:41124, dest: /127.0.0.1:43948, bytes: 4, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: cb9af4a7-3d3c-4e0a-a0a8-459be5d72fb4, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741837_1017, duration(ns): 5939120
2020-12-03 07:20:57,149 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741837_1017, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:44445]] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741837_1017, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:44445] terminating
2020-12-03 07:20:57,150 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741837_1017, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:43948, 127.0.0.1:44445]] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:50934, dest: /127.0.0.1:43522, bytes: 4, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: 4dc3fc86-316f-46bd-b018-51709a77bcb4, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741837_1017, duration(ns): 5592232
2020-12-03 07:20:57,150 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741837_1017, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:43948, 127.0.0.1:44445]] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741837_1017, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:43948, 127.0.0.1:44445] terminating
2020-12-03 07:20:57,151 [IPC Server handler 2 on default port 39242] DEBUG hdfs.StateChange (FSNamesystem.java:getAdditionalBlock(2767)) - BLOCK* getAdditionalBlock: /test/testSnapshotWithAppendTruncate  inodeId 16389 for DFSClient_NONMAPREDUCE_-1095141669_1
2020-12-03 07:20:57,153 [IPC Server handler 2 on default port 39242] DEBUG hdfs.StateChange (FSDirWriteFileOp.java:addBlock(524)) - DIR* FSDirectory.addBlock: /test/testSnapshotWithAppendTruncate with blk_1073741838_1018 block is added to the in-memory file system
2020-12-03 07:20:57,153 [IPC Server handler 2 on default port 39242] INFO  hdfs.StateChange (FSDirWriteFileOp.java:logAllocatedBlock(798)) - BLOCK* allocate blk_1073741838_1018, replicas=127.0.0.1:44445, 127.0.0.1:43948, 127.0.0.1:43522 for /test/testSnapshotWithAppendTruncate
2020-12-03 07:20:57,153 [IPC Server handler 2 on default port 39242] DEBUG hdfs.StateChange (FSDirWriteFileOp.java:persistNewBlock(758)) - persistNewBlock: /test/testSnapshotWithAppendTruncate with new block blk_1073741838_1018, current total block count is 2
2020-12-03 07:20:57,154 [DataStreamer for file /test/testSnapshotWithAppendTruncate] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:20:57,155 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:47538 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741838_1018]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741838_1018 src: /127.0.0.1:47538 dest: /127.0.0.1:44445
2020-12-03 07:20:57,156 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:47538 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741838_1018]] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:20:57,156 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:41130 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741838_1018]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741838_1018 src: /127.0.0.1:41130 dest: /127.0.0.1:43948
2020-12-03 07:20:57,157 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:41130 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741838_1018]] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:20:57,158 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:50944 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741838_1018]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741838_1018 src: /127.0.0.1:50944 dest: /127.0.0.1:43522
2020-12-03 07:20:57,163 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741838_1018, type=LAST_IN_PIPELINE] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:50944, dest: /127.0.0.1:43522, bytes: 4, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: 4dc3fc86-316f-46bd-b018-51709a77bcb4, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741838_1018, duration(ns): 3739811
2020-12-03 07:20:57,163 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741838_1018, type=LAST_IN_PIPELINE] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741838_1018, type=LAST_IN_PIPELINE terminating
2020-12-03 07:20:57,164 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741838_1018, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:43522]] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:41130, dest: /127.0.0.1:43948, bytes: 4, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: cb9af4a7-3d3c-4e0a-a0a8-459be5d72fb4, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741838_1018, duration(ns): 4474374
2020-12-03 07:20:57,164 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741838_1018, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:43522]] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741838_1018, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:43522] terminating
2020-12-03 07:20:57,165 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741838_1018, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:43948, 127.0.0.1:43522]] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:47538, dest: /127.0.0.1:44445, bytes: 4, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: 09827f10-a8ef-4678-ab6b-635662dd143b, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741838_1018, duration(ns): 5236273
2020-12-03 07:20:57,165 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741838_1018, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:43948, 127.0.0.1:43522]] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741838_1018, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:43948, 127.0.0.1:43522] terminating
2020-12-03 07:20:57,166 [IPC Server handler 9 on default port 39242] DEBUG hdfs.StateChange (FSNamesystem.java:getAdditionalBlock(2767)) - BLOCK* getAdditionalBlock: /test/testSnapshotWithAppendTruncate  inodeId 16389 for DFSClient_NONMAPREDUCE_-1095141669_1
2020-12-03 07:20:57,167 [IPC Server handler 9 on default port 39242] DEBUG hdfs.StateChange (FSDirWriteFileOp.java:addBlock(524)) - DIR* FSDirectory.addBlock: /test/testSnapshotWithAppendTruncate with blk_1073741839_1019 block is added to the in-memory file system
2020-12-03 07:20:57,167 [IPC Server handler 9 on default port 39242] INFO  hdfs.StateChange (FSDirWriteFileOp.java:logAllocatedBlock(798)) - BLOCK* allocate blk_1073741839_1019, replicas=127.0.0.1:43522, 127.0.0.1:44445, 127.0.0.1:43948 for /test/testSnapshotWithAppendTruncate
2020-12-03 07:20:57,168 [IPC Server handler 9 on default port 39242] DEBUG hdfs.StateChange (FSDirWriteFileOp.java:persistNewBlock(758)) - persistNewBlock: /test/testSnapshotWithAppendTruncate with new block blk_1073741839_1019, current total block count is 3
2020-12-03 07:20:57,169 [DataStreamer for file /test/testSnapshotWithAppendTruncate] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:20:57,170 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:50946 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741839_1019]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741839_1019 src: /127.0.0.1:50946 dest: /127.0.0.1:43522
2020-12-03 07:20:57,170 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:50946 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741839_1019]] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:20:57,171 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:47546 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741839_1019]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741839_1019 src: /127.0.0.1:47546 dest: /127.0.0.1:44445
2020-12-03 07:20:57,172 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:47546 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741839_1019]] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:20:57,172 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:41138 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741839_1019]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741839_1019 src: /127.0.0.1:41138 dest: /127.0.0.1:43948
2020-12-03 07:20:57,177 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741839_1019, type=LAST_IN_PIPELINE] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:41138, dest: /127.0.0.1:43948, bytes: 2, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: cb9af4a7-3d3c-4e0a-a0a8-459be5d72fb4, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741839_1019, duration(ns): 3757200
2020-12-03 07:20:57,178 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741839_1019, type=LAST_IN_PIPELINE] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741839_1019, type=LAST_IN_PIPELINE terminating
2020-12-03 07:20:57,178 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741839_1019, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:43948]] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:47546, dest: /127.0.0.1:44445, bytes: 2, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: 09827f10-a8ef-4678-ab6b-635662dd143b, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741839_1019, duration(ns): 4355949
2020-12-03 07:20:57,179 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741839_1019, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:43948]] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741839_1019, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:43948] terminating
2020-12-03 07:20:57,179 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741839_1019, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:44445, 127.0.0.1:43948]] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:50946, dest: /127.0.0.1:43522, bytes: 2, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: 4dc3fc86-316f-46bd-b018-51709a77bcb4, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741839_1019, duration(ns): 5106115
2020-12-03 07:20:57,179 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741839_1019, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:44445, 127.0.0.1:43948]] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741839_1019, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:44445, 127.0.0.1:43948] terminating
2020-12-03 07:20:57,181 [IPC Server handler 5 on default port 39242] DEBUG hdfs.StateChange (FSDirWriteFileOp.java:completeFile(674)) - DIR* NameSystem.completeFile: /test/testSnapshotWithAppendTruncate for DFSClient_NONMAPREDUCE_-1095141669_1
2020-12-03 07:20:57,181 [IPC Server handler 5 on default port 39242] DEBUG hdfs.StateChange (FSNamesystem.java:closeFile(4036)) - closeFile: /test/testSnapshotWithAppendTruncate with 3 blocks is persisted to the file system
2020-12-03 07:20:57,182 [IPC Server handler 5 on default port 39242] INFO  hdfs.StateChange (FSNamesystem.java:completeFile(2948)) - DIR* completeFile: /test/testSnapshotWithAppendTruncate is closed by DFSClient_NONMAPREDUCE_-1095141669_1
2020-12-03 07:20:57,183 [IPC Server handler 3 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:57,185 [IPC Server handler 2 on default port 39242] ERROR namenode.NameNode (DirectoryWithQuotaFeature.java:checkStoragespace(143)) - BUG: Inconsistent storagespace for directory /test. Cached = 174 != Computed = 30
2020-12-03 07:20:57,186 [IPC Server handler 2 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=contentSummary	src=/test	dst=null	perm=null	proto=rpc
2020-12-03 07:20:57,188 [IPC Server handler 1 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=createSnapshot	src=/test	dst=/test/.snapshot/ss0	perm=null	proto=rpc
2020-12-03 07:20:57,189 [IPC Server handler 6 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=getfileinfo	src=/test/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:57,191 [IPC Server handler 4 on default port 39242] DEBUG hdfs.StateChange (NameNodeRpcServer.java:append(809)) - *DIR* NameNode.append: file /test/testSnapshotWithAppendTruncate for DFSClient_NONMAPREDUCE_-1095141669_1 at 127.0.0.1
2020-12-03 07:20:57,191 [IPC Server handler 4 on default port 39242] DEBUG hdfs.StateChange (FSNamesystem.java:appendFile(2710)) - DIR* NameSystem.appendFile: src=/test/testSnapshotWithAppendTruncate, holder=DFSClient_NONMAPREDUCE_-1095141669_1, clientMachine=127.0.0.1
2020-12-03 07:20:57,191 [IPC Server handler 4 on default port 39242] DEBUG hdfs.StateChange (FSDirAppendOp.java:appendFile(154)) - DIR* NameSystem.appendFile: file /test/testSnapshotWithAppendTruncate for DFSClient_NONMAPREDUCE_-1095141669_1 at 127.0.0.1 block BP-289139721-172.17.0.11-1606980047411:blk_1073741839_1019 block size 2
2020-12-03 07:20:57,192 [IPC Server handler 4 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=append	src=/test/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:57,196 [Thread-325] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:20:57,197 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:41140 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741839_1019]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741839_1019 src: /127.0.0.1:41140 dest: /127.0.0.1:43948
2020-12-03 07:20:57,197 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:41140 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741839_1019]] INFO  impl.FsDatasetImpl (FsDatasetImpl.java:append(1187)) - Appending to FinalizedReplica, blk_1073741839_1019, FINALIZED
  getNumBytes()     = 2
  getBytesOnDisk()  = 2
  getVisibleLength()= 2
  getVolume()       = /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data3
  getBlockURI()     = file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data3/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741839
2020-12-03 07:20:57,217 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:41140 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741839_1019]] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:20:57,218 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:47552 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741839_1019]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741839_1019 src: /127.0.0.1:47552 dest: /127.0.0.1:44445
2020-12-03 07:20:57,219 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:47552 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741839_1019]] INFO  impl.FsDatasetImpl (FsDatasetImpl.java:append(1187)) - Appending to FinalizedReplica, blk_1073741839_1019, FINALIZED
  getNumBytes()     = 2
  getBytesOnDisk()  = 2
  getVisibleLength()= 2
  getVolume()       = /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data1
  getBlockURI()     = file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data1/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741839
2020-12-03 07:20:57,236 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:47552 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741839_1019]] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:20:57,236 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:50956 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741839_1019]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741839_1019 src: /127.0.0.1:50956 dest: /127.0.0.1:43522
2020-12-03 07:20:57,237 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:50956 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741839_1019]] INFO  impl.FsDatasetImpl (FsDatasetImpl.java:append(1187)) - Appending to FinalizedReplica, blk_1073741839_1019, FINALIZED
  getNumBytes()     = 2
  getBytesOnDisk()  = 2
  getVisibleLength()= 2
  getVolume()       = /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data5
  getBlockURI()     = file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data5/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741839
2020-12-03 07:20:57,256 [IPC Server handler 0 on default port 39242] INFO  namenode.FSNamesystem (FSNamesystem.java:updatePipeline(5430)) - updatePipeline(blk_1073741839_1019, newGS=1020, newLength=2, newNodes=[127.0.0.1:43948, 127.0.0.1:44445, 127.0.0.1:43522], client=DFSClient_NONMAPREDUCE_-1095141669_1)
2020-12-03 07:20:57,256 [IPC Server handler 0 on default port 39242] DEBUG hdfs.StateChange (FSDirWriteFileOp.java:persistBlocks(111)) - persistBlocks: /test/testSnapshotWithAppendTruncate with 3 blocks is persisted to the file system
2020-12-03 07:20:57,256 [IPC Server handler 0 on default port 39242] INFO  namenode.FSNamesystem (FSNamesystem.java:updatePipeline(5448)) - updatePipeline(blk_1073741839_1019 => blk_1073741839_1020) success
2020-12-03 07:20:57,262 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741839_1020, type=LAST_IN_PIPELINE] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:50956, dest: /127.0.0.1:43522, bytes: 4, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: 4dc3fc86-316f-46bd-b018-51709a77bcb4, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741839_1020, duration(ns): 7545707
2020-12-03 07:20:57,263 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741839_1020, type=LAST_IN_PIPELINE] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741839_1020, type=LAST_IN_PIPELINE terminating
2020-12-03 07:20:57,264 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741839_1020, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:43522]] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:47552, dest: /127.0.0.1:44445, bytes: 4, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: 09827f10-a8ef-4678-ab6b-635662dd143b, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741839_1020, duration(ns): 9056751
2020-12-03 07:20:57,264 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741839_1020, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:43522]] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741839_1020, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:43522] terminating
2020-12-03 07:20:57,266 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741839_1020, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:44445, 127.0.0.1:43522]] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:41140, dest: /127.0.0.1:43948, bytes: 4, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: cb9af4a7-3d3c-4e0a-a0a8-459be5d72fb4, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741839_1020, duration(ns): 10590083
2020-12-03 07:20:57,266 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741839_1020, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:44445, 127.0.0.1:43522]] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741839_1020, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:44445, 127.0.0.1:43522] terminating
2020-12-03 07:20:57,267 [IPC Server handler 3 on default port 39242] DEBUG hdfs.StateChange (FSNamesystem.java:getAdditionalBlock(2767)) - BLOCK* getAdditionalBlock: /test/testSnapshotWithAppendTruncate  inodeId 16389 for DFSClient_NONMAPREDUCE_-1095141669_1
2020-12-03 07:20:57,268 [IPC Server handler 3 on default port 39242] DEBUG hdfs.StateChange (FSDirWriteFileOp.java:addBlock(524)) - DIR* FSDirectory.addBlock: /test/testSnapshotWithAppendTruncate with blk_1073741840_1021 block is added to the in-memory file system
2020-12-03 07:20:57,268 [IPC Server handler 3 on default port 39242] INFO  hdfs.StateChange (FSDirWriteFileOp.java:logAllocatedBlock(798)) - BLOCK* allocate blk_1073741840_1021, replicas=127.0.0.1:43522, 127.0.0.1:43948, 127.0.0.1:44445 for /test/testSnapshotWithAppendTruncate
2020-12-03 07:20:57,268 [IPC Server handler 3 on default port 39242] DEBUG hdfs.StateChange (FSDirWriteFileOp.java:persistNewBlock(758)) - persistNewBlock: /test/testSnapshotWithAppendTruncate with new block blk_1073741840_1021, current total block count is 4
2020-12-03 07:20:57,270 [DataStreamer for file /test/testSnapshotWithAppendTruncate] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:20:57,271 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:50958 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741840_1021]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741840_1021 src: /127.0.0.1:50958 dest: /127.0.0.1:43522
2020-12-03 07:20:57,273 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:50958 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741840_1021]] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:20:57,274 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:41148 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741840_1021]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741840_1021 src: /127.0.0.1:41148 dest: /127.0.0.1:43948
2020-12-03 07:20:57,275 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:41148 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741840_1021]] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:20:57,275 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:47560 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741840_1021]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741840_1021 src: /127.0.0.1:47560 dest: /127.0.0.1:44445
2020-12-03 07:20:57,280 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741840_1021, type=LAST_IN_PIPELINE] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:47560, dest: /127.0.0.1:44445, bytes: 3, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: 09827f10-a8ef-4678-ab6b-635662dd143b, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741840_1021, duration(ns): 3116403
2020-12-03 07:20:57,280 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741840_1021, type=LAST_IN_PIPELINE] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741840_1021, type=LAST_IN_PIPELINE terminating
2020-12-03 07:20:57,281 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741840_1021, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:44445]] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:41148, dest: /127.0.0.1:43948, bytes: 3, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: cb9af4a7-3d3c-4e0a-a0a8-459be5d72fb4, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741840_1021, duration(ns): 3929316
2020-12-03 07:20:57,281 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741840_1021, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:44445]] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741840_1021, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:44445] terminating
2020-12-03 07:20:57,281 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741840_1021, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:43948, 127.0.0.1:44445]] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:50958, dest: /127.0.0.1:43522, bytes: 3, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: 4dc3fc86-316f-46bd-b018-51709a77bcb4, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741840_1021, duration(ns): 3150123
2020-12-03 07:20:57,281 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741840_1021, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:43948, 127.0.0.1:44445]] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741840_1021, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:43948, 127.0.0.1:44445] terminating
2020-12-03 07:20:57,282 [IPC Server handler 6 on default port 39242] DEBUG hdfs.StateChange (FSDirWriteFileOp.java:completeFile(674)) - DIR* NameSystem.completeFile: /test/testSnapshotWithAppendTruncate for DFSClient_NONMAPREDUCE_-1095141669_1
2020-12-03 07:20:57,283 [IPC Server handler 6 on default port 39242] DEBUG hdfs.StateChange (FSNamesystem.java:closeFile(4036)) - closeFile: /test/testSnapshotWithAppendTruncate with 4 blocks is persisted to the file system
2020-12-03 07:20:57,283 [IPC Server handler 6 on default port 39242] INFO  hdfs.StateChange (FSNamesystem.java:completeFile(2948)) - DIR* completeFile: /test/testSnapshotWithAppendTruncate is closed by DFSClient_NONMAPREDUCE_-1095141669_1
2020-12-03 07:20:57,284 [IPC Server handler 9 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:57,286 [IPC Server handler 0 on default port 39242] ERROR namenode.NameNode (DirectoryWithQuotaFeature.java:checkStoragespace(143)) - BUG: Inconsistent storagespace for directory /test. Cached = 189 != Computed = 45
2020-12-03 07:20:57,287 [IPC Server handler 0 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=contentSummary	src=/test	dst=null	perm=null	proto=rpc
2020-12-03 07:20:57,288 [IPC Server handler 7 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=createSnapshot	src=/test	dst=/test/.snapshot/ss1	perm=null	proto=rpc
2020-12-03 07:20:57,289 [IPC Server handler 8 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=createSnapshot	src=/test	dst=/test/.snapshot/ss2	perm=null	proto=rpc
2020-12-03 07:20:57,290 [IPC Server handler 5 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=getfileinfo	src=/test/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:57,291 [IPC Server handler 3 on default port 39242] DEBUG hdfs.StateChange (NameNodeRpcServer.java:append(809)) - *DIR* NameNode.append: file /test/testSnapshotWithAppendTruncate for DFSClient_NONMAPREDUCE_-1095141669_1 at 127.0.0.1
2020-12-03 07:20:57,292 [IPC Server handler 3 on default port 39242] DEBUG hdfs.StateChange (FSNamesystem.java:appendFile(2710)) - DIR* NameSystem.appendFile: src=/test/testSnapshotWithAppendTruncate, holder=DFSClient_NONMAPREDUCE_-1095141669_1, clientMachine=127.0.0.1
2020-12-03 07:20:57,292 [IPC Server handler 3 on default port 39242] DEBUG hdfs.StateChange (FSDirAppendOp.java:appendFile(154)) - DIR* NameSystem.appendFile: file /test/testSnapshotWithAppendTruncate for DFSClient_NONMAPREDUCE_-1095141669_1 at 127.0.0.1 block BP-289139721-172.17.0.11-1606980047411:blk_1073741840_1021 block size 3
2020-12-03 07:20:57,292 [IPC Server handler 3 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=append	src=/test/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:57,297 [Thread-346] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:20:57,298 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:47562 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741840_1021]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741840_1021 src: /127.0.0.1:47562 dest: /127.0.0.1:44445
2020-12-03 07:20:57,299 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:47562 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741840_1021]] INFO  impl.FsDatasetImpl (FsDatasetImpl.java:append(1187)) - Appending to FinalizedReplica, blk_1073741840_1021, FINALIZED
  getNumBytes()     = 3
  getBytesOnDisk()  = 3
  getVisibleLength()= 3
  getVolume()       = /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data2
  getBlockURI()     = file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data2/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741840
2020-12-03 07:20:57,315 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:47562 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741840_1021]] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:20:57,316 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:41154 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741840_1021]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741840_1021 src: /127.0.0.1:41154 dest: /127.0.0.1:43948
2020-12-03 07:20:57,317 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:41154 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741840_1021]] INFO  impl.FsDatasetImpl (FsDatasetImpl.java:append(1187)) - Appending to FinalizedReplica, blk_1073741840_1021, FINALIZED
  getNumBytes()     = 3
  getBytesOnDisk()  = 3
  getVisibleLength()= 3
  getVolume()       = /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data4
  getBlockURI()     = file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data4/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741840
2020-12-03 07:20:57,335 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:41154 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741840_1021]] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:20:57,336 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:50968 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741840_1021]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741840_1021 src: /127.0.0.1:50968 dest: /127.0.0.1:43522
2020-12-03 07:20:57,337 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:50968 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741840_1021]] INFO  impl.FsDatasetImpl (FsDatasetImpl.java:append(1187)) - Appending to FinalizedReplica, blk_1073741840_1021, FINALIZED
  getNumBytes()     = 3
  getBytesOnDisk()  = 3
  getVisibleLength()= 3
  getVolume()       = /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data6
  getBlockURI()     = file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data6/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741840
2020-12-03 07:20:57,353 [IPC Server handler 1 on default port 39242] INFO  namenode.FSNamesystem (FSNamesystem.java:updatePipeline(5430)) - updatePipeline(blk_1073741840_1021, newGS=1022, newLength=3, newNodes=[127.0.0.1:44445, 127.0.0.1:43948, 127.0.0.1:43522], client=DFSClient_NONMAPREDUCE_-1095141669_1)
2020-12-03 07:20:57,354 [IPC Server handler 1 on default port 39242] DEBUG hdfs.StateChange (FSDirWriteFileOp.java:persistBlocks(111)) - persistBlocks: /test/testSnapshotWithAppendTruncate with 4 blocks is persisted to the file system
2020-12-03 07:20:57,354 [IPC Server handler 1 on default port 39242] INFO  namenode.FSNamesystem (FSNamesystem.java:updatePipeline(5448)) - updatePipeline(blk_1073741840_1021 => blk_1073741840_1022) success
2020-12-03 07:20:57,361 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741840_1022, type=LAST_IN_PIPELINE] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:50968, dest: /127.0.0.1:43522, bytes: 4, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: 4dc3fc86-316f-46bd-b018-51709a77bcb4, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741840_1022, duration(ns): 7975797
2020-12-03 07:20:57,361 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741840_1022, type=LAST_IN_PIPELINE] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741840_1022, type=LAST_IN_PIPELINE terminating
2020-12-03 07:20:57,362 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741840_1022, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:43522]] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:41154, dest: /127.0.0.1:43948, bytes: 4, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: cb9af4a7-3d3c-4e0a-a0a8-459be5d72fb4, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741840_1022, duration(ns): 9564021
2020-12-03 07:20:57,363 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741840_1022, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:43522]] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741840_1022, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:43522] terminating
2020-12-03 07:20:57,364 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741840_1022, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:43948, 127.0.0.1:43522]] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:47562, dest: /127.0.0.1:44445, bytes: 4, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: 09827f10-a8ef-4678-ab6b-635662dd143b, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741840_1022, duration(ns): 11034166
2020-12-03 07:20:57,364 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741840_1022, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:43948, 127.0.0.1:43522]] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741840_1022, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:43948, 127.0.0.1:43522] terminating
2020-12-03 07:20:57,365 [IPC Server handler 0 on default port 39242] DEBUG hdfs.StateChange (FSNamesystem.java:getAdditionalBlock(2767)) - BLOCK* getAdditionalBlock: /test/testSnapshotWithAppendTruncate  inodeId 16389 for DFSClient_NONMAPREDUCE_-1095141669_1
2020-12-03 07:20:57,367 [IPC Server handler 0 on default port 39242] DEBUG hdfs.StateChange (FSDirWriteFileOp.java:addBlock(524)) - DIR* FSDirectory.addBlock: /test/testSnapshotWithAppendTruncate with blk_1073741841_1023 block is added to the in-memory file system
2020-12-03 07:20:57,367 [IPC Server handler 0 on default port 39242] INFO  hdfs.StateChange (FSDirWriteFileOp.java:logAllocatedBlock(798)) - BLOCK* allocate blk_1073741841_1023, replicas=127.0.0.1:43948, 127.0.0.1:43522, 127.0.0.1:44445 for /test/testSnapshotWithAppendTruncate
2020-12-03 07:20:57,367 [IPC Server handler 0 on default port 39242] DEBUG hdfs.StateChange (FSDirWriteFileOp.java:persistNewBlock(758)) - persistNewBlock: /test/testSnapshotWithAppendTruncate with new block blk_1073741841_1023, current total block count is 5
2020-12-03 07:20:57,368 [DataStreamer for file /test/testSnapshotWithAppendTruncate] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:20:57,369 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:41158 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741841_1023]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741841_1023 src: /127.0.0.1:41158 dest: /127.0.0.1:43948
2020-12-03 07:20:57,370 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:41158 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741841_1023]] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:20:57,370 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:50972 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741841_1023]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741841_1023 src: /127.0.0.1:50972 dest: /127.0.0.1:43522
2020-12-03 07:20:57,371 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:50972 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741841_1023]] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:20:57,372 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:47574 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741841_1023]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741841_1023 src: /127.0.0.1:47574 dest: /127.0.0.1:44445
2020-12-03 07:20:57,376 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741841_1023, type=LAST_IN_PIPELINE] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:47574, dest: /127.0.0.1:44445, bytes: 4, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: 09827f10-a8ef-4678-ab6b-635662dd143b, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741841_1023, duration(ns): 2549557
2020-12-03 07:20:57,376 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741841_1023, type=LAST_IN_PIPELINE] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741841_1023, type=LAST_IN_PIPELINE terminating
2020-12-03 07:20:57,376 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741841_1023, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:44445]] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:50972, dest: /127.0.0.1:43522, bytes: 4, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: 4dc3fc86-316f-46bd-b018-51709a77bcb4, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741841_1023, duration(ns): 3297641
2020-12-03 07:20:57,377 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741841_1023, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:44445]] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741841_1023, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:44445] terminating
2020-12-03 07:20:57,377 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741841_1023, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:43522, 127.0.0.1:44445]] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:41158, dest: /127.0.0.1:43948, bytes: 4, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: cb9af4a7-3d3c-4e0a-a0a8-459be5d72fb4, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741841_1023, duration(ns): 3854177
2020-12-03 07:20:57,377 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741841_1023, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:43522, 127.0.0.1:44445]] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741841_1023, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:43522, 127.0.0.1:44445] terminating
2020-12-03 07:20:57,378 [IPC Server handler 3 on default port 39242] DEBUG hdfs.StateChange (FSDirWriteFileOp.java:completeFile(674)) - DIR* NameSystem.completeFile: /test/testSnapshotWithAppendTruncate for DFSClient_NONMAPREDUCE_-1095141669_1
2020-12-03 07:20:57,379 [IPC Server handler 3 on default port 39242] DEBUG hdfs.StateChange (FSNamesystem.java:closeFile(4036)) - closeFile: /test/testSnapshotWithAppendTruncate with 5 blocks is persisted to the file system
2020-12-03 07:20:57,379 [IPC Server handler 3 on default port 39242] INFO  hdfs.StateChange (FSNamesystem.java:completeFile(2948)) - DIR* completeFile: /test/testSnapshotWithAppendTruncate is closed by DFSClient_NONMAPREDUCE_-1095141669_1
2020-12-03 07:20:57,380 [IPC Server handler 2 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:57,383 [IPC Server handler 1 on default port 39242] ERROR namenode.NameNode (DirectoryWithQuotaFeature.java:checkStoragespace(143)) - BUG: Inconsistent storagespace for directory /test. Cached = 204 != Computed = 60
2020-12-03 07:20:57,383 [IPC Server handler 1 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=contentSummary	src=/test	dst=null	perm=null	proto=rpc
2020-12-03 07:20:57,384 [IPC Server handler 4 on default port 39242] DEBUG hdfs.StateChange (NameNodeRpcServer.java:truncate(1087)) - *DIR* NameNode.truncate: /test/testSnapshotWithAppendTruncate to 12
2020-12-03 07:20:57,384 [IPC Server handler 4 on default port 39242] DEBUG hdfs.StateChange (FSNamesystem.java:truncate(2136)) - DIR* NameSystem.truncate: src=/test/testSnapshotWithAppendTruncate newLength=12
2020-12-03 07:20:57,385 [IPC Server handler 4 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=truncate	src=/test/testSnapshotWithAppendTruncate	dst=null	perm=root:supergroup:rw-r--r--	proto=rpc
2020-12-03 07:20:57,387 [IPC Server handler 6 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/.snapshot/ss2/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:57,394 [IPC Server handler 9 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/.snapshot/ss1/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:57,401 [IPC Server handler 0 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/.snapshot/ss0/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:57,407 [IPC Server handler 7 on default port 39242] ERROR namenode.NameNode (DirectoryWithQuotaFeature.java:checkStoragespace(143)) - BUG: Inconsistent storagespace for directory /test. Cached = 192 != Computed = 48
2020-12-03 07:20:57,407 [IPC Server handler 7 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=contentSummary	src=/test	dst=null	perm=null	proto=rpc
2020-12-03 07:20:57,408 [IPC Server handler 8 on default port 39242] DEBUG hdfs.StateChange (NameNodeRpcServer.java:truncate(1087)) - *DIR* NameNode.truncate: /test/testSnapshotWithAppendTruncate to 8
2020-12-03 07:20:57,408 [IPC Server handler 8 on default port 39242] DEBUG hdfs.StateChange (FSNamesystem.java:truncate(2136)) - DIR* NameSystem.truncate: src=/test/testSnapshotWithAppendTruncate newLength=8
2020-12-03 07:20:57,409 [IPC Server handler 8 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=truncate	src=/test/testSnapshotWithAppendTruncate	dst=null	perm=root:supergroup:rw-r--r--	proto=rpc
2020-12-03 07:20:57,410 [IPC Server handler 5 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/.snapshot/ss2/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:57,421 [IPC Server handler 3 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/.snapshot/ss1/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:57,429 [IPC Server handler 2 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/.snapshot/ss0/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:57,434 [IPC Server handler 1 on default port 39242] ERROR namenode.NameNode (DirectoryWithQuotaFeature.java:checkStoragespace(143)) - BUG: Inconsistent storagespace for directory /test. Cached = 192 != Computed = 48
2020-12-03 07:20:57,434 [IPC Server handler 1 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=contentSummary	src=/test	dst=null	perm=null	proto=rpc
2020-12-03 07:20:57,435 [IPC Server handler 4 on default port 39242] DEBUG hdfs.StateChange (NameNodeRpcServer.java:truncate(1087)) - *DIR* NameNode.truncate: /test/testSnapshotWithAppendTruncate to 6
2020-12-03 07:20:57,436 [IPC Server handler 4 on default port 39242] DEBUG hdfs.StateChange (FSNamesystem.java:truncate(2136)) - DIR* NameSystem.truncate: src=/test/testSnapshotWithAppendTruncate newLength=6
2020-12-03 07:20:57,436 [IPC Server handler 4 on default port 39242] DEBUG hdfs.StateChange (FSDirTruncateOp.java:prepareFileForTruncate(252)) - BLOCK* prepareFileForTruncate: Scheduling copy-on-truncate to new size 2  new block blk_1073741842_1024 old block blk_1073741838_1018
2020-12-03 07:20:57,437 [IPC Server handler 4 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=truncate	src=/test/testSnapshotWithAppendTruncate	dst=null	perm=root:supergroup:rw-r--r--	proto=rpc
2020-12-03 07:20:57,438 [IPC Server handler 6 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:57,541 [IPC Server handler 9 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:57,644 [IPC Server handler 0 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:57,746 [IPC Server handler 7 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:57,845 [org.apache.hadoop.hdfs.server.datanode.BlockRecoveryWorker$1@6b09932c] INFO  datanode.DataNode (BlockRecoveryWorker.java:logRecoverBlock(549)) - BlockRecoveryWorker: NameNode at localhost/127.0.0.1:39242 calls recoverBlock(BP-289139721-172.17.0.11-1606980047411:blk_1073741838_1018, targets=[DatanodeInfoWithStorage[127.0.0.1:43522,null,null], DatanodeInfoWithStorage[127.0.0.1:43948,null,null], DatanodeInfoWithStorage[127.0.0.1:44445,null,null]], newGenerationStamp=1024, newBlock=blk_1073741842_1024, isStriped=false)
2020-12-03 07:20:57,845 [org.apache.hadoop.hdfs.server.datanode.BlockRecoveryWorker$1@6b09932c] INFO  impl.FsDatasetImpl (FsDatasetImpl.java:initReplicaRecoveryImpl(2588)) - initReplicaRecovery: blk_1073741838_1018, recoveryId=1024, replica=FinalizedReplica, blk_1073741838_1018, FINALIZED
  getNumBytes()     = 4
  getBytesOnDisk()  = 4
  getVisibleLength()= 4
  getVolume()       = /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data6
  getBlockURI()     = file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data6/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741838
2020-12-03 07:20:57,845 [org.apache.hadoop.hdfs.server.datanode.BlockRecoveryWorker$1@6b09932c] INFO  impl.FsDatasetImpl (FsDatasetImpl.java:initReplicaRecoveryImpl(2646)) - initReplicaRecovery: changing replica state for blk_1073741838_1018 from FINALIZED to RUR
2020-12-03 07:20:57,847 [IPC Server handler 0 on default port 38553] INFO  impl.FsDatasetImpl (FsDatasetImpl.java:initReplicaRecoveryImpl(2588)) - initReplicaRecovery: blk_1073741838_1018, recoveryId=1024, replica=FinalizedReplica, blk_1073741838_1018, FINALIZED
  getNumBytes()     = 4
  getBytesOnDisk()  = 4
  getVisibleLength()= 4
  getVolume()       = /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data4
  getBlockURI()     = file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data4/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741838
2020-12-03 07:20:57,847 [IPC Server handler 0 on default port 38553] INFO  impl.FsDatasetImpl (FsDatasetImpl.java:initReplicaRecoveryImpl(2646)) - initReplicaRecovery: changing replica state for blk_1073741838_1018 from FINALIZED to RUR
2020-12-03 07:20:57,849 [IPC Server handler 4 on default port 32989] INFO  impl.FsDatasetImpl (FsDatasetImpl.java:initReplicaRecoveryImpl(2588)) - initReplicaRecovery: blk_1073741838_1018, recoveryId=1024, replica=FinalizedReplica, blk_1073741838_1018, FINALIZED
  getNumBytes()     = 4
  getBytesOnDisk()  = 4
  getVisibleLength()= 4
  getVolume()       = /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data2
  getBlockURI()     = file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data2/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741838
2020-12-03 07:20:57,849 [IPC Server handler 4 on default port 32989] INFO  impl.FsDatasetImpl (FsDatasetImpl.java:initReplicaRecoveryImpl(2646)) - initReplicaRecovery: changing replica state for blk_1073741838_1018 from FINALIZED to RUR
2020-12-03 07:20:57,849 [IPC Server handler 2 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:57,849 [org.apache.hadoop.hdfs.server.datanode.BlockRecoveryWorker$1@6b09932c] INFO  datanode.DataNode (BlockRecoveryWorker.java:syncBlock(200)) - BlockRecoveryWorker: block=BP-289139721-172.17.0.11-1606980047411:blk_1073741838_1018 (length=4), isTruncateRecovery=true, syncList=[block:blk_1073741838_1018[numBytes=4,originalReplicaState=FINALIZED] node:DatanodeInfoWithStorage[127.0.0.1:43522,null,null], block:blk_1073741838_1018[numBytes=4,originalReplicaState=FINALIZED] node:DatanodeInfoWithStorage[127.0.0.1:43948,null,null], block:blk_1073741838_1018[numBytes=4,originalReplicaState=FINALIZED] node:DatanodeInfoWithStorage[127.0.0.1:44445,null,null]]
2020-12-03 07:20:57,850 [org.apache.hadoop.hdfs.server.datanode.BlockRecoveryWorker$1@6b09932c] INFO  datanode.DataNode (BlockRecoveryWorker.java:syncBlock(293)) - BlockRecoveryWorker: block=BP-289139721-172.17.0.11-1606980047411:blk_1073741838_1018 (length=4), bestState=FINALIZED, newBlock=BP-289139721-172.17.0.11-1606980047411:blk_1073741842_1024 (length=2), participatingList=[block:blk_1073741838_1018[numBytes=4,originalReplicaState=FINALIZED] node:DatanodeInfoWithStorage[127.0.0.1:43522,null,null], block:blk_1073741838_1018[numBytes=4,originalReplicaState=FINALIZED] node:DatanodeInfoWithStorage[127.0.0.1:43948,null,null], block:blk_1073741838_1018[numBytes=4,originalReplicaState=FINALIZED] node:DatanodeInfoWithStorage[127.0.0.1:44445,null,null]]
2020-12-03 07:20:57,850 [org.apache.hadoop.hdfs.server.datanode.BlockRecoveryWorker$1@6b09932c] INFO  impl.FsDatasetImpl (FsDatasetImpl.java:updateReplicaUnderRecovery(2667)) - updateReplica: BP-289139721-172.17.0.11-1606980047411:blk_1073741838_1018[numBytes=4,originalReplicaState=FINALIZED], recoveryId=1024, length=2, replica=ReplicaUnderRecovery, blk_1073741838_1018, RUR
  getNumBytes()     = 4
  getBytesOnDisk()  = 4
  getVisibleLength()= 4
  getVolume()       = /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data6
  getBlockURI()     = file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data6/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741838
  recoveryId=1024
  original=FinalizedReplica, blk_1073741838_1018, FINALIZED
  getNumBytes()     = 4
  getBytesOnDisk()  = 4
  getVisibleLength()= 4
  getVolume()       = /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data6
  getBlockURI()     = file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data6/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741838
2020-12-03 07:20:57,871 [org.apache.hadoop.hdfs.server.datanode.BlockRecoveryWorker$1@6b09932c] INFO  datanode.LocalReplica (LocalReplica.java:truncateBlock(473)) - truncateBlock: blockFile=/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data6/current/BP-289139721-172.17.0.11-1606980047411/tmp/subdir0/subdir0/blk_1073741842, metaFile=/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data6/current/BP-289139721-172.17.0.11-1606980047411/tmp/subdir0/subdir0/blk_1073741842_1024.meta, oldlen=4, newlen=2
2020-12-03 07:20:57,874 [IPC Server handler 3 on default port 38553] INFO  impl.FsDatasetImpl (FsDatasetImpl.java:updateReplicaUnderRecovery(2667)) - updateReplica: BP-289139721-172.17.0.11-1606980047411:blk_1073741838_1018, recoveryId=1024, length=2, replica=ReplicaUnderRecovery, blk_1073741838_1018, RUR
  getNumBytes()     = 4
  getBytesOnDisk()  = 4
  getVisibleLength()= 4
  getVolume()       = /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data4
  getBlockURI()     = file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data4/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741838
  recoveryId=1024
  original=FinalizedReplica, blk_1073741838_1018, FINALIZED
  getNumBytes()     = 4
  getBytesOnDisk()  = 4
  getVisibleLength()= 4
  getVolume()       = /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data4
  getBlockURI()     = file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data4/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741838
2020-12-03 07:20:57,890 [IPC Server handler 3 on default port 38553] INFO  datanode.LocalReplica (LocalReplica.java:truncateBlock(473)) - truncateBlock: blockFile=/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data4/current/BP-289139721-172.17.0.11-1606980047411/tmp/subdir0/subdir0/blk_1073741842, metaFile=/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data4/current/BP-289139721-172.17.0.11-1606980047411/tmp/subdir0/subdir0/blk_1073741842_1024.meta, oldlen=4, newlen=2
2020-12-03 07:20:57,892 [IPC Server handler 6 on default port 32989] INFO  impl.FsDatasetImpl (FsDatasetImpl.java:updateReplicaUnderRecovery(2667)) - updateReplica: BP-289139721-172.17.0.11-1606980047411:blk_1073741838_1018, recoveryId=1024, length=2, replica=ReplicaUnderRecovery, blk_1073741838_1018, RUR
  getNumBytes()     = 4
  getBytesOnDisk()  = 4
  getVisibleLength()= 4
  getVolume()       = /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data2
  getBlockURI()     = file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data2/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741838
  recoveryId=1024
  original=FinalizedReplica, blk_1073741838_1018, FINALIZED
  getNumBytes()     = 4
  getBytesOnDisk()  = 4
  getVisibleLength()= 4
  getVolume()       = /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data2
  getBlockURI()     = file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data2/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741838
2020-12-03 07:20:57,913 [IPC Server handler 6 on default port 32989] INFO  datanode.LocalReplica (LocalReplica.java:truncateBlock(473)) - truncateBlock: blockFile=/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data2/current/BP-289139721-172.17.0.11-1606980047411/tmp/subdir0/subdir0/blk_1073741842, metaFile=/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data2/current/BP-289139721-172.17.0.11-1606980047411/tmp/subdir0/subdir0/blk_1073741842_1024.meta, oldlen=4, newlen=2
2020-12-03 07:20:57,916 [IPC Server handler 9 on default port 39242] INFO  namenode.FSNamesystem (FSNamesystem.java:commitBlockSynchronization(3655)) - commitBlockSynchronization(oldBlock=BP-289139721-172.17.0.11-1606980047411:blk_1073741838_1018, newgenerationstamp=1024, newlength=2, newtargets=[127.0.0.1:43522, 127.0.0.1:43948, 127.0.0.1:44445], closeFile=true, deleteBlock=false)
2020-12-03 07:20:57,917 [IPC Server handler 9 on default port 39242] DEBUG hdfs.StateChange (FSNamesystem.java:closeFile(4036)) - closeFile: /test/testSnapshotWithAppendTruncate with 2 blocks is persisted to the file system
2020-12-03 07:20:57,917 [IPC Server handler 9 on default port 39242] INFO  namenode.FSNamesystem (FSNamesystem.java:commitBlockSynchronization(3805)) - commitBlockSynchronization(oldBlock=BP-289139721-172.17.0.11-1606980047411:blk_1073741838_1018, file=/test/testSnapshotWithAppendTruncate, newBlock=blk_1073741842_1024, newlength=2, newtargets=[127.0.0.1:43522, 127.0.0.1:43948, 127.0.0.1:44445]) successful
2020-12-03 07:20:57,952 [IPC Server handler 0 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:57,954 [IPC Server handler 7 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/.snapshot/ss2/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:57,962 [IPC Server handler 8 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/.snapshot/ss1/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:57,969 [IPC Server handler 3 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/.snapshot/ss0/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:57,975 [IPC Server handler 5 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:57,977 [IPC Server handler 2 on default port 39242] ERROR namenode.NameNode (DirectoryWithQuotaFeature.java:checkStoragespace(143)) - BUG: Inconsistent storagespace for directory /test. Cached = 198 != Computed = 54
2020-12-03 07:20:57,977 [IPC Server handler 2 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=contentSummary	src=/test	dst=null	perm=null	proto=rpc
2020-12-03 07:20:57,978 [IPC Server handler 1 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=createSnapshot	src=/test	dst=/test/.snapshot/ss3	perm=null	proto=rpc
2020-12-03 07:20:57,979 [IPC Server handler 4 on default port 39242] DEBUG hdfs.StateChange (NameNodeRpcServer.java:delete(1103)) - *DIR* Namenode.delete: src=/test/testSnapshotWithAppendTruncate, recursive=false
2020-12-03 07:20:57,979 [IPC Server handler 4 on default port 39242] DEBUG hdfs.StateChange (FSDirDeleteOp.java:deleteInternal(180)) - DIR* NameSystem.delete: /test/testSnapshotWithAppendTruncate
2020-12-03 07:20:57,980 [IPC Server handler 4 on default port 39242] DEBUG hdfs.StateChange (FSDirDeleteOp.java:delete(55)) - DIR* FSDirectory.delete: /test/testSnapshotWithAppendTruncate
2020-12-03 07:20:57,980 [IPC Server handler 4 on default port 39242] DEBUG hdfs.StateChange (FSDirDeleteOp.java:unprotectedDelete(269)) - DIR* FSDirectory.unprotectedDelete: /test/testSnapshotWithAppendTruncate is removed
2020-12-03 07:20:57,980 [IPC Server handler 4 on default port 39242] DEBUG hdfs.StateChange (FSDirDeleteOp.java:deleteInternal(201)) - DIR* Namesystem.delete: /test/testSnapshotWithAppendTruncate is removed
2020-12-03 07:20:57,980 [IPC Server handler 4 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=delete	src=/test/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:57,982 [IPC Server handler 6 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/.snapshot/ss3/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:57,991 [IPC Server handler 9 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/.snapshot/ss2/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:57,998 [IPC Server handler 0 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/.snapshot/ss1/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:58,005 [IPC Server handler 7 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/.snapshot/ss0/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:58,012 [IPC Server handler 8 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=deleteSnapshot	src=/test/.snapshot/ss3	dst=null	perm=null	proto=rpc
2020-12-03 07:20:58,013 [IPC Server handler 3 on default port 39242] ERROR namenode.NameNode (DirectoryWithQuotaFeature.java:checkStoragespace(143)) - BUG: Inconsistent storagespace for directory /test. Cached = 228 != Computed = 0
2020-12-03 07:20:58,013 [IPC Server handler 3 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=contentSummary	src=/test	dst=null	perm=null	proto=rpc
2020-12-03 07:20:58,015 [IPC Server handler 5 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=deleteSnapshot	src=/test/.snapshot/ss1	dst=null	perm=null	proto=rpc
2020-12-03 07:20:58,016 [IPC Server handler 2 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/.snapshot/ss0/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:58,022 [IPC Server handler 1 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/.snapshot/ss2/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:58,028 [IPC Server handler 4 on default port 39242] ERROR namenode.NameNode (DirectoryWithQuotaFeature.java:checkStoragespace(143)) - BUG: Inconsistent storagespace for directory /test. Cached = 228 != Computed = 0
2020-12-03 07:20:58,029 [IPC Server handler 4 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=contentSummary	src=/test	dst=null	perm=null	proto=rpc
2020-12-03 07:20:58,031 [IPC Server handler 6 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=deleteSnapshot	src=/test/.snapshot/ss0	dst=null	perm=null	proto=rpc
2020-12-03 07:20:58,034 [IPC Server handler 9 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/.snapshot/ss2/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:58,042 [IPC Server handler 0 on default port 39242] ERROR namenode.NameNode (DirectoryWithQuotaFeature.java:checkStoragespace(143)) - BUG: Inconsistent storagespace for directory /test. Cached = 264 != Computed = 0
2020-12-03 07:20:58,042 [IPC Server handler 0 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=contentSummary	src=/test	dst=null	perm=null	proto=rpc
2020-12-03 07:20:58,044 [IPC Server handler 7 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=getfileinfo	src=/test/.snapshot/ss0/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:58,046 [IPC Server handler 8 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=deleteSnapshot	src=/test/.snapshot/ss2	dst=null	perm=null	proto=rpc
2020-12-03 07:20:58,047 [IPC Server handler 3 on default port 39242] ERROR namenode.NameNode (DirectoryWithQuotaFeature.java:checkStoragespace(143)) - BUG: Inconsistent storagespace for directory /test. Cached = 216 != Computed = 0
2020-12-03 07:20:58,047 [IPC Server handler 3 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=contentSummary	src=/test	dst=null	perm=null	proto=rpc
2020-12-03 07:20:58,048 [IPC Server handler 5 on default port 39242] DEBUG hdfs.StateChange (NameNodeRpcServer.java:mkdirs(1139)) - *DIR* NameNode.mkdirs: /test
2020-12-03 07:20:58,049 [IPC Server handler 5 on default port 39242] DEBUG hdfs.StateChange (FSDirMkdirOp.java:mkdirs(46)) - DIR* NameSystem.mkdirs: /test
2020-12-03 07:20:58,049 [IPC Server handler 5 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=mkdirs	src=/test	dst=null	perm=root:supergroup:rwxr-xr-x	proto=rpc
2020-12-03 07:20:58,050 [IPC Server handler 2 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=setSpaceQuota	src=/test	dst=null	perm=null	proto=rpc
2020-12-03 07:20:58,051 [IPC Server handler 1 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=allowSnapshot	src=/test	dst=null	perm=null	proto=rpc
2020-12-03 07:20:58,052 [IPC Server handler 4 on default port 39242] DEBUG hdfs.StateChange (NameNodeRpcServer.java:mkdirs(1139)) - *DIR* NameNode.mkdirs: /test
2020-12-03 07:20:58,052 [IPC Server handler 4 on default port 39242] DEBUG hdfs.StateChange (FSDirMkdirOp.java:mkdirs(46)) - DIR* NameSystem.mkdirs: /test
2020-12-03 07:20:58,052 [IPC Server handler 4 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=mkdirs	src=/test	dst=null	perm=root:supergroup:rwxr-xr-x	proto=rpc
2020-12-03 07:20:58,053 [IPC Server handler 6 on default port 39242] DEBUG hdfs.StateChange (NameNodeRpcServer.java:create(774)) - *DIR* NameNode.create: file /test/testSnapshotWithAppendTruncate for DFSClient_NONMAPREDUCE_-1095141669_1 at 127.0.0.1
2020-12-03 07:20:58,053 [IPC Server handler 6 on default port 39242] DEBUG hdfs.StateChange (FSNamesystem.java:startFileInt(2460)) - DIR* NameSystem.startFile: src=/test/testSnapshotWithAppendTruncate, holder=DFSClient_NONMAPREDUCE_-1095141669_1, clientMachine=127.0.0.1, createParent=true, replication=3, createFlag=[CREATE, OVERWRITE], blockSize=4, supportedVersions=[CryptoProtocolVersion{description='Encryption zones', version=2, unknownValue=null}]
2020-12-03 07:20:58,054 [IPC Server handler 6 on default port 39242] DEBUG hdfs.StateChange (FSDirWriteFileOp.java:addFile(579)) - DIR* addFile: testSnapshotWithAppendTruncate is added
2020-12-03 07:20:58,054 [IPC Server handler 6 on default port 39242] DEBUG hdfs.StateChange (FSDirWriteFileOp.java:startFile(415)) - DIR* NameSystem.startFile: added /test/testSnapshotWithAppendTruncate inode 16390 DFSClient_NONMAPREDUCE_-1095141669_1
2020-12-03 07:20:58,054 [IPC Server handler 6 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=create	src=/test/testSnapshotWithAppendTruncate	dst=null	perm=root:supergroup:rw-r--r--	proto=rpc
2020-12-03 07:20:58,058 [IPC Server handler 9 on default port 39242] DEBUG hdfs.StateChange (FSNamesystem.java:getAdditionalBlock(2767)) - BLOCK* getAdditionalBlock: /test/testSnapshotWithAppendTruncate  inodeId 16390 for DFSClient_NONMAPREDUCE_-1095141669_1
2020-12-03 07:20:58,059 [IPC Server handler 9 on default port 39242] DEBUG hdfs.StateChange (FSDirWriteFileOp.java:addBlock(524)) - DIR* FSDirectory.addBlock: /test/testSnapshotWithAppendTruncate with blk_1073741843_1025 block is added to the in-memory file system
2020-12-03 07:20:58,059 [IPC Server handler 9 on default port 39242] INFO  hdfs.StateChange (FSDirWriteFileOp.java:logAllocatedBlock(798)) - BLOCK* allocate blk_1073741843_1025, replicas=127.0.0.1:43948, 127.0.0.1:44445, 127.0.0.1:43522 for /test/testSnapshotWithAppendTruncate
2020-12-03 07:20:58,060 [IPC Server handler 9 on default port 39242] DEBUG hdfs.StateChange (FSDirWriteFileOp.java:persistNewBlock(758)) - persistNewBlock: /test/testSnapshotWithAppendTruncate with new block blk_1073741843_1025, current total block count is 1
2020-12-03 07:20:58,061 [Thread-374] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:20:58,062 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:41182 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741843_1025]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741843_1025 src: /127.0.0.1:41182 dest: /127.0.0.1:43948
2020-12-03 07:20:58,299 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:41182 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741843_1025]] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:20:58,300 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:47594 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741843_1025]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741843_1025 src: /127.0.0.1:47594 dest: /127.0.0.1:44445
2020-12-03 07:20:58,301 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:47594 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741843_1025]] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:20:58,301 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:50998 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741843_1025]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741843_1025 src: /127.0.0.1:50998 dest: /127.0.0.1:43522
2020-12-03 07:20:58,317 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741843_1025, type=LAST_IN_PIPELINE] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:50998, dest: /127.0.0.1:43522, bytes: 4, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: 4dc3fc86-316f-46bd-b018-51709a77bcb4, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741843_1025, duration(ns): 3432614
2020-12-03 07:20:58,317 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741843_1025, type=LAST_IN_PIPELINE] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741843_1025, type=LAST_IN_PIPELINE terminating
2020-12-03 07:20:58,318 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741843_1025, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:43522]] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:47594, dest: /127.0.0.1:44445, bytes: 4, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: 09827f10-a8ef-4678-ab6b-635662dd143b, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741843_1025, duration(ns): 15210289
2020-12-03 07:20:58,318 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741843_1025, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:43522]] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741843_1025, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:43522] terminating
2020-12-03 07:20:58,319 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741843_1025, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:44445, 127.0.0.1:43522]] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:41182, dest: /127.0.0.1:43948, bytes: 4, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: cb9af4a7-3d3c-4e0a-a0a8-459be5d72fb4, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741843_1025, duration(ns): 15988981
2020-12-03 07:20:58,319 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741843_1025, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:44445, 127.0.0.1:43522]] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741843_1025, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:44445, 127.0.0.1:43522] terminating
2020-12-03 07:20:58,320 [IPC Server handler 3 on default port 39242] DEBUG hdfs.StateChange (FSNamesystem.java:getAdditionalBlock(2767)) - BLOCK* getAdditionalBlock: /test/testSnapshotWithAppendTruncate  inodeId 16390 for DFSClient_NONMAPREDUCE_-1095141669_1
2020-12-03 07:20:58,321 [IPC Server handler 3 on default port 39242] DEBUG hdfs.StateChange (FSDirWriteFileOp.java:addBlock(524)) - DIR* FSDirectory.addBlock: /test/testSnapshotWithAppendTruncate with blk_1073741844_1026 block is added to the in-memory file system
2020-12-03 07:20:58,321 [IPC Server handler 3 on default port 39242] INFO  hdfs.StateChange (FSDirWriteFileOp.java:logAllocatedBlock(798)) - BLOCK* allocate blk_1073741844_1026, replicas=127.0.0.1:43522, 127.0.0.1:44445, 127.0.0.1:43948 for /test/testSnapshotWithAppendTruncate
2020-12-03 07:20:58,321 [IPC Server handler 3 on default port 39242] DEBUG hdfs.StateChange (FSDirWriteFileOp.java:persistNewBlock(758)) - persistNewBlock: /test/testSnapshotWithAppendTruncate with new block blk_1073741844_1026, current total block count is 2
2020-12-03 07:20:58,322 [DataStreamer for file /test/testSnapshotWithAppendTruncate] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:20:58,323 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:51000 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741844_1026]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741844_1026 src: /127.0.0.1:51000 dest: /127.0.0.1:43522
2020-12-03 07:20:58,324 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:51000 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741844_1026]] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:20:58,325 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:47600 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741844_1026]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741844_1026 src: /127.0.0.1:47600 dest: /127.0.0.1:44445
2020-12-03 07:20:58,326 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:47600 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741844_1026]] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:20:58,326 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:41192 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741844_1026]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741844_1026 src: /127.0.0.1:41192 dest: /127.0.0.1:43948
2020-12-03 07:20:58,456 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741844_1026, type=LAST_IN_PIPELINE] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:41192, dest: /127.0.0.1:43948, bytes: 4, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: cb9af4a7-3d3c-4e0a-a0a8-459be5d72fb4, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741844_1026, duration(ns): 2521041
2020-12-03 07:20:58,456 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741844_1026, type=LAST_IN_PIPELINE] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741844_1026, type=LAST_IN_PIPELINE terminating
2020-12-03 07:20:58,457 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741844_1026, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:43948]] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:47600, dest: /127.0.0.1:44445, bytes: 4, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: 09827f10-a8ef-4678-ab6b-635662dd143b, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741844_1026, duration(ns): 129318728
2020-12-03 07:20:58,457 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741844_1026, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:43948]] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741844_1026, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:43948] terminating
2020-12-03 07:20:58,458 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741844_1026, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:44445, 127.0.0.1:43948]] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:51000, dest: /127.0.0.1:43522, bytes: 4, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: 4dc3fc86-316f-46bd-b018-51709a77bcb4, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741844_1026, duration(ns): 130160373
2020-12-03 07:20:58,458 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741844_1026, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:44445, 127.0.0.1:43948]] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741844_1026, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:44445, 127.0.0.1:43948] terminating
2020-12-03 07:20:58,459 [IPC Server handler 4 on default port 39242] DEBUG hdfs.StateChange (FSNamesystem.java:getAdditionalBlock(2767)) - BLOCK* getAdditionalBlock: /test/testSnapshotWithAppendTruncate  inodeId 16390 for DFSClient_NONMAPREDUCE_-1095141669_1
2020-12-03 07:20:58,460 [IPC Server handler 4 on default port 39242] DEBUG hdfs.StateChange (FSDirWriteFileOp.java:addBlock(524)) - DIR* FSDirectory.addBlock: /test/testSnapshotWithAppendTruncate with blk_1073741845_1027 block is added to the in-memory file system
2020-12-03 07:20:58,460 [IPC Server handler 4 on default port 39242] INFO  hdfs.StateChange (FSDirWriteFileOp.java:logAllocatedBlock(798)) - BLOCK* allocate blk_1073741845_1027, replicas=127.0.0.1:43948, 127.0.0.1:44445, 127.0.0.1:43522 for /test/testSnapshotWithAppendTruncate
2020-12-03 07:20:58,461 [IPC Server handler 4 on default port 39242] DEBUG hdfs.StateChange (FSDirWriteFileOp.java:persistNewBlock(758)) - persistNewBlock: /test/testSnapshotWithAppendTruncate with new block blk_1073741845_1027, current total block count is 3
2020-12-03 07:20:58,462 [DataStreamer for file /test/testSnapshotWithAppendTruncate] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:20:58,462 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:41194 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741845_1027]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741845_1027 src: /127.0.0.1:41194 dest: /127.0.0.1:43948
2020-12-03 07:20:58,463 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:41194 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741845_1027]] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:20:58,464 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:47606 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741845_1027]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741845_1027 src: /127.0.0.1:47606 dest: /127.0.0.1:44445
2020-12-03 07:20:58,465 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:47606 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741845_1027]] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:20:58,465 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:51010 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741845_1027]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741845_1027 src: /127.0.0.1:51010 dest: /127.0.0.1:43522
2020-12-03 07:20:58,469 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741845_1027, type=LAST_IN_PIPELINE] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:51010, dest: /127.0.0.1:43522, bytes: 2, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: 4dc3fc86-316f-46bd-b018-51709a77bcb4, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741845_1027, duration(ns): 2460873
2020-12-03 07:20:58,469 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741845_1027, type=LAST_IN_PIPELINE] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741845_1027, type=LAST_IN_PIPELINE terminating
2020-12-03 07:20:58,470 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741845_1027, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:43522]] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:47606, dest: /127.0.0.1:44445, bytes: 2, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: 09827f10-a8ef-4678-ab6b-635662dd143b, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741845_1027, duration(ns): 3338828
2020-12-03 07:20:58,470 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741845_1027, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:43522]] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741845_1027, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:43522] terminating
2020-12-03 07:20:58,471 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741845_1027, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:44445, 127.0.0.1:43522]] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:41194, dest: /127.0.0.1:43948, bytes: 2, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: cb9af4a7-3d3c-4e0a-a0a8-459be5d72fb4, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741845_1027, duration(ns): 4195600
2020-12-03 07:20:58,471 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741845_1027, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:44445, 127.0.0.1:43522]] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741845_1027, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:44445, 127.0.0.1:43522] terminating
2020-12-03 07:20:58,472 [IPC Server handler 7 on default port 39242] DEBUG hdfs.StateChange (FSDirWriteFileOp.java:completeFile(674)) - DIR* NameSystem.completeFile: /test/testSnapshotWithAppendTruncate for DFSClient_NONMAPREDUCE_-1095141669_1
2020-12-03 07:20:58,472 [IPC Server handler 7 on default port 39242] DEBUG hdfs.StateChange (FSNamesystem.java:closeFile(4036)) - closeFile: /test/testSnapshotWithAppendTruncate with 3 blocks is persisted to the file system
2020-12-03 07:20:58,473 [IPC Server handler 7 on default port 39242] INFO  hdfs.StateChange (FSNamesystem.java:completeFile(2948)) - DIR* completeFile: /test/testSnapshotWithAppendTruncate is closed by DFSClient_NONMAPREDUCE_-1095141669_1
2020-12-03 07:20:58,474 [IPC Server handler 8 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:58,476 [IPC Server handler 3 on default port 39242] ERROR namenode.NameNode (DirectoryWithQuotaFeature.java:checkStoragespace(143)) - BUG: Inconsistent storagespace for directory /test. Cached = 246 != Computed = 30
2020-12-03 07:20:58,476 [IPC Server handler 3 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=contentSummary	src=/test	dst=null	perm=null	proto=rpc
2020-12-03 07:20:58,477 [IPC Server handler 5 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=createSnapshot	src=/test	dst=/test/.snapshot/ss0	perm=null	proto=rpc
2020-12-03 07:20:58,478 [IPC Server handler 2 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=getfileinfo	src=/test/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:58,479 [IPC Server handler 1 on default port 39242] DEBUG hdfs.StateChange (NameNodeRpcServer.java:append(809)) - *DIR* NameNode.append: file /test/testSnapshotWithAppendTruncate for DFSClient_NONMAPREDUCE_-1095141669_1 at 127.0.0.1
2020-12-03 07:20:58,480 [IPC Server handler 1 on default port 39242] DEBUG hdfs.StateChange (FSNamesystem.java:appendFile(2710)) - DIR* NameSystem.appendFile: src=/test/testSnapshotWithAppendTruncate, holder=DFSClient_NONMAPREDUCE_-1095141669_1, clientMachine=127.0.0.1
2020-12-03 07:20:58,480 [IPC Server handler 1 on default port 39242] DEBUG hdfs.StateChange (FSDirAppendOp.java:appendFile(154)) - DIR* NameSystem.appendFile: file /test/testSnapshotWithAppendTruncate for DFSClient_NONMAPREDUCE_-1095141669_1 at 127.0.0.1 block BP-289139721-172.17.0.11-1606980047411:blk_1073741845_1027 block size 2
2020-12-03 07:20:58,480 [IPC Server handler 1 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=append	src=/test/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:58,483 [Thread-396] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:20:58,484 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:51012 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741845_1027]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741845_1027 src: /127.0.0.1:51012 dest: /127.0.0.1:43522
2020-12-03 07:20:58,484 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:51012 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741845_1027]] INFO  impl.FsDatasetImpl (FsDatasetImpl.java:append(1187)) - Appending to FinalizedReplica, blk_1073741845_1027, FINALIZED
  getNumBytes()     = 2
  getBytesOnDisk()  = 2
  getVisibleLength()= 2
  getVolume()       = /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data6
  getBlockURI()     = file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data6/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741845
2020-12-03 07:20:58,500 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:51012 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741845_1027]] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:20:58,501 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:47612 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741845_1027]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741845_1027 src: /127.0.0.1:47612 dest: /127.0.0.1:44445
2020-12-03 07:20:58,502 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:47612 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741845_1027]] INFO  impl.FsDatasetImpl (FsDatasetImpl.java:append(1187)) - Appending to FinalizedReplica, blk_1073741845_1027, FINALIZED
  getNumBytes()     = 2
  getBytesOnDisk()  = 2
  getVisibleLength()= 2
  getVolume()       = /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data2
  getBlockURI()     = file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data2/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741845
2020-12-03 07:20:58,516 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:47612 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741845_1027]] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:20:58,517 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:41204 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741845_1027]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741845_1027 src: /127.0.0.1:41204 dest: /127.0.0.1:43948
2020-12-03 07:20:58,517 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:41204 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741845_1027]] INFO  impl.FsDatasetImpl (FsDatasetImpl.java:append(1187)) - Appending to FinalizedReplica, blk_1073741845_1027, FINALIZED
  getNumBytes()     = 2
  getBytesOnDisk()  = 2
  getVisibleLength()= 2
  getVolume()       = /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data4
  getBlockURI()     = file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data4/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741845
2020-12-03 07:20:58,534 [IPC Server handler 6 on default port 39242] INFO  namenode.FSNamesystem (FSNamesystem.java:updatePipeline(5430)) - updatePipeline(blk_1073741845_1027, newGS=1028, newLength=2, newNodes=[127.0.0.1:43522, 127.0.0.1:44445, 127.0.0.1:43948], client=DFSClient_NONMAPREDUCE_-1095141669_1)
2020-12-03 07:20:58,534 [IPC Server handler 6 on default port 39242] DEBUG hdfs.StateChange (FSDirWriteFileOp.java:persistBlocks(111)) - persistBlocks: /test/testSnapshotWithAppendTruncate with 3 blocks is persisted to the file system
2020-12-03 07:20:58,535 [IPC Server handler 6 on default port 39242] INFO  namenode.FSNamesystem (FSNamesystem.java:updatePipeline(5448)) - updatePipeline(blk_1073741845_1027 => blk_1073741845_1028) success
2020-12-03 07:20:58,540 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741845_1028, type=LAST_IN_PIPELINE] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:41204, dest: /127.0.0.1:43948, bytes: 4, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: cb9af4a7-3d3c-4e0a-a0a8-459be5d72fb4, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741845_1028, duration(ns): 6889921
2020-12-03 07:20:58,540 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741845_1028, type=LAST_IN_PIPELINE] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741845_1028, type=LAST_IN_PIPELINE terminating
2020-12-03 07:20:58,541 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741845_1028, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:43948]] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:47612, dest: /127.0.0.1:44445, bytes: 4, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: 09827f10-a8ef-4678-ab6b-635662dd143b, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741845_1028, duration(ns): 7693832
2020-12-03 07:20:58,541 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741845_1028, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:43948]] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741845_1028, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:43948] terminating
2020-12-03 07:20:58,542 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741845_1028, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:44445, 127.0.0.1:43948]] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:51012, dest: /127.0.0.1:43522, bytes: 4, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: 4dc3fc86-316f-46bd-b018-51709a77bcb4, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741845_1028, duration(ns): 8346196
2020-12-03 07:20:58,542 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741845_1028, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:44445, 127.0.0.1:43948]] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741845_1028, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:44445, 127.0.0.1:43948] terminating
2020-12-03 07:20:58,543 [IPC Server handler 8 on default port 39242] DEBUG hdfs.StateChange (FSNamesystem.java:getAdditionalBlock(2767)) - BLOCK* getAdditionalBlock: /test/testSnapshotWithAppendTruncate  inodeId 16390 for DFSClient_NONMAPREDUCE_-1095141669_1
2020-12-03 07:20:58,544 [IPC Server handler 8 on default port 39242] DEBUG hdfs.StateChange (FSDirWriteFileOp.java:addBlock(524)) - DIR* FSDirectory.addBlock: /test/testSnapshotWithAppendTruncate with blk_1073741846_1029 block is added to the in-memory file system
2020-12-03 07:20:58,545 [IPC Server handler 8 on default port 39242] INFO  hdfs.StateChange (FSDirWriteFileOp.java:logAllocatedBlock(798)) - BLOCK* allocate blk_1073741846_1029, replicas=127.0.0.1:44445, 127.0.0.1:43522, 127.0.0.1:43948 for /test/testSnapshotWithAppendTruncate
2020-12-03 07:20:58,545 [IPC Server handler 8 on default port 39242] DEBUG hdfs.StateChange (FSDirWriteFileOp.java:persistNewBlock(758)) - persistNewBlock: /test/testSnapshotWithAppendTruncate with new block blk_1073741846_1029, current total block count is 4
2020-12-03 07:20:58,546 [DataStreamer for file /test/testSnapshotWithAppendTruncate] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:20:58,547 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:47616 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741846_1029]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741846_1029 src: /127.0.0.1:47616 dest: /127.0.0.1:44445
2020-12-03 07:20:58,548 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:47616 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741846_1029]] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:20:58,548 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:51020 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741846_1029]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741846_1029 src: /127.0.0.1:51020 dest: /127.0.0.1:43522
2020-12-03 07:20:58,549 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:51020 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741846_1029]] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:20:58,550 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:41210 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741846_1029]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741846_1029 src: /127.0.0.1:41210 dest: /127.0.0.1:43948
2020-12-03 07:20:58,553 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741846_1029, type=LAST_IN_PIPELINE] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:41210, dest: /127.0.0.1:43948, bytes: 3, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: cb9af4a7-3d3c-4e0a-a0a8-459be5d72fb4, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741846_1029, duration(ns): 2224305
2020-12-03 07:20:58,553 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741846_1029, type=LAST_IN_PIPELINE] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741846_1029, type=LAST_IN_PIPELINE terminating
2020-12-03 07:20:58,554 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741846_1029, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:43948]] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:51020, dest: /127.0.0.1:43522, bytes: 3, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: 4dc3fc86-316f-46bd-b018-51709a77bcb4, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741846_1029, duration(ns): 2847713
2020-12-03 07:20:58,554 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741846_1029, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:43948]] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741846_1029, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:43948] terminating
2020-12-03 07:20:58,555 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741846_1029, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:43522, 127.0.0.1:43948]] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:47616, dest: /127.0.0.1:44445, bytes: 3, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: 09827f10-a8ef-4678-ab6b-635662dd143b, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741846_1029, duration(ns): 3492789
2020-12-03 07:20:58,555 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741846_1029, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:43522, 127.0.0.1:43948]] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741846_1029, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:43522, 127.0.0.1:43948] terminating
2020-12-03 07:20:58,556 [IPC Server handler 1 on default port 39242] DEBUG hdfs.StateChange (FSDirWriteFileOp.java:completeFile(674)) - DIR* NameSystem.completeFile: /test/testSnapshotWithAppendTruncate for DFSClient_NONMAPREDUCE_-1095141669_1
2020-12-03 07:20:58,556 [IPC Server handler 1 on default port 39242] DEBUG hdfs.StateChange (FSNamesystem.java:closeFile(4036)) - closeFile: /test/testSnapshotWithAppendTruncate with 4 blocks is persisted to the file system
2020-12-03 07:20:58,556 [IPC Server handler 1 on default port 39242] INFO  hdfs.StateChange (FSNamesystem.java:completeFile(2948)) - DIR* completeFile: /test/testSnapshotWithAppendTruncate is closed by DFSClient_NONMAPREDUCE_-1095141669_1
2020-12-03 07:20:58,558 [IPC Server handler 4 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:58,560 [IPC Server handler 6 on default port 39242] ERROR namenode.NameNode (DirectoryWithQuotaFeature.java:checkStoragespace(143)) - BUG: Inconsistent storagespace for directory /test. Cached = 261 != Computed = 45
2020-12-03 07:20:58,560 [IPC Server handler 6 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=contentSummary	src=/test	dst=null	perm=null	proto=rpc
2020-12-03 07:20:58,561 [IPC Server handler 9 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=createSnapshot	src=/test	dst=/test/.snapshot/ss1	perm=null	proto=rpc
2020-12-03 07:20:58,563 [IPC Server handler 0 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=createSnapshot	src=/test	dst=/test/.snapshot/ss2	perm=null	proto=rpc
2020-12-03 07:20:58,564 [IPC Server handler 7 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=getfileinfo	src=/test/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:58,565 [IPC Server handler 8 on default port 39242] DEBUG hdfs.StateChange (NameNodeRpcServer.java:append(809)) - *DIR* NameNode.append: file /test/testSnapshotWithAppendTruncate for DFSClient_NONMAPREDUCE_-1095141669_1 at 127.0.0.1
2020-12-03 07:20:58,565 [IPC Server handler 8 on default port 39242] DEBUG hdfs.StateChange (FSNamesystem.java:appendFile(2710)) - DIR* NameSystem.appendFile: src=/test/testSnapshotWithAppendTruncate, holder=DFSClient_NONMAPREDUCE_-1095141669_1, clientMachine=127.0.0.1
2020-12-03 07:20:58,566 [IPC Server handler 8 on default port 39242] DEBUG hdfs.StateChange (FSDirAppendOp.java:appendFile(154)) - DIR* NameSystem.appendFile: file /test/testSnapshotWithAppendTruncate for DFSClient_NONMAPREDUCE_-1095141669_1 at 127.0.0.1 block BP-289139721-172.17.0.11-1606980047411:blk_1073741846_1029 block size 3
2020-12-03 07:20:58,567 [IPC Server handler 8 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=append	src=/test/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:58,570 [Thread-417] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:20:58,572 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:41212 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741846_1029]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741846_1029 src: /127.0.0.1:41212 dest: /127.0.0.1:43948
2020-12-03 07:20:58,572 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:41212 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741846_1029]] INFO  impl.FsDatasetImpl (FsDatasetImpl.java:append(1187)) - Appending to FinalizedReplica, blk_1073741846_1029, FINALIZED
  getNumBytes()     = 3
  getBytesOnDisk()  = 3
  getVisibleLength()= 3
  getVolume()       = /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data3
  getBlockURI()     = file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data3/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741846
2020-12-03 07:20:58,588 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:41212 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741846_1029]] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:20:58,589 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:51026 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741846_1029]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741846_1029 src: /127.0.0.1:51026 dest: /127.0.0.1:43522
2020-12-03 07:20:58,589 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:51026 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741846_1029]] INFO  impl.FsDatasetImpl (FsDatasetImpl.java:append(1187)) - Appending to FinalizedReplica, blk_1073741846_1029, FINALIZED
  getNumBytes()     = 3
  getBytesOnDisk()  = 3
  getVisibleLength()= 3
  getVolume()       = /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data5
  getBlockURI()     = file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data5/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741846
2020-12-03 07:20:58,603 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:51026 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741846_1029]] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:20:58,604 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:47626 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741846_1029]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741846_1029 src: /127.0.0.1:47626 dest: /127.0.0.1:44445
2020-12-03 07:20:58,604 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:47626 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741846_1029]] INFO  impl.FsDatasetImpl (FsDatasetImpl.java:append(1187)) - Appending to FinalizedReplica, blk_1073741846_1029, FINALIZED
  getNumBytes()     = 3
  getBytesOnDisk()  = 3
  getVisibleLength()= 3
  getVolume()       = /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data1
  getBlockURI()     = file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data1/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741846
2020-12-03 07:20:58,619 [IPC Server handler 5 on default port 39242] INFO  namenode.FSNamesystem (FSNamesystem.java:updatePipeline(5430)) - updatePipeline(blk_1073741846_1029, newGS=1030, newLength=3, newNodes=[127.0.0.1:43948, 127.0.0.1:43522, 127.0.0.1:44445], client=DFSClient_NONMAPREDUCE_-1095141669_1)
2020-12-03 07:20:58,619 [IPC Server handler 5 on default port 39242] DEBUG hdfs.StateChange (FSDirWriteFileOp.java:persistBlocks(111)) - persistBlocks: /test/testSnapshotWithAppendTruncate with 4 blocks is persisted to the file system
2020-12-03 07:20:58,619 [IPC Server handler 5 on default port 39242] INFO  namenode.FSNamesystem (FSNamesystem.java:updatePipeline(5448)) - updatePipeline(blk_1073741846_1029 => blk_1073741846_1030) success
2020-12-03 07:20:58,623 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741846_1030, type=LAST_IN_PIPELINE] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:47626, dest: /127.0.0.1:44445, bytes: 4, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: 09827f10-a8ef-4678-ab6b-635662dd143b, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741846_1030, duration(ns): 5529005
2020-12-03 07:20:58,624 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741846_1030, type=LAST_IN_PIPELINE] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741846_1030, type=LAST_IN_PIPELINE terminating
2020-12-03 07:20:58,624 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741846_1030, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:44445]] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:51026, dest: /127.0.0.1:43522, bytes: 4, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: 4dc3fc86-316f-46bd-b018-51709a77bcb4, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741846_1030, duration(ns): 6108478
2020-12-03 07:20:58,625 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741846_1030, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:44445]] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741846_1030, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:44445] terminating
2020-12-03 07:20:58,625 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741846_1030, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:43522, 127.0.0.1:44445]] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:41212, dest: /127.0.0.1:43948, bytes: 4, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: cb9af4a7-3d3c-4e0a-a0a8-459be5d72fb4, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741846_1030, duration(ns): 6598970
2020-12-03 07:20:58,625 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741846_1030, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:43522, 127.0.0.1:44445]] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741846_1030, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:43522, 127.0.0.1:44445] terminating
2020-12-03 07:20:58,626 [IPC Server handler 6 on default port 39242] DEBUG hdfs.StateChange (FSNamesystem.java:getAdditionalBlock(2767)) - BLOCK* getAdditionalBlock: /test/testSnapshotWithAppendTruncate  inodeId 16390 for DFSClient_NONMAPREDUCE_-1095141669_1
2020-12-03 07:20:58,627 [IPC Server handler 6 on default port 39242] DEBUG hdfs.StateChange (FSDirWriteFileOp.java:addBlock(524)) - DIR* FSDirectory.addBlock: /test/testSnapshotWithAppendTruncate with blk_1073741847_1031 block is added to the in-memory file system
2020-12-03 07:20:58,628 [IPC Server handler 6 on default port 39242] INFO  hdfs.StateChange (FSDirWriteFileOp.java:logAllocatedBlock(798)) - BLOCK* allocate blk_1073741847_1031, replicas=127.0.0.1:43522, 127.0.0.1:43948, 127.0.0.1:44445 for /test/testSnapshotWithAppendTruncate
2020-12-03 07:20:58,628 [IPC Server handler 6 on default port 39242] DEBUG hdfs.StateChange (FSDirWriteFileOp.java:persistNewBlock(758)) - persistNewBlock: /test/testSnapshotWithAppendTruncate with new block blk_1073741847_1031, current total block count is 5
2020-12-03 07:20:58,629 [DataStreamer for file /test/testSnapshotWithAppendTruncate] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:20:58,630 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:51030 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741847_1031]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741847_1031 src: /127.0.0.1:51030 dest: /127.0.0.1:43522
2020-12-03 07:20:58,631 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:51030 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741847_1031]] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:20:58,631 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:41220 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741847_1031]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741847_1031 src: /127.0.0.1:41220 dest: /127.0.0.1:43948
2020-12-03 07:20:58,632 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:41220 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741847_1031]] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:20:58,632 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:47632 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741847_1031]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741847_1031 src: /127.0.0.1:47632 dest: /127.0.0.1:44445
2020-12-03 07:20:58,637 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741847_1031, type=LAST_IN_PIPELINE] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:47632, dest: /127.0.0.1:44445, bytes: 4, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: 09827f10-a8ef-4678-ab6b-635662dd143b, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741847_1031, duration(ns): 3534537
2020-12-03 07:20:58,637 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741847_1031, type=LAST_IN_PIPELINE] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741847_1031, type=LAST_IN_PIPELINE terminating
2020-12-03 07:20:58,638 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741847_1031, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:44445]] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:41220, dest: /127.0.0.1:43948, bytes: 4, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: cb9af4a7-3d3c-4e0a-a0a8-459be5d72fb4, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741847_1031, duration(ns): 4053531
2020-12-03 07:20:58,638 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741847_1031, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:44445]] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741847_1031, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:44445] terminating
2020-12-03 07:20:58,639 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741847_1031, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:43948, 127.0.0.1:44445]] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:51030, dest: /127.0.0.1:43522, bytes: 4, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: 4dc3fc86-316f-46bd-b018-51709a77bcb4, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741847_1031, duration(ns): 4744026
2020-12-03 07:20:58,639 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741847_1031, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:43948, 127.0.0.1:44445]] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741847_1031, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:43948, 127.0.0.1:44445] terminating
2020-12-03 07:20:58,640 [IPC Server handler 8 on default port 39242] DEBUG hdfs.StateChange (FSDirWriteFileOp.java:completeFile(674)) - DIR* NameSystem.completeFile: /test/testSnapshotWithAppendTruncate for DFSClient_NONMAPREDUCE_-1095141669_1
2020-12-03 07:20:58,640 [IPC Server handler 8 on default port 39242] DEBUG hdfs.StateChange (FSNamesystem.java:closeFile(4036)) - closeFile: /test/testSnapshotWithAppendTruncate with 5 blocks is persisted to the file system
2020-12-03 07:20:58,641 [IPC Server handler 8 on default port 39242] INFO  hdfs.StateChange (FSNamesystem.java:completeFile(2948)) - DIR* completeFile: /test/testSnapshotWithAppendTruncate is closed by DFSClient_NONMAPREDUCE_-1095141669_1
2020-12-03 07:20:58,642 [IPC Server handler 3 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:58,644 [IPC Server handler 5 on default port 39242] ERROR namenode.NameNode (DirectoryWithQuotaFeature.java:checkStoragespace(143)) - BUG: Inconsistent storagespace for directory /test. Cached = 276 != Computed = 60
2020-12-03 07:20:58,644 [IPC Server handler 5 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=contentSummary	src=/test	dst=null	perm=null	proto=rpc
2020-12-03 07:20:58,645 [IPC Server handler 2 on default port 39242] DEBUG hdfs.StateChange (NameNodeRpcServer.java:truncate(1087)) - *DIR* NameNode.truncate: /test/testSnapshotWithAppendTruncate to 12
2020-12-03 07:20:58,646 [IPC Server handler 2 on default port 39242] DEBUG hdfs.StateChange (FSNamesystem.java:truncate(2136)) - DIR* NameSystem.truncate: src=/test/testSnapshotWithAppendTruncate newLength=12
2020-12-03 07:20:58,646 [IPC Server handler 2 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=truncate	src=/test/testSnapshotWithAppendTruncate	dst=null	perm=root:supergroup:rw-r--r--	proto=rpc
2020-12-03 07:20:58,647 [IPC Server handler 1 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/.snapshot/ss2/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:58,654 [IPC Server handler 4 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/.snapshot/ss1/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:58,661 [IPC Server handler 6 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/.snapshot/ss0/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:58,666 [IPC Server handler 9 on default port 39242] ERROR namenode.NameNode (DirectoryWithQuotaFeature.java:checkStoragespace(143)) - BUG: Inconsistent storagespace for directory /test. Cached = 264 != Computed = 48
2020-12-03 07:20:58,667 [IPC Server handler 9 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=contentSummary	src=/test	dst=null	perm=null	proto=rpc
2020-12-03 07:20:58,668 [IPC Server handler 0 on default port 39242] DEBUG hdfs.StateChange (NameNodeRpcServer.java:truncate(1087)) - *DIR* NameNode.truncate: /test/testSnapshotWithAppendTruncate to 8
2020-12-03 07:20:58,668 [IPC Server handler 0 on default port 39242] DEBUG hdfs.StateChange (FSNamesystem.java:truncate(2136)) - DIR* NameSystem.truncate: src=/test/testSnapshotWithAppendTruncate newLength=8
2020-12-03 07:20:58,668 [IPC Server handler 0 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=truncate	src=/test/testSnapshotWithAppendTruncate	dst=null	perm=root:supergroup:rw-r--r--	proto=rpc
2020-12-03 07:20:58,669 [IPC Server handler 7 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/.snapshot/ss2/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:58,675 [IPC Server handler 8 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/.snapshot/ss1/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:58,682 [IPC Server handler 3 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/.snapshot/ss0/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:58,687 [IPC Server handler 5 on default port 39242] ERROR namenode.NameNode (DirectoryWithQuotaFeature.java:checkStoragespace(143)) - BUG: Inconsistent storagespace for directory /test. Cached = 264 != Computed = 48
2020-12-03 07:20:58,687 [IPC Server handler 5 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=contentSummary	src=/test	dst=null	perm=null	proto=rpc
2020-12-03 07:20:58,688 [IPC Server handler 2 on default port 39242] DEBUG hdfs.StateChange (NameNodeRpcServer.java:truncate(1087)) - *DIR* NameNode.truncate: /test/testSnapshotWithAppendTruncate to 6
2020-12-03 07:20:58,688 [IPC Server handler 2 on default port 39242] DEBUG hdfs.StateChange (FSNamesystem.java:truncate(2136)) - DIR* NameSystem.truncate: src=/test/testSnapshotWithAppendTruncate newLength=6
2020-12-03 07:20:58,689 [IPC Server handler 2 on default port 39242] DEBUG hdfs.StateChange (FSDirTruncateOp.java:prepareFileForTruncate(252)) - BLOCK* prepareFileForTruncate: Scheduling copy-on-truncate to new size 2  new block blk_1073741848_1032 old block blk_1073741844_1026
2020-12-03 07:20:58,689 [IPC Server handler 2 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=truncate	src=/test/testSnapshotWithAppendTruncate	dst=null	perm=root:supergroup:rw-r--r--	proto=rpc
2020-12-03 07:20:58,690 [IPC Server handler 1 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:58,792 [IPC Server handler 4 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:58,849 [org.apache.hadoop.hdfs.server.datanode.BlockRecoveryWorker$1@25ae3d82] INFO  datanode.DataNode (BlockRecoveryWorker.java:logRecoverBlock(549)) - BlockRecoveryWorker: NameNode at localhost/127.0.0.1:39242 calls recoverBlock(BP-289139721-172.17.0.11-1606980047411:blk_1073741844_1026, targets=[DatanodeInfoWithStorage[127.0.0.1:43948,null,null], DatanodeInfoWithStorage[127.0.0.1:44445,null,null], DatanodeInfoWithStorage[127.0.0.1:43522,null,null]], newGenerationStamp=1032, newBlock=blk_1073741848_1032, isStriped=false)
2020-12-03 07:20:58,849 [org.apache.hadoop.hdfs.server.datanode.BlockRecoveryWorker$1@25ae3d82] INFO  impl.FsDatasetImpl (FsDatasetImpl.java:initReplicaRecoveryImpl(2588)) - initReplicaRecovery: blk_1073741844_1026, recoveryId=1032, replica=FinalizedReplica, blk_1073741844_1026, FINALIZED
  getNumBytes()     = 4
  getBytesOnDisk()  = 4
  getVisibleLength()= 4
  getVolume()       = /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data3
  getBlockURI()     = file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data3/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741844
2020-12-03 07:20:58,849 [org.apache.hadoop.hdfs.server.datanode.BlockRecoveryWorker$1@25ae3d82] INFO  impl.FsDatasetImpl (FsDatasetImpl.java:initReplicaRecoveryImpl(2646)) - initReplicaRecovery: changing replica state for blk_1073741844_1026 from FINALIZED to RUR
2020-12-03 07:20:58,855 [IPC Server handler 6 on default port 32989] INFO  impl.FsDatasetImpl (FsDatasetImpl.java:initReplicaRecoveryImpl(2588)) - initReplicaRecovery: blk_1073741844_1026, recoveryId=1032, replica=FinalizedReplica, blk_1073741844_1026, FINALIZED
  getNumBytes()     = 4
  getBytesOnDisk()  = 4
  getVisibleLength()= 4
  getVolume()       = /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data1
  getBlockURI()     = file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data1/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741844
2020-12-03 07:20:58,855 [IPC Server handler 6 on default port 32989] INFO  impl.FsDatasetImpl (FsDatasetImpl.java:initReplicaRecoveryImpl(2646)) - initReplicaRecovery: changing replica state for blk_1073741844_1026 from FINALIZED to RUR
2020-12-03 07:20:58,859 [IPC Server handler 0 on default port 42308] INFO  impl.FsDatasetImpl (FsDatasetImpl.java:initReplicaRecoveryImpl(2588)) - initReplicaRecovery: blk_1073741844_1026, recoveryId=1032, replica=FinalizedReplica, blk_1073741844_1026, FINALIZED
  getNumBytes()     = 4
  getBytesOnDisk()  = 4
  getVisibleLength()= 4
  getVolume()       = /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data5
  getBlockURI()     = file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data5/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741844
2020-12-03 07:20:58,859 [IPC Server handler 0 on default port 42308] INFO  impl.FsDatasetImpl (FsDatasetImpl.java:initReplicaRecoveryImpl(2646)) - initReplicaRecovery: changing replica state for blk_1073741844_1026 from FINALIZED to RUR
2020-12-03 07:20:58,866 [org.apache.hadoop.hdfs.server.datanode.BlockRecoveryWorker$1@25ae3d82] INFO  datanode.DataNode (BlockRecoveryWorker.java:syncBlock(200)) - BlockRecoveryWorker: block=BP-289139721-172.17.0.11-1606980047411:blk_1073741844_1026 (length=4), isTruncateRecovery=true, syncList=[block:blk_1073741844_1026[numBytes=4,originalReplicaState=FINALIZED] node:DatanodeInfoWithStorage[127.0.0.1:43948,null,null], block:blk_1073741844_1026[numBytes=4,originalReplicaState=FINALIZED] node:DatanodeInfoWithStorage[127.0.0.1:44445,null,null], block:blk_1073741844_1026[numBytes=4,originalReplicaState=FINALIZED] node:DatanodeInfoWithStorage[127.0.0.1:43522,null,null]]
2020-12-03 07:20:58,867 [org.apache.hadoop.hdfs.server.datanode.BlockRecoveryWorker$1@25ae3d82] INFO  datanode.DataNode (BlockRecoveryWorker.java:syncBlock(293)) - BlockRecoveryWorker: block=BP-289139721-172.17.0.11-1606980047411:blk_1073741844_1026 (length=4), bestState=FINALIZED, newBlock=BP-289139721-172.17.0.11-1606980047411:blk_1073741848_1032 (length=2), participatingList=[block:blk_1073741844_1026[numBytes=4,originalReplicaState=FINALIZED] node:DatanodeInfoWithStorage[127.0.0.1:43948,null,null], block:blk_1073741844_1026[numBytes=4,originalReplicaState=FINALIZED] node:DatanodeInfoWithStorage[127.0.0.1:44445,null,null], block:blk_1073741844_1026[numBytes=4,originalReplicaState=FINALIZED] node:DatanodeInfoWithStorage[127.0.0.1:43522,null,null]]
2020-12-03 07:20:58,867 [org.apache.hadoop.hdfs.server.datanode.BlockRecoveryWorker$1@25ae3d82] INFO  impl.FsDatasetImpl (FsDatasetImpl.java:updateReplicaUnderRecovery(2667)) - updateReplica: BP-289139721-172.17.0.11-1606980047411:blk_1073741844_1026[numBytes=4,originalReplicaState=FINALIZED], recoveryId=1032, length=2, replica=ReplicaUnderRecovery, blk_1073741844_1026, RUR
  getNumBytes()     = 4
  getBytesOnDisk()  = 4
  getVisibleLength()= 4
  getVolume()       = /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data3
  getBlockURI()     = file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data3/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741844
  recoveryId=1032
  original=FinalizedReplica, blk_1073741844_1026, FINALIZED
  getNumBytes()     = 4
  getBytesOnDisk()  = 4
  getVisibleLength()= 4
  getVolume()       = /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data3
  getBlockURI()     = file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data3/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741844
2020-12-03 07:20:58,887 [org.apache.hadoop.hdfs.server.datanode.BlockRecoveryWorker$1@25ae3d82] INFO  datanode.LocalReplica (LocalReplica.java:truncateBlock(473)) - truncateBlock: blockFile=/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data3/current/BP-289139721-172.17.0.11-1606980047411/tmp/subdir0/subdir0/blk_1073741848, metaFile=/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data3/current/BP-289139721-172.17.0.11-1606980047411/tmp/subdir0/subdir0/blk_1073741848_1032.meta, oldlen=4, newlen=2
2020-12-03 07:20:58,891 [IPC Server handler 8 on default port 32989] INFO  impl.FsDatasetImpl (FsDatasetImpl.java:updateReplicaUnderRecovery(2667)) - updateReplica: BP-289139721-172.17.0.11-1606980047411:blk_1073741844_1026, recoveryId=1032, length=2, replica=ReplicaUnderRecovery, blk_1073741844_1026, RUR
  getNumBytes()     = 4
  getBytesOnDisk()  = 4
  getVisibleLength()= 4
  getVolume()       = /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data1
  getBlockURI()     = file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data1/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741844
  recoveryId=1032
  original=FinalizedReplica, blk_1073741844_1026, FINALIZED
  getNumBytes()     = 4
  getBytesOnDisk()  = 4
  getVisibleLength()= 4
  getVolume()       = /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data1
  getBlockURI()     = file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data1/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741844
2020-12-03 07:20:58,895 [IPC Server handler 8 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:58,967 [IPC Server handler 8 on default port 32989] INFO  datanode.LocalReplica (LocalReplica.java:truncateBlock(473)) - truncateBlock: blockFile=/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data1/current/BP-289139721-172.17.0.11-1606980047411/tmp/subdir0/subdir0/blk_1073741848, metaFile=/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data1/current/BP-289139721-172.17.0.11-1606980047411/tmp/subdir0/subdir0/blk_1073741848_1032.meta, oldlen=4, newlen=2
2020-12-03 07:20:58,969 [IPC Server handler 1 on default port 42308] INFO  impl.FsDatasetImpl (FsDatasetImpl.java:updateReplicaUnderRecovery(2667)) - updateReplica: BP-289139721-172.17.0.11-1606980047411:blk_1073741844_1026, recoveryId=1032, length=2, replica=ReplicaUnderRecovery, blk_1073741844_1026, RUR
  getNumBytes()     = 4
  getBytesOnDisk()  = 4
  getVisibleLength()= 4
  getVolume()       = /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data5
  getBlockURI()     = file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data5/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741844
  recoveryId=1032
  original=FinalizedReplica, blk_1073741844_1026, FINALIZED
  getNumBytes()     = 4
  getBytesOnDisk()  = 4
  getVisibleLength()= 4
  getVolume()       = /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data5
  getBlockURI()     = file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data5/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741844
2020-12-03 07:20:58,989 [IPC Server handler 1 on default port 42308] INFO  datanode.LocalReplica (LocalReplica.java:truncateBlock(473)) - truncateBlock: blockFile=/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data5/current/BP-289139721-172.17.0.11-1606980047411/tmp/subdir0/subdir0/blk_1073741848, metaFile=/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data5/current/BP-289139721-172.17.0.11-1606980047411/tmp/subdir0/subdir0/blk_1073741848_1032.meta, oldlen=4, newlen=2
2020-12-03 07:20:58,992 [IPC Server handler 2 on default port 39242] INFO  namenode.FSNamesystem (FSNamesystem.java:commitBlockSynchronization(3655)) - commitBlockSynchronization(oldBlock=BP-289139721-172.17.0.11-1606980047411:blk_1073741844_1026, newgenerationstamp=1032, newlength=2, newtargets=[127.0.0.1:43948, 127.0.0.1:44445, 127.0.0.1:43522], closeFile=true, deleteBlock=false)
2020-12-03 07:20:58,993 [IPC Server handler 2 on default port 39242] DEBUG hdfs.StateChange (FSNamesystem.java:closeFile(4036)) - closeFile: /test/testSnapshotWithAppendTruncate with 2 blocks is persisted to the file system
2020-12-03 07:20:58,993 [IPC Server handler 2 on default port 39242] INFO  namenode.FSNamesystem (FSNamesystem.java:commitBlockSynchronization(3805)) - commitBlockSynchronization(oldBlock=BP-289139721-172.17.0.11-1606980047411:blk_1073741844_1026, file=/test/testSnapshotWithAppendTruncate, newBlock=blk_1073741848_1032, newlength=2, newtargets=[127.0.0.1:43948, 127.0.0.1:44445, 127.0.0.1:43522]) successful
2020-12-03 07:20:59,000 [IPC Server handler 1 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:59,002 [IPC Server handler 4 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/.snapshot/ss2/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:59,013 [IPC Server handler 6 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/.snapshot/ss1/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:59,020 [IPC Server handler 9 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/.snapshot/ss0/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:59,026 [IPC Server handler 0 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:59,028 [IPC Server handler 7 on default port 39242] ERROR namenode.NameNode (DirectoryWithQuotaFeature.java:checkStoragespace(143)) - BUG: Inconsistent storagespace for directory /test. Cached = 270 != Computed = 54
2020-12-03 07:20:59,028 [IPC Server handler 7 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=contentSummary	src=/test	dst=null	perm=null	proto=rpc
2020-12-03 07:20:59,035 [IPC Server handler 8 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=createSnapshot	src=/test	dst=/test/.snapshot/ss3	perm=null	proto=rpc
2020-12-03 07:20:59,042 [IPC Server handler 3 on default port 39242] DEBUG hdfs.StateChange (NameNodeRpcServer.java:delete(1103)) - *DIR* Namenode.delete: src=/test/testSnapshotWithAppendTruncate, recursive=false
2020-12-03 07:20:59,043 [IPC Server handler 3 on default port 39242] DEBUG hdfs.StateChange (FSDirDeleteOp.java:deleteInternal(180)) - DIR* NameSystem.delete: /test/testSnapshotWithAppendTruncate
2020-12-03 07:20:59,043 [IPC Server handler 3 on default port 39242] DEBUG hdfs.StateChange (FSDirDeleteOp.java:delete(55)) - DIR* FSDirectory.delete: /test/testSnapshotWithAppendTruncate
2020-12-03 07:20:59,043 [IPC Server handler 3 on default port 39242] DEBUG hdfs.StateChange (FSDirDeleteOp.java:unprotectedDelete(269)) - DIR* FSDirectory.unprotectedDelete: /test/testSnapshotWithAppendTruncate is removed
2020-12-03 07:20:59,044 [IPC Server handler 3 on default port 39242] DEBUG hdfs.StateChange (FSDirDeleteOp.java:deleteInternal(201)) - DIR* Namesystem.delete: /test/testSnapshotWithAppendTruncate is removed
2020-12-03 07:20:59,044 [IPC Server handler 3 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=delete	src=/test/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:59,052 [IPC Server handler 5 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/.snapshot/ss3/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:59,063 [IPC Server handler 2 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/.snapshot/ss2/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:59,081 [IPC Server handler 1 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/.snapshot/ss1/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:59,088 [IPC Server handler 4 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/.snapshot/ss0/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:59,097 [IPC Server handler 6 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=deleteSnapshot	src=/test/.snapshot/ss3	dst=null	perm=null	proto=rpc
2020-12-03 07:20:59,098 [IPC Server handler 9 on default port 39242] ERROR namenode.NameNode (DirectoryWithQuotaFeature.java:checkStoragespace(143)) - BUG: Inconsistent storagespace for directory /test. Cached = 300 != Computed = 0
2020-12-03 07:20:59,098 [IPC Server handler 9 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=contentSummary	src=/test	dst=null	perm=null	proto=rpc
2020-12-03 07:20:59,100 [IPC Server handler 0 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=deleteSnapshot	src=/test/.snapshot/ss1	dst=null	perm=null	proto=rpc
2020-12-03 07:20:59,102 [IPC Server handler 7 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/.snapshot/ss2/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:59,109 [IPC Server handler 8 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/.snapshot/ss0/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:59,117 [IPC Server handler 3 on default port 39242] ERROR namenode.NameNode (DirectoryWithQuotaFeature.java:checkStoragespace(143)) - BUG: Inconsistent storagespace for directory /test. Cached = 300 != Computed = 0
2020-12-03 07:20:59,117 [IPC Server handler 3 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=contentSummary	src=/test	dst=null	perm=null	proto=rpc
2020-12-03 07:20:59,119 [IPC Server handler 5 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=deleteSnapshot	src=/test/.snapshot/ss2	dst=null	perm=null	proto=rpc
2020-12-03 07:20:59,120 [IPC Server handler 2 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/.snapshot/ss0/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:59,126 [IPC Server handler 1 on default port 39242] ERROR namenode.NameNode (DirectoryWithQuotaFeature.java:checkStoragespace(143)) - BUG: Inconsistent storagespace for directory /test. Cached = 324 != Computed = 0
2020-12-03 07:20:59,127 [IPC Server handler 1 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=contentSummary	src=/test	dst=null	perm=null	proto=rpc
2020-12-03 07:20:59,128 [IPC Server handler 4 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=getfileinfo	src=/test/.snapshot/ss0/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:59,131 [IPC Server handler 6 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=deleteSnapshot	src=/test/.snapshot/ss0	dst=null	perm=null	proto=rpc
2020-12-03 07:20:59,133 [IPC Server handler 9 on default port 39242] ERROR namenode.NameNode (DirectoryWithQuotaFeature.java:checkStoragespace(143)) - BUG: Inconsistent storagespace for directory /test. Cached = 288 != Computed = 0
2020-12-03 07:20:59,133 [IPC Server handler 9 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=contentSummary	src=/test	dst=null	perm=null	proto=rpc
2020-12-03 07:20:59,134 [IPC Server handler 0 on default port 39242] DEBUG hdfs.StateChange (NameNodeRpcServer.java:mkdirs(1139)) - *DIR* NameNode.mkdirs: /test
2020-12-03 07:20:59,134 [IPC Server handler 0 on default port 39242] DEBUG hdfs.StateChange (FSDirMkdirOp.java:mkdirs(46)) - DIR* NameSystem.mkdirs: /test
2020-12-03 07:20:59,135 [IPC Server handler 0 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=mkdirs	src=/test	dst=null	perm=root:supergroup:rwxr-xr-x	proto=rpc
2020-12-03 07:20:59,136 [IPC Server handler 7 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=setSpaceQuota	src=/test	dst=null	perm=null	proto=rpc
2020-12-03 07:20:59,139 [IPC Server handler 8 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=allowSnapshot	src=/test	dst=null	perm=null	proto=rpc
2020-12-03 07:20:59,141 [IPC Server handler 3 on default port 39242] DEBUG hdfs.StateChange (NameNodeRpcServer.java:mkdirs(1139)) - *DIR* NameNode.mkdirs: /test
2020-12-03 07:20:59,141 [IPC Server handler 3 on default port 39242] DEBUG hdfs.StateChange (FSDirMkdirOp.java:mkdirs(46)) - DIR* NameSystem.mkdirs: /test
2020-12-03 07:20:59,141 [IPC Server handler 3 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=mkdirs	src=/test	dst=null	perm=root:supergroup:rwxr-xr-x	proto=rpc
2020-12-03 07:20:59,146 [IPC Server handler 5 on default port 39242] DEBUG hdfs.StateChange (NameNodeRpcServer.java:create(774)) - *DIR* NameNode.create: file /test/testSnapshotWithAppendTruncate for DFSClient_NONMAPREDUCE_-1095141669_1 at 127.0.0.1
2020-12-03 07:20:59,147 [IPC Server handler 5 on default port 39242] DEBUG hdfs.StateChange (FSNamesystem.java:startFileInt(2460)) - DIR* NameSystem.startFile: src=/test/testSnapshotWithAppendTruncate, holder=DFSClient_NONMAPREDUCE_-1095141669_1, clientMachine=127.0.0.1, createParent=true, replication=3, createFlag=[CREATE, OVERWRITE], blockSize=4, supportedVersions=[CryptoProtocolVersion{description='Encryption zones', version=2, unknownValue=null}]
2020-12-03 07:20:59,147 [IPC Server handler 5 on default port 39242] DEBUG hdfs.StateChange (FSDirWriteFileOp.java:addFile(579)) - DIR* addFile: testSnapshotWithAppendTruncate is added
2020-12-03 07:20:59,148 [IPC Server handler 5 on default port 39242] DEBUG hdfs.StateChange (FSDirWriteFileOp.java:startFile(415)) - DIR* NameSystem.startFile: added /test/testSnapshotWithAppendTruncate inode 16391 DFSClient_NONMAPREDUCE_-1095141669_1
2020-12-03 07:20:59,148 [IPC Server handler 5 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=create	src=/test/testSnapshotWithAppendTruncate	dst=null	perm=root:supergroup:rw-r--r--	proto=rpc
2020-12-03 07:20:59,152 [IPC Server handler 2 on default port 39242] DEBUG hdfs.StateChange (FSNamesystem.java:getAdditionalBlock(2767)) - BLOCK* getAdditionalBlock: /test/testSnapshotWithAppendTruncate  inodeId 16391 for DFSClient_NONMAPREDUCE_-1095141669_1
2020-12-03 07:20:59,154 [IPC Server handler 2 on default port 39242] DEBUG hdfs.StateChange (FSDirWriteFileOp.java:addBlock(524)) - DIR* FSDirectory.addBlock: /test/testSnapshotWithAppendTruncate with blk_1073741849_1033 block is added to the in-memory file system
2020-12-03 07:20:59,155 [IPC Server handler 2 on default port 39242] INFO  hdfs.StateChange (FSDirWriteFileOp.java:logAllocatedBlock(798)) - BLOCK* allocate blk_1073741849_1033, replicas=127.0.0.1:43522, 127.0.0.1:43948, 127.0.0.1:44445 for /test/testSnapshotWithAppendTruncate
2020-12-03 07:20:59,155 [IPC Server handler 2 on default port 39242] DEBUG hdfs.StateChange (FSDirWriteFileOp.java:persistNewBlock(758)) - persistNewBlock: /test/testSnapshotWithAppendTruncate with new block blk_1073741849_1033, current total block count is 1
2020-12-03 07:20:59,159 [Thread-446] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:20:59,160 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:51038 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741849_1033]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741849_1033 src: /127.0.0.1:51038 dest: /127.0.0.1:43522
2020-12-03 07:20:59,161 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:51038 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741849_1033]] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:20:59,161 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:41228 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741849_1033]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741849_1033 src: /127.0.0.1:41228 dest: /127.0.0.1:43948
2020-12-03 07:20:59,162 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:41228 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741849_1033]] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:20:59,163 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:47640 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741849_1033]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741849_1033 src: /127.0.0.1:47640 dest: /127.0.0.1:44445
2020-12-03 07:20:59,226 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741849_1033, type=LAST_IN_PIPELINE] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:47640, dest: /127.0.0.1:44445, bytes: 4, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: 09827f10-a8ef-4678-ab6b-635662dd143b, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741849_1033, duration(ns): 61929565
2020-12-03 07:20:59,227 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741849_1033, type=LAST_IN_PIPELINE] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741849_1033, type=LAST_IN_PIPELINE terminating
2020-12-03 07:20:59,227 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741849_1033, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:44445]] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:41228, dest: /127.0.0.1:43948, bytes: 4, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: cb9af4a7-3d3c-4e0a-a0a8-459be5d72fb4, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741849_1033, duration(ns): 63243762
2020-12-03 07:20:59,227 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741849_1033, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:44445]] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741849_1033, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:44445] terminating
2020-12-03 07:20:59,228 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741849_1033, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:43948, 127.0.0.1:44445]] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:51038, dest: /127.0.0.1:43522, bytes: 4, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: 4dc3fc86-316f-46bd-b018-51709a77bcb4, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741849_1033, duration(ns): 63096979
2020-12-03 07:20:59,228 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741849_1033, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:43948, 127.0.0.1:44445]] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741849_1033, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:43948, 127.0.0.1:44445] terminating
2020-12-03 07:20:59,234 [IPC Server handler 6 on default port 39242] DEBUG hdfs.StateChange (FSNamesystem.java:getAdditionalBlock(2767)) - BLOCK* getAdditionalBlock: /test/testSnapshotWithAppendTruncate  inodeId 16391 for DFSClient_NONMAPREDUCE_-1095141669_1
2020-12-03 07:20:59,236 [IPC Server handler 6 on default port 39242] DEBUG hdfs.StateChange (FSDirWriteFileOp.java:addBlock(524)) - DIR* FSDirectory.addBlock: /test/testSnapshotWithAppendTruncate with blk_1073741850_1034 block is added to the in-memory file system
2020-12-03 07:20:59,236 [IPC Server handler 6 on default port 39242] INFO  hdfs.StateChange (FSDirWriteFileOp.java:logAllocatedBlock(798)) - BLOCK* allocate blk_1073741850_1034, replicas=127.0.0.1:44445, 127.0.0.1:43948, 127.0.0.1:43522 for /test/testSnapshotWithAppendTruncate
2020-12-03 07:20:59,236 [IPC Server handler 6 on default port 39242] DEBUG hdfs.StateChange (FSDirWriteFileOp.java:persistNewBlock(758)) - persistNewBlock: /test/testSnapshotWithAppendTruncate with new block blk_1073741850_1034, current total block count is 2
2020-12-03 07:20:59,237 [DataStreamer for file /test/testSnapshotWithAppendTruncate] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:20:59,238 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:47646 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741850_1034]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741850_1034 src: /127.0.0.1:47646 dest: /127.0.0.1:44445
2020-12-03 07:20:59,239 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:47646 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741850_1034]] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:20:59,240 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:41238 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741850_1034]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741850_1034 src: /127.0.0.1:41238 dest: /127.0.0.1:43948
2020-12-03 07:20:59,240 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:41238 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741850_1034]] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:20:59,241 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:51052 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741850_1034]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741850_1034 src: /127.0.0.1:51052 dest: /127.0.0.1:43522
2020-12-03 07:20:59,245 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741850_1034, type=LAST_IN_PIPELINE] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:51052, dest: /127.0.0.1:43522, bytes: 4, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: 4dc3fc86-316f-46bd-b018-51709a77bcb4, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741850_1034, duration(ns): 2350952
2020-12-03 07:20:59,245 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741850_1034, type=LAST_IN_PIPELINE] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741850_1034, type=LAST_IN_PIPELINE terminating
2020-12-03 07:20:59,245 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741850_1034, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:43522]] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:41238, dest: /127.0.0.1:43948, bytes: 4, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: cb9af4a7-3d3c-4e0a-a0a8-459be5d72fb4, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741850_1034, duration(ns): 3065148
2020-12-03 07:20:59,245 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741850_1034, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:43522]] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741850_1034, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:43522] terminating
2020-12-03 07:20:59,246 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741850_1034, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:43948, 127.0.0.1:43522]] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:47646, dest: /127.0.0.1:44445, bytes: 4, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: 09827f10-a8ef-4678-ab6b-635662dd143b, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741850_1034, duration(ns): 3652780
2020-12-03 07:20:59,246 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741850_1034, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:43948, 127.0.0.1:43522]] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741850_1034, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:43948, 127.0.0.1:43522] terminating
2020-12-03 07:20:59,249 [IPC Server handler 3 on default port 39242] DEBUG hdfs.StateChange (FSNamesystem.java:getAdditionalBlock(2767)) - BLOCK* getAdditionalBlock: /test/testSnapshotWithAppendTruncate  inodeId 16391 for DFSClient_NONMAPREDUCE_-1095141669_1
2020-12-03 07:20:59,251 [IPC Server handler 3 on default port 39242] DEBUG hdfs.StateChange (FSDirWriteFileOp.java:addBlock(524)) - DIR* FSDirectory.addBlock: /test/testSnapshotWithAppendTruncate with blk_1073741851_1035 block is added to the in-memory file system
2020-12-03 07:20:59,251 [IPC Server handler 3 on default port 39242] INFO  hdfs.StateChange (FSDirWriteFileOp.java:logAllocatedBlock(798)) - BLOCK* allocate blk_1073741851_1035, replicas=127.0.0.1:43522, 127.0.0.1:43948, 127.0.0.1:44445 for /test/testSnapshotWithAppendTruncate
2020-12-03 07:20:59,251 [IPC Server handler 3 on default port 39242] DEBUG hdfs.StateChange (FSDirWriteFileOp.java:persistNewBlock(758)) - persistNewBlock: /test/testSnapshotWithAppendTruncate with new block blk_1073741851_1035, current total block count is 3
2020-12-03 07:20:59,252 [DataStreamer for file /test/testSnapshotWithAppendTruncate] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:20:59,253 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:51056 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741851_1035]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741851_1035 src: /127.0.0.1:51056 dest: /127.0.0.1:43522
2020-12-03 07:20:59,254 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:51056 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741851_1035]] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:20:59,255 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:41246 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741851_1035]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741851_1035 src: /127.0.0.1:41246 dest: /127.0.0.1:43948
2020-12-03 07:20:59,255 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:41246 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741851_1035]] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:20:59,256 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:47658 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741851_1035]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741851_1035 src: /127.0.0.1:47658 dest: /127.0.0.1:44445
2020-12-03 07:20:59,264 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741851_1035, type=LAST_IN_PIPELINE] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:47658, dest: /127.0.0.1:44445, bytes: 2, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: 09827f10-a8ef-4678-ab6b-635662dd143b, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741851_1035, duration(ns): 3917947
2020-12-03 07:20:59,264 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741851_1035, type=LAST_IN_PIPELINE] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741851_1035, type=LAST_IN_PIPELINE terminating
2020-12-03 07:20:59,265 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741851_1035, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:44445]] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:41246, dest: /127.0.0.1:43948, bytes: 2, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: cb9af4a7-3d3c-4e0a-a0a8-459be5d72fb4, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741851_1035, duration(ns): 4736896
2020-12-03 07:20:59,265 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741851_1035, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:44445]] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741851_1035, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:44445] terminating
2020-12-03 07:20:59,266 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741851_1035, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:43948, 127.0.0.1:44445]] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:51056, dest: /127.0.0.1:43522, bytes: 2, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: 4dc3fc86-316f-46bd-b018-51709a77bcb4, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741851_1035, duration(ns): 5985966
2020-12-03 07:20:59,266 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741851_1035, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:43948, 127.0.0.1:44445]] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741851_1035, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:43948, 127.0.0.1:44445] terminating
2020-12-03 07:20:59,267 [IPC Server handler 1 on default port 39242] DEBUG hdfs.StateChange (FSDirWriteFileOp.java:completeFile(674)) - DIR* NameSystem.completeFile: /test/testSnapshotWithAppendTruncate for DFSClient_NONMAPREDUCE_-1095141669_1
2020-12-03 07:20:59,267 [IPC Server handler 1 on default port 39242] DEBUG hdfs.StateChange (FSNamesystem.java:closeFile(4036)) - closeFile: /test/testSnapshotWithAppendTruncate with 3 blocks is persisted to the file system
2020-12-03 07:20:59,268 [IPC Server handler 1 on default port 39242] INFO  hdfs.StateChange (FSNamesystem.java:completeFile(2948)) - DIR* completeFile: /test/testSnapshotWithAppendTruncate is closed by DFSClient_NONMAPREDUCE_-1095141669_1
2020-12-03 07:20:59,269 [IPC Server handler 9 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:59,270 [IPC Server handler 6 on default port 39242] ERROR namenode.NameNode (DirectoryWithQuotaFeature.java:checkStoragespace(143)) - BUG: Inconsistent storagespace for directory /test. Cached = 318 != Computed = 30
2020-12-03 07:20:59,271 [IPC Server handler 6 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=contentSummary	src=/test	dst=null	perm=null	proto=rpc
2020-12-03 07:20:59,272 [IPC Server handler 0 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=createSnapshot	src=/test	dst=/test/.snapshot/ss0	perm=null	proto=rpc
2020-12-03 07:20:59,273 [IPC Server handler 7 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=getfileinfo	src=/test/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:59,274 [IPC Server handler 8 on default port 39242] DEBUG hdfs.StateChange (NameNodeRpcServer.java:append(809)) - *DIR* NameNode.append: file /test/testSnapshotWithAppendTruncate for DFSClient_NONMAPREDUCE_-1095141669_1 at 127.0.0.1
2020-12-03 07:20:59,275 [IPC Server handler 8 on default port 39242] DEBUG hdfs.StateChange (FSNamesystem.java:appendFile(2710)) - DIR* NameSystem.appendFile: src=/test/testSnapshotWithAppendTruncate, holder=DFSClient_NONMAPREDUCE_-1095141669_1, clientMachine=127.0.0.1
2020-12-03 07:20:59,275 [IPC Server handler 8 on default port 39242] DEBUG hdfs.StateChange (FSDirAppendOp.java:appendFile(154)) - DIR* NameSystem.appendFile: file /test/testSnapshotWithAppendTruncate for DFSClient_NONMAPREDUCE_-1095141669_1 at 127.0.0.1 block BP-289139721-172.17.0.11-1606980047411:blk_1073741851_1035 block size 2
2020-12-03 07:20:59,276 [IPC Server handler 8 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=append	src=/test/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:59,280 [Thread-468] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:20:59,281 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:47660 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741851_1035]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741851_1035 src: /127.0.0.1:47660 dest: /127.0.0.1:44445
2020-12-03 07:20:59,282 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:47660 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741851_1035]] INFO  impl.FsDatasetImpl (FsDatasetImpl.java:append(1187)) - Appending to FinalizedReplica, blk_1073741851_1035, FINALIZED
  getNumBytes()     = 2
  getBytesOnDisk()  = 2
  getVisibleLength()= 2
  getVolume()       = /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data1
  getBlockURI()     = file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data1/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741851
2020-12-03 07:20:59,300 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:47660 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741851_1035]] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:20:59,302 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:51064 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741851_1035]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741851_1035 src: /127.0.0.1:51064 dest: /127.0.0.1:43522
2020-12-03 07:20:59,302 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:51064 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741851_1035]] INFO  impl.FsDatasetImpl (FsDatasetImpl.java:append(1187)) - Appending to FinalizedReplica, blk_1073741851_1035, FINALIZED
  getNumBytes()     = 2
  getBytesOnDisk()  = 2
  getVisibleLength()= 2
  getVolume()       = /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data5
  getBlockURI()     = file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data5/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741851
2020-12-03 07:20:59,319 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:51064 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741851_1035]] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:20:59,320 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:41254 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741851_1035]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741851_1035 src: /127.0.0.1:41254 dest: /127.0.0.1:43948
2020-12-03 07:20:59,320 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:41254 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741851_1035]] INFO  impl.FsDatasetImpl (FsDatasetImpl.java:append(1187)) - Appending to FinalizedReplica, blk_1073741851_1035, FINALIZED
  getNumBytes()     = 2
  getBytesOnDisk()  = 2
  getVisibleLength()= 2
  getVolume()       = /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data3
  getBlockURI()     = file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data3/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741851
2020-12-03 07:20:59,341 [IPC Server handler 5 on default port 39242] INFO  namenode.FSNamesystem (FSNamesystem.java:updatePipeline(5430)) - updatePipeline(blk_1073741851_1035, newGS=1036, newLength=2, newNodes=[127.0.0.1:44445, 127.0.0.1:43522, 127.0.0.1:43948], client=DFSClient_NONMAPREDUCE_-1095141669_1)
2020-12-03 07:20:59,341 [IPC Server handler 5 on default port 39242] DEBUG hdfs.StateChange (FSDirWriteFileOp.java:persistBlocks(111)) - persistBlocks: /test/testSnapshotWithAppendTruncate with 3 blocks is persisted to the file system
2020-12-03 07:20:59,341 [IPC Server handler 5 on default port 39242] INFO  namenode.FSNamesystem (FSNamesystem.java:updatePipeline(5448)) - updatePipeline(blk_1073741851_1035 => blk_1073741851_1036) success
2020-12-03 07:20:59,365 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741851_1036, type=LAST_IN_PIPELINE] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:41254, dest: /127.0.0.1:43948, bytes: 4, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: cb9af4a7-3d3c-4e0a-a0a8-459be5d72fb4, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741851_1036, duration(ns): 24853724
2020-12-03 07:20:59,366 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741851_1036, type=LAST_IN_PIPELINE] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741851_1036, type=LAST_IN_PIPELINE terminating
2020-12-03 07:20:59,367 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741851_1036, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:43948]] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:51064, dest: /127.0.0.1:43522, bytes: 4, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: 4dc3fc86-316f-46bd-b018-51709a77bcb4, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741851_1036, duration(ns): 26547399
2020-12-03 07:20:59,368 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741851_1036, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:43948]] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741851_1036, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:43948] terminating
2020-12-03 07:20:59,371 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741851_1036, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:43522, 127.0.0.1:43948]] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:47660, dest: /127.0.0.1:44445, bytes: 4, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: 09827f10-a8ef-4678-ab6b-635662dd143b, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741851_1036, duration(ns): 30568730
2020-12-03 07:20:59,371 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741851_1036, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:43522, 127.0.0.1:43948]] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741851_1036, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:43522, 127.0.0.1:43948] terminating
2020-12-03 07:20:59,372 [IPC Server handler 9 on default port 39242] DEBUG hdfs.StateChange (FSNamesystem.java:getAdditionalBlock(2767)) - BLOCK* getAdditionalBlock: /test/testSnapshotWithAppendTruncate  inodeId 16391 for DFSClient_NONMAPREDUCE_-1095141669_1
2020-12-03 07:20:59,374 [IPC Server handler 9 on default port 39242] DEBUG hdfs.StateChange (FSDirWriteFileOp.java:addBlock(524)) - DIR* FSDirectory.addBlock: /test/testSnapshotWithAppendTruncate with blk_1073741852_1037 block is added to the in-memory file system
2020-12-03 07:20:59,374 [IPC Server handler 9 on default port 39242] INFO  hdfs.StateChange (FSDirWriteFileOp.java:logAllocatedBlock(798)) - BLOCK* allocate blk_1073741852_1037, replicas=127.0.0.1:43948, 127.0.0.1:43522, 127.0.0.1:44445 for /test/testSnapshotWithAppendTruncate
2020-12-03 07:20:59,374 [IPC Server handler 9 on default port 39242] DEBUG hdfs.StateChange (FSDirWriteFileOp.java:persistNewBlock(758)) - persistNewBlock: /test/testSnapshotWithAppendTruncate with new block blk_1073741852_1037, current total block count is 4
2020-12-03 07:20:59,376 [DataStreamer for file /test/testSnapshotWithAppendTruncate] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:20:59,377 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:41256 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741852_1037]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741852_1037 src: /127.0.0.1:41256 dest: /127.0.0.1:43948
2020-12-03 07:20:59,378 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:41256 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741852_1037]] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:20:59,378 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:51070 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741852_1037]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741852_1037 src: /127.0.0.1:51070 dest: /127.0.0.1:43522
2020-12-03 07:20:59,379 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:51070 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741852_1037]] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:20:59,379 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:47670 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741852_1037]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741852_1037 src: /127.0.0.1:47670 dest: /127.0.0.1:44445
2020-12-03 07:20:59,384 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741852_1037, type=LAST_IN_PIPELINE] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:47670, dest: /127.0.0.1:44445, bytes: 3, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: 09827f10-a8ef-4678-ab6b-635662dd143b, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741852_1037, duration(ns): 2628971
2020-12-03 07:20:59,384 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741852_1037, type=LAST_IN_PIPELINE] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741852_1037, type=LAST_IN_PIPELINE terminating
2020-12-03 07:20:59,384 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741852_1037, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:44445]] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:51070, dest: /127.0.0.1:43522, bytes: 3, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: 4dc3fc86-316f-46bd-b018-51709a77bcb4, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741852_1037, duration(ns): 3291640
2020-12-03 07:20:59,384 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741852_1037, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:44445]] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741852_1037, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:44445] terminating
2020-12-03 07:20:59,385 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741852_1037, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:43522, 127.0.0.1:44445]] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:41256, dest: /127.0.0.1:43948, bytes: 3, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: cb9af4a7-3d3c-4e0a-a0a8-459be5d72fb4, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741852_1037, duration(ns): 3858225
2020-12-03 07:20:59,385 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741852_1037, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:43522, 127.0.0.1:44445]] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741852_1037, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:43522, 127.0.0.1:44445] terminating
2020-12-03 07:20:59,386 [IPC Server handler 8 on default port 39242] DEBUG hdfs.StateChange (FSDirWriteFileOp.java:completeFile(674)) - DIR* NameSystem.completeFile: /test/testSnapshotWithAppendTruncate for DFSClient_NONMAPREDUCE_-1095141669_1
2020-12-03 07:20:59,387 [IPC Server handler 8 on default port 39242] DEBUG hdfs.StateChange (FSNamesystem.java:closeFile(4036)) - closeFile: /test/testSnapshotWithAppendTruncate with 4 blocks is persisted to the file system
2020-12-03 07:20:59,387 [IPC Server handler 8 on default port 39242] INFO  hdfs.StateChange (FSNamesystem.java:completeFile(2948)) - DIR* completeFile: /test/testSnapshotWithAppendTruncate is closed by DFSClient_NONMAPREDUCE_-1095141669_1
2020-12-03 07:20:59,388 [IPC Server handler 3 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:59,390 [IPC Server handler 5 on default port 39242] ERROR namenode.NameNode (DirectoryWithQuotaFeature.java:checkStoragespace(143)) - BUG: Inconsistent storagespace for directory /test. Cached = 333 != Computed = 45
2020-12-03 07:20:59,391 [IPC Server handler 5 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=contentSummary	src=/test	dst=null	perm=null	proto=rpc
2020-12-03 07:20:59,392 [IPC Server handler 2 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=createSnapshot	src=/test	dst=/test/.snapshot/ss1	perm=null	proto=rpc
2020-12-03 07:20:59,393 [IPC Server handler 1 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=createSnapshot	src=/test	dst=/test/.snapshot/ss2	perm=null	proto=rpc
2020-12-03 07:20:59,394 [IPC Server handler 4 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=getfileinfo	src=/test/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:59,395 [IPC Server handler 9 on default port 39242] DEBUG hdfs.StateChange (NameNodeRpcServer.java:append(809)) - *DIR* NameNode.append: file /test/testSnapshotWithAppendTruncate for DFSClient_NONMAPREDUCE_-1095141669_1 at 127.0.0.1
2020-12-03 07:20:59,396 [IPC Server handler 9 on default port 39242] DEBUG hdfs.StateChange (FSNamesystem.java:appendFile(2710)) - DIR* NameSystem.appendFile: src=/test/testSnapshotWithAppendTruncate, holder=DFSClient_NONMAPREDUCE_-1095141669_1, clientMachine=127.0.0.1
2020-12-03 07:20:59,396 [IPC Server handler 9 on default port 39242] DEBUG hdfs.StateChange (FSDirAppendOp.java:appendFile(154)) - DIR* NameSystem.appendFile: file /test/testSnapshotWithAppendTruncate for DFSClient_NONMAPREDUCE_-1095141669_1 at 127.0.0.1 block BP-289139721-172.17.0.11-1606980047411:blk_1073741852_1037 block size 3
2020-12-03 07:20:59,397 [IPC Server handler 9 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=append	src=/test/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:59,405 [Thread-489] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:20:59,406 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:47672 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741852_1037]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741852_1037 src: /127.0.0.1:47672 dest: /127.0.0.1:44445
2020-12-03 07:20:59,407 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:47672 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741852_1037]] INFO  impl.FsDatasetImpl (FsDatasetImpl.java:append(1187)) - Appending to FinalizedReplica, blk_1073741852_1037, FINALIZED
  getNumBytes()     = 3
  getBytesOnDisk()  = 3
  getVisibleLength()= 3
  getVolume()       = /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data2
  getBlockURI()     = file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data2/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741852
2020-12-03 07:20:59,423 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:47672 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741852_1037]] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:20:59,424 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:51078 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741852_1037]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741852_1037 src: /127.0.0.1:51078 dest: /127.0.0.1:43522
2020-12-03 07:20:59,424 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:51078 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741852_1037]] INFO  impl.FsDatasetImpl (FsDatasetImpl.java:append(1187)) - Appending to FinalizedReplica, blk_1073741852_1037, FINALIZED
  getNumBytes()     = 3
  getBytesOnDisk()  = 3
  getVisibleLength()= 3
  getVolume()       = /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data6
  getBlockURI()     = file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data6/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741852
2020-12-03 07:20:59,441 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:51078 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741852_1037]] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:20:59,443 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:41268 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741852_1037]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741852_1037 src: /127.0.0.1:41268 dest: /127.0.0.1:43948
2020-12-03 07:20:59,443 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:41268 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741852_1037]] INFO  impl.FsDatasetImpl (FsDatasetImpl.java:append(1187)) - Appending to FinalizedReplica, blk_1073741852_1037, FINALIZED
  getNumBytes()     = 3
  getBytesOnDisk()  = 3
  getVisibleLength()= 3
  getVolume()       = /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data4
  getBlockURI()     = file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data4/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741852
2020-12-03 07:20:59,461 [IPC Server handler 0 on default port 39242] INFO  namenode.FSNamesystem (FSNamesystem.java:updatePipeline(5430)) - updatePipeline(blk_1073741852_1037, newGS=1038, newLength=3, newNodes=[127.0.0.1:44445, 127.0.0.1:43522, 127.0.0.1:43948], client=DFSClient_NONMAPREDUCE_-1095141669_1)
2020-12-03 07:20:59,462 [IPC Server handler 0 on default port 39242] DEBUG hdfs.StateChange (FSDirWriteFileOp.java:persistBlocks(111)) - persistBlocks: /test/testSnapshotWithAppendTruncate with 4 blocks is persisted to the file system
2020-12-03 07:20:59,462 [IPC Server handler 0 on default port 39242] INFO  namenode.FSNamesystem (FSNamesystem.java:updatePipeline(5448)) - updatePipeline(blk_1073741852_1037 => blk_1073741852_1038) success
2020-12-03 07:20:59,466 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741852_1038, type=LAST_IN_PIPELINE] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:41268, dest: /127.0.0.1:43948, bytes: 4, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: cb9af4a7-3d3c-4e0a-a0a8-459be5d72fb4, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741852_1038, duration(ns): 6320285
2020-12-03 07:20:59,466 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741852_1038, type=LAST_IN_PIPELINE] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741852_1038, type=LAST_IN_PIPELINE terminating
2020-12-03 07:20:59,467 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741852_1038, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:43948]] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:51078, dest: /127.0.0.1:43522, bytes: 4, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: 4dc3fc86-316f-46bd-b018-51709a77bcb4, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741852_1038, duration(ns): 7050812
2020-12-03 07:20:59,467 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741852_1038, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:43948]] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741852_1038, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:43948] terminating
2020-12-03 07:20:59,468 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741852_1038, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:43522, 127.0.0.1:43948]] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:47672, dest: /127.0.0.1:44445, bytes: 4, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: 09827f10-a8ef-4678-ab6b-635662dd143b, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741852_1038, duration(ns): 6768195
2020-12-03 07:20:59,468 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741852_1038, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:43522, 127.0.0.1:43948]] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741852_1038, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:43522, 127.0.0.1:43948] terminating
2020-12-03 07:20:59,469 [IPC Server handler 5 on default port 39242] DEBUG hdfs.StateChange (FSNamesystem.java:getAdditionalBlock(2767)) - BLOCK* getAdditionalBlock: /test/testSnapshotWithAppendTruncate  inodeId 16391 for DFSClient_NONMAPREDUCE_-1095141669_1
2020-12-03 07:20:59,470 [IPC Server handler 5 on default port 39242] DEBUG hdfs.StateChange (FSDirWriteFileOp.java:addBlock(524)) - DIR* FSDirectory.addBlock: /test/testSnapshotWithAppendTruncate with blk_1073741853_1039 block is added to the in-memory file system
2020-12-03 07:20:59,470 [IPC Server handler 5 on default port 39242] INFO  hdfs.StateChange (FSDirWriteFileOp.java:logAllocatedBlock(798)) - BLOCK* allocate blk_1073741853_1039, replicas=127.0.0.1:44445, 127.0.0.1:43948, 127.0.0.1:43522 for /test/testSnapshotWithAppendTruncate
2020-12-03 07:20:59,470 [IPC Server handler 5 on default port 39242] DEBUG hdfs.StateChange (FSDirWriteFileOp.java:persistNewBlock(758)) - persistNewBlock: /test/testSnapshotWithAppendTruncate with new block blk_1073741853_1039, current total block count is 5
2020-12-03 07:20:59,471 [DataStreamer for file /test/testSnapshotWithAppendTruncate] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:20:59,472 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:47680 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741853_1039]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741853_1039 src: /127.0.0.1:47680 dest: /127.0.0.1:44445
2020-12-03 07:20:59,473 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:47680 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741853_1039]] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:20:59,474 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:41272 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741853_1039]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741853_1039 src: /127.0.0.1:41272 dest: /127.0.0.1:43948
2020-12-03 07:20:59,475 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:41272 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741853_1039]] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:20:59,475 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:51086 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741853_1039]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741853_1039 src: /127.0.0.1:51086 dest: /127.0.0.1:43522
2020-12-03 07:20:59,479 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741853_1039, type=LAST_IN_PIPELINE] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:51086, dest: /127.0.0.1:43522, bytes: 4, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: 4dc3fc86-316f-46bd-b018-51709a77bcb4, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741853_1039, duration(ns): 2452738
2020-12-03 07:20:59,480 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741853_1039, type=LAST_IN_PIPELINE] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741853_1039, type=LAST_IN_PIPELINE terminating
2020-12-03 07:20:59,480 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741853_1039, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:43522]] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:41272, dest: /127.0.0.1:43948, bytes: 4, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: cb9af4a7-3d3c-4e0a-a0a8-459be5d72fb4, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741853_1039, duration(ns): 3136832
2020-12-03 07:20:59,480 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741853_1039, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:43522]] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741853_1039, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:43522] terminating
2020-12-03 07:20:59,481 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741853_1039, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:43948, 127.0.0.1:43522]] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:47680, dest: /127.0.0.1:44445, bytes: 4, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: 09827f10-a8ef-4678-ab6b-635662dd143b, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741853_1039, duration(ns): 3773931
2020-12-03 07:20:59,481 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741853_1039, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:43948, 127.0.0.1:43522]] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741853_1039, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:43948, 127.0.0.1:43522] terminating
2020-12-03 07:20:59,482 [IPC Server handler 9 on default port 39242] DEBUG hdfs.StateChange (FSDirWriteFileOp.java:completeFile(674)) - DIR* NameSystem.completeFile: /test/testSnapshotWithAppendTruncate for DFSClient_NONMAPREDUCE_-1095141669_1
2020-12-03 07:20:59,482 [IPC Server handler 9 on default port 39242] DEBUG hdfs.StateChange (FSNamesystem.java:closeFile(4036)) - closeFile: /test/testSnapshotWithAppendTruncate with 5 blocks is persisted to the file system
2020-12-03 07:20:59,482 [IPC Server handler 9 on default port 39242] INFO  hdfs.StateChange (FSNamesystem.java:completeFile(2948)) - DIR* completeFile: /test/testSnapshotWithAppendTruncate is closed by DFSClient_NONMAPREDUCE_-1095141669_1
2020-12-03 07:20:59,484 [IPC Server handler 6 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:59,486 [IPC Server handler 0 on default port 39242] ERROR namenode.NameNode (DirectoryWithQuotaFeature.java:checkStoragespace(143)) - BUG: Inconsistent storagespace for directory /test. Cached = 348 != Computed = 60
2020-12-03 07:20:59,486 [IPC Server handler 0 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=contentSummary	src=/test	dst=null	perm=null	proto=rpc
2020-12-03 07:20:59,487 [IPC Server handler 7 on default port 39242] DEBUG hdfs.StateChange (NameNodeRpcServer.java:truncate(1087)) - *DIR* NameNode.truncate: /test/testSnapshotWithAppendTruncate to 12
2020-12-03 07:20:59,487 [IPC Server handler 7 on default port 39242] DEBUG hdfs.StateChange (FSNamesystem.java:truncate(2136)) - DIR* NameSystem.truncate: src=/test/testSnapshotWithAppendTruncate newLength=12
2020-12-03 07:20:59,488 [IPC Server handler 7 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=truncate	src=/test/testSnapshotWithAppendTruncate	dst=null	perm=root:supergroup:rw-r--r--	proto=rpc
2020-12-03 07:20:59,489 [IPC Server handler 8 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/.snapshot/ss2/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:59,496 [IPC Server handler 3 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/.snapshot/ss1/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:59,502 [IPC Server handler 5 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/.snapshot/ss0/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:59,507 [IPC Server handler 2 on default port 39242] ERROR namenode.NameNode (DirectoryWithQuotaFeature.java:checkStoragespace(143)) - BUG: Inconsistent storagespace for directory /test. Cached = 336 != Computed = 48
2020-12-03 07:20:59,508 [IPC Server handler 2 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=contentSummary	src=/test	dst=null	perm=null	proto=rpc
2020-12-03 07:20:59,509 [IPC Server handler 1 on default port 39242] DEBUG hdfs.StateChange (NameNodeRpcServer.java:truncate(1087)) - *DIR* NameNode.truncate: /test/testSnapshotWithAppendTruncate to 8
2020-12-03 07:20:59,509 [IPC Server handler 1 on default port 39242] DEBUG hdfs.StateChange (FSNamesystem.java:truncate(2136)) - DIR* NameSystem.truncate: src=/test/testSnapshotWithAppendTruncate newLength=8
2020-12-03 07:20:59,509 [IPC Server handler 1 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=truncate	src=/test/testSnapshotWithAppendTruncate	dst=null	perm=root:supergroup:rw-r--r--	proto=rpc
2020-12-03 07:20:59,511 [IPC Server handler 4 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/.snapshot/ss2/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:59,517 [IPC Server handler 9 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/.snapshot/ss1/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:59,523 [IPC Server handler 6 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/.snapshot/ss0/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:59,527 [IPC Server handler 0 on default port 39242] ERROR namenode.NameNode (DirectoryWithQuotaFeature.java:checkStoragespace(143)) - BUG: Inconsistent storagespace for directory /test. Cached = 336 != Computed = 48
2020-12-03 07:20:59,528 [IPC Server handler 0 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=contentSummary	src=/test	dst=null	perm=null	proto=rpc
2020-12-03 07:20:59,529 [IPC Server handler 7 on default port 39242] DEBUG hdfs.StateChange (NameNodeRpcServer.java:truncate(1087)) - *DIR* NameNode.truncate: /test/testSnapshotWithAppendTruncate to 6
2020-12-03 07:20:59,529 [IPC Server handler 7 on default port 39242] DEBUG hdfs.StateChange (FSNamesystem.java:truncate(2136)) - DIR* NameSystem.truncate: src=/test/testSnapshotWithAppendTruncate newLength=6
2020-12-03 07:20:59,529 [IPC Server handler 7 on default port 39242] DEBUG hdfs.StateChange (FSDirTruncateOp.java:prepareFileForTruncate(252)) - BLOCK* prepareFileForTruncate: Scheduling copy-on-truncate to new size 2  new block blk_1073741854_1040 old block blk_1073741850_1034
2020-12-03 07:20:59,529 [IPC Server handler 7 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=truncate	src=/test/testSnapshotWithAppendTruncate	dst=null	perm=root:supergroup:rw-r--r--	proto=rpc
2020-12-03 07:20:59,531 [IPC Server handler 8 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:59,633 [IPC Server handler 3 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:59,738 [IPC Server handler 5 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:59,842 [IPC Server handler 2 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:59,845 [BP-289139721-172.17.0.11-1606980047411 heartbeating to localhost/127.0.0.1:39242] INFO  impl.FsDatasetAsyncDiskService (FsDatasetAsyncDiskService.java:deleteAsync(226)) - Scheduling blk_1073741825_1001 replica FinalizedReplica, blk_1073741825_1001, FINALIZED
  getNumBytes()     = 4
  getBytesOnDisk()  = 4
  getVisibleLength()= 4
  getVolume()       = /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data1
  getBlockURI()     = file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data1/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741825 for deletion
2020-12-03 07:20:59,845 [org.apache.hadoop.hdfs.server.datanode.BlockRecoveryWorker$1@57479471] INFO  datanode.DataNode (BlockRecoveryWorker.java:logRecoverBlock(549)) - BlockRecoveryWorker: NameNode at localhost/127.0.0.1:39242 calls recoverBlock(BP-289139721-172.17.0.11-1606980047411:blk_1073741850_1034, targets=[DatanodeInfoWithStorage[127.0.0.1:43522,null,null], DatanodeInfoWithStorage[127.0.0.1:43948,null,null], DatanodeInfoWithStorage[127.0.0.1:44445,null,null]], newGenerationStamp=1040, newBlock=blk_1073741854_1040, isStriped=false)
2020-12-03 07:20:59,846 [org.apache.hadoop.hdfs.server.datanode.BlockRecoveryWorker$1@57479471] INFO  impl.FsDatasetImpl (FsDatasetImpl.java:initReplicaRecoveryImpl(2588)) - initReplicaRecovery: blk_1073741850_1034, recoveryId=1040, replica=FinalizedReplica, blk_1073741850_1034, FINALIZED
  getNumBytes()     = 4
  getBytesOnDisk()  = 4
  getVisibleLength()= 4
  getVolume()       = /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data6
  getBlockURI()     = file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data6/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741850
2020-12-03 07:20:59,846 [BP-289139721-172.17.0.11-1606980047411 heartbeating to localhost/127.0.0.1:39242] INFO  impl.FsDatasetAsyncDiskService (FsDatasetAsyncDiskService.java:deleteAsync(226)) - Scheduling blk_1073741826_1002 replica FinalizedReplica, blk_1073741826_1002, FINALIZED
  getNumBytes()     = 4
  getBytesOnDisk()  = 4
  getVisibleLength()= 4
  getVolume()       = /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data2
  getBlockURI()     = file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data2/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741826 for deletion
2020-12-03 07:20:59,846 [org.apache.hadoop.hdfs.server.datanode.BlockRecoveryWorker$1@57479471] INFO  impl.FsDatasetImpl (FsDatasetImpl.java:initReplicaRecoveryImpl(2646)) - initReplicaRecovery: changing replica state for blk_1073741850_1034 from FINALIZED to RUR
2020-12-03 07:20:59,846 [Async disk worker #0 for volume /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data1] INFO  impl.FsDatasetAsyncDiskService (FsDatasetAsyncDiskService.java:run(334)) - Deleted BP-289139721-172.17.0.11-1606980047411 blk_1073741825_1001 URI file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data1/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741825
2020-12-03 07:20:59,846 [BP-289139721-172.17.0.11-1606980047411 heartbeating to localhost/127.0.0.1:39242] INFO  impl.FsDatasetAsyncDiskService (FsDatasetAsyncDiskService.java:deleteAsync(226)) - Scheduling blk_1073741827_1004 replica FinalizedReplica, blk_1073741827_1004, FINALIZED
  getNumBytes()     = 4
  getBytesOnDisk()  = 4
  getVisibleLength()= 4
  getVolume()       = /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data1
  getBlockURI()     = file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data1/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741827 for deletion
2020-12-03 07:20:59,847 [Async disk worker #0 for volume /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data2] INFO  impl.FsDatasetAsyncDiskService (FsDatasetAsyncDiskService.java:run(334)) - Deleted BP-289139721-172.17.0.11-1606980047411 blk_1073741826_1002 URI file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data2/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741826
2020-12-03 07:20:59,848 [BP-289139721-172.17.0.11-1606980047411 heartbeating to localhost/127.0.0.1:39242] INFO  impl.FsDatasetAsyncDiskService (FsDatasetAsyncDiskService.java:deleteAsync(226)) - Scheduling blk_1073741828_1006 replica FinalizedReplica, blk_1073741828_1006, FINALIZED
  getNumBytes()     = 4
  getBytesOnDisk()  = 4
  getVisibleLength()= 4
  getVolume()       = /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data2
  getBlockURI()     = file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data2/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741828 for deletion
2020-12-03 07:20:59,848 [Async disk worker #0 for volume /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data1] INFO  impl.FsDatasetAsyncDiskService (FsDatasetAsyncDiskService.java:run(334)) - Deleted BP-289139721-172.17.0.11-1606980047411 blk_1073741827_1004 URI file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data1/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741827
2020-12-03 07:20:59,848 [BP-289139721-172.17.0.11-1606980047411 heartbeating to localhost/127.0.0.1:39242] INFO  impl.FsDatasetAsyncDiskService (FsDatasetAsyncDiskService.java:deleteAsync(226)) - Scheduling blk_1073741829_1007 replica FinalizedReplica, blk_1073741829_1007, FINALIZED
  getNumBytes()     = 4
  getBytesOnDisk()  = 4
  getVisibleLength()= 4
  getVolume()       = /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data1
  getBlockURI()     = file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data1/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741829 for deletion
2020-12-03 07:20:59,848 [Async disk worker #0 for volume /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data2] INFO  impl.FsDatasetAsyncDiskService (FsDatasetAsyncDiskService.java:run(334)) - Deleted BP-289139721-172.17.0.11-1606980047411 blk_1073741828_1006 URI file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data2/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741828
2020-12-03 07:20:59,848 [BP-289139721-172.17.0.11-1606980047411 heartbeating to localhost/127.0.0.1:39242] INFO  impl.FsDatasetAsyncDiskService (FsDatasetAsyncDiskService.java:deleteAsync(226)) - Scheduling blk_1073741830_1008 replica FinalizedReplica, blk_1073741830_1008, FINALIZED
  getNumBytes()     = 2
  getBytesOnDisk()  = 2
  getVisibleLength()= 2
  getVolume()       = /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data2
  getBlockURI()     = file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data2/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741830 for deletion
2020-12-03 07:20:59,848 [Async disk worker #0 for volume /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data1] INFO  impl.FsDatasetAsyncDiskService (FsDatasetAsyncDiskService.java:run(334)) - Deleted BP-289139721-172.17.0.11-1606980047411 blk_1073741829_1007 URI file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data1/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741829
2020-12-03 07:20:59,849 [BP-289139721-172.17.0.11-1606980047411 heartbeating to localhost/127.0.0.1:39242] INFO  impl.FsDatasetAsyncDiskService (FsDatasetAsyncDiskService.java:deleteAsync(226)) - Scheduling blk_1073741831_1009 replica FinalizedReplica, blk_1073741831_1009, FINALIZED
  getNumBytes()     = 4
  getBytesOnDisk()  = 4
  getVisibleLength()= 4
  getVolume()       = /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data2
  getBlockURI()     = file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data2/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741831 for deletion
2020-12-03 07:20:59,849 [Async disk worker #0 for volume /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data2] INFO  impl.FsDatasetAsyncDiskService (FsDatasetAsyncDiskService.java:run(334)) - Deleted BP-289139721-172.17.0.11-1606980047411 blk_1073741830_1008 URI file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data2/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741830
2020-12-03 07:20:59,849 [IPC Server handler 3 on default port 38553] INFO  impl.FsDatasetImpl (FsDatasetImpl.java:initReplicaRecoveryImpl(2588)) - initReplicaRecovery: blk_1073741850_1034, recoveryId=1040, replica=FinalizedReplica, blk_1073741850_1034, FINALIZED
  getNumBytes()     = 4
  getBytesOnDisk()  = 4
  getVisibleLength()= 4
  getVolume()       = /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data4
  getBlockURI()     = file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data4/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741850
2020-12-03 07:20:59,849 [BP-289139721-172.17.0.11-1606980047411 heartbeating to localhost/127.0.0.1:39242] INFO  impl.FsDatasetAsyncDiskService (FsDatasetAsyncDiskService.java:deleteAsync(226)) - Scheduling blk_1073741832_1010 replica FinalizedReplica, blk_1073741832_1010, FINALIZED
  getNumBytes()     = 4
  getBytesOnDisk()  = 4
  getVisibleLength()= 4
  getVolume()       = /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data1
  getBlockURI()     = file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data1/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741832 for deletion
2020-12-03 07:20:59,849 [IPC Server handler 3 on default port 38553] INFO  impl.FsDatasetImpl (FsDatasetImpl.java:initReplicaRecoveryImpl(2646)) - initReplicaRecovery: changing replica state for blk_1073741850_1034 from FINALIZED to RUR
2020-12-03 07:20:59,849 [Async disk worker #0 for volume /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data2] INFO  impl.FsDatasetAsyncDiskService (FsDatasetAsyncDiskService.java:run(334)) - Deleted BP-289139721-172.17.0.11-1606980047411 blk_1073741831_1009 URI file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data2/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741831
2020-12-03 07:20:59,849 [Async disk worker #0 for volume /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data1] INFO  impl.FsDatasetAsyncDiskService (FsDatasetAsyncDiskService.java:run(334)) - Deleted BP-289139721-172.17.0.11-1606980047411 blk_1073741832_1010 URI file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data1/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741832
2020-12-03 07:20:59,849 [BP-289139721-172.17.0.11-1606980047411 heartbeating to localhost/127.0.0.1:39242] INFO  impl.FsDatasetAsyncDiskService (FsDatasetAsyncDiskService.java:deleteAsync(226)) - Scheduling blk_1073741833_1012 replica FinalizedReplica, blk_1073741833_1012, FINALIZED
  getNumBytes()     = 4
  getBytesOnDisk()  = 4
  getVisibleLength()= 4
  getVolume()       = /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data2
  getBlockURI()     = file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data2/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741833 for deletion
2020-12-03 07:20:59,850 [BP-289139721-172.17.0.11-1606980047411 heartbeating to localhost/127.0.0.1:39242] INFO  impl.FsDatasetAsyncDiskService (FsDatasetAsyncDiskService.java:deleteAsync(226)) - Scheduling blk_1073741834_1014 replica FinalizedReplica, blk_1073741834_1014, FINALIZED
  getNumBytes()     = 4
  getBytesOnDisk()  = 4
  getVisibleLength()= 4
  getVolume()       = /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data1
  getBlockURI()     = file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data1/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741834 for deletion
2020-12-03 07:20:59,850 [Async disk worker #0 for volume /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data2] INFO  impl.FsDatasetAsyncDiskService (FsDatasetAsyncDiskService.java:run(334)) - Deleted BP-289139721-172.17.0.11-1606980047411 blk_1073741833_1012 URI file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data2/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741833
2020-12-03 07:20:59,850 [BP-289139721-172.17.0.11-1606980047411 heartbeating to localhost/127.0.0.1:39242] INFO  impl.FsDatasetAsyncDiskService (FsDatasetAsyncDiskService.java:deleteAsync(226)) - Scheduling blk_1073741835_1015 replica FinalizedReplica, blk_1073741835_1015, FINALIZED
  getNumBytes()     = 4
  getBytesOnDisk()  = 4
  getVisibleLength()= 4
  getVolume()       = /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data2
  getBlockURI()     = file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data2/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741835 for deletion
2020-12-03 07:20:59,850 [Async disk worker #0 for volume /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data1] INFO  impl.FsDatasetAsyncDiskService (FsDatasetAsyncDiskService.java:run(334)) - Deleted BP-289139721-172.17.0.11-1606980047411 blk_1073741834_1014 URI file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data1/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741834
2020-12-03 07:20:59,850 [BP-289139721-172.17.0.11-1606980047411 heartbeating to localhost/127.0.0.1:39242] INFO  impl.FsDatasetAsyncDiskService (FsDatasetAsyncDiskService.java:deleteAsync(226)) - Scheduling blk_1073741836_1016 replica FinalizedReplica, blk_1073741836_1016, FINALIZED
  getNumBytes()     = 2
  getBytesOnDisk()  = 2
  getVisibleLength()= 2
  getVolume()       = /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data1
  getBlockURI()     = file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data1/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741836 for deletion
2020-12-03 07:20:59,851 [BP-289139721-172.17.0.11-1606980047411 heartbeating to localhost/127.0.0.1:39242] INFO  impl.FsDatasetAsyncDiskService (FsDatasetAsyncDiskService.java:deleteAsync(226)) - Scheduling blk_1073741837_1017 replica FinalizedReplica, blk_1073741837_1017, FINALIZED
  getNumBytes()     = 4
  getBytesOnDisk()  = 4
  getVisibleLength()= 4
  getVolume()       = /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data1
  getBlockURI()     = file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data1/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741837 for deletion
2020-12-03 07:20:59,851 [IPC Server handler 6 on default port 32989] INFO  impl.FsDatasetImpl (FsDatasetImpl.java:initReplicaRecoveryImpl(2588)) - initReplicaRecovery: blk_1073741850_1034, recoveryId=1040, replica=FinalizedReplica, blk_1073741850_1034, FINALIZED
  getNumBytes()     = 4
  getBytesOnDisk()  = 4
  getVisibleLength()= 4
  getVolume()       = /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data2
  getBlockURI()     = file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data2/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741850
2020-12-03 07:20:59,851 [Async disk worker #0 for volume /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data1] INFO  impl.FsDatasetAsyncDiskService (FsDatasetAsyncDiskService.java:run(334)) - Deleted BP-289139721-172.17.0.11-1606980047411 blk_1073741836_1016 URI file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data1/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741836
2020-12-03 07:20:59,851 [IPC Server handler 6 on default port 32989] INFO  impl.FsDatasetImpl (FsDatasetImpl.java:initReplicaRecoveryImpl(2646)) - initReplicaRecovery: changing replica state for blk_1073741850_1034 from FINALIZED to RUR
2020-12-03 07:20:59,851 [Async disk worker #0 for volume /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data2] INFO  impl.FsDatasetAsyncDiskService (FsDatasetAsyncDiskService.java:run(334)) - Deleted BP-289139721-172.17.0.11-1606980047411 blk_1073741835_1015 URI file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data2/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741835
2020-12-03 07:20:59,851 [Async disk worker #0 for volume /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data1] INFO  impl.FsDatasetAsyncDiskService (FsDatasetAsyncDiskService.java:run(334)) - Deleted BP-289139721-172.17.0.11-1606980047411 blk_1073741837_1017 URI file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data1/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741837
2020-12-03 07:20:59,851 [BP-289139721-172.17.0.11-1606980047411 heartbeating to localhost/127.0.0.1:39242] INFO  impl.FsDatasetAsyncDiskService (FsDatasetAsyncDiskService.java:deleteAsync(226)) - Scheduling blk_1073741838_1018 replica FinalizedReplica, blk_1073741838_1018, FINALIZED
  getNumBytes()     = 4
  getBytesOnDisk()  = 4
  getVisibleLength()= 4
  getVolume()       = /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data2
  getBlockURI()     = file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data2/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741838 for deletion
2020-12-03 07:20:59,852 [BP-289139721-172.17.0.11-1606980047411 heartbeating to localhost/127.0.0.1:39242] INFO  impl.FsDatasetAsyncDiskService (FsDatasetAsyncDiskService.java:deleteAsync(226)) - Scheduling blk_1073741839_1020 replica FinalizedReplica, blk_1073741839_1020, FINALIZED
  getNumBytes()     = 4
  getBytesOnDisk()  = 4
  getVisibleLength()= 4
  getVolume()       = /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data1
  getBlockURI()     = file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data1/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741839 for deletion
2020-12-03 07:20:59,852 [Async disk worker #0 for volume /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data2] INFO  impl.FsDatasetAsyncDiskService (FsDatasetAsyncDiskService.java:run(334)) - Deleted BP-289139721-172.17.0.11-1606980047411 blk_1073741838_1018 URI file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data2/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741838
2020-12-03 07:20:59,852 [org.apache.hadoop.hdfs.server.datanode.BlockRecoveryWorker$1@57479471] INFO  datanode.DataNode (BlockRecoveryWorker.java:syncBlock(200)) - BlockRecoveryWorker: block=BP-289139721-172.17.0.11-1606980047411:blk_1073741850_1034 (length=4), isTruncateRecovery=true, syncList=[block:blk_1073741850_1034[numBytes=4,originalReplicaState=FINALIZED] node:DatanodeInfoWithStorage[127.0.0.1:43522,null,null], block:blk_1073741850_1034[numBytes=4,originalReplicaState=FINALIZED] node:DatanodeInfoWithStorage[127.0.0.1:43948,null,null], block:blk_1073741850_1034[numBytes=4,originalReplicaState=FINALIZED] node:DatanodeInfoWithStorage[127.0.0.1:44445,null,null]]
2020-12-03 07:20:59,852 [BP-289139721-172.17.0.11-1606980047411 heartbeating to localhost/127.0.0.1:39242] INFO  impl.FsDatasetAsyncDiskService (FsDatasetAsyncDiskService.java:deleteAsync(226)) - Scheduling blk_1073741840_1022 replica FinalizedReplica, blk_1073741840_1022, FINALIZED
  getNumBytes()     = 4
  getBytesOnDisk()  = 4
  getVisibleLength()= 4
  getVolume()       = /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data2
  getBlockURI()     = file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data2/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741840 for deletion
2020-12-03 07:20:59,852 [Async disk worker #0 for volume /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data1] INFO  impl.FsDatasetAsyncDiskService (FsDatasetAsyncDiskService.java:run(334)) - Deleted BP-289139721-172.17.0.11-1606980047411 blk_1073741839_1020 URI file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data1/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741839
2020-12-03 07:20:59,852 [org.apache.hadoop.hdfs.server.datanode.BlockRecoveryWorker$1@57479471] INFO  datanode.DataNode (BlockRecoveryWorker.java:syncBlock(293)) - BlockRecoveryWorker: block=BP-289139721-172.17.0.11-1606980047411:blk_1073741850_1034 (length=4), bestState=FINALIZED, newBlock=BP-289139721-172.17.0.11-1606980047411:blk_1073741854_1040 (length=2), participatingList=[block:blk_1073741850_1034[numBytes=4,originalReplicaState=FINALIZED] node:DatanodeInfoWithStorage[127.0.0.1:43522,null,null], block:blk_1073741850_1034[numBytes=4,originalReplicaState=FINALIZED] node:DatanodeInfoWithStorage[127.0.0.1:43948,null,null], block:blk_1073741850_1034[numBytes=4,originalReplicaState=FINALIZED] node:DatanodeInfoWithStorage[127.0.0.1:44445,null,null]]
2020-12-03 07:20:59,852 [Async disk worker #0 for volume /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data2] INFO  impl.FsDatasetAsyncDiskService (FsDatasetAsyncDiskService.java:run(334)) - Deleted BP-289139721-172.17.0.11-1606980047411 blk_1073741840_1022 URI file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data2/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741840
2020-12-03 07:20:59,852 [BP-289139721-172.17.0.11-1606980047411 heartbeating to localhost/127.0.0.1:39242] INFO  impl.FsDatasetAsyncDiskService (FsDatasetAsyncDiskService.java:deleteAsync(226)) - Scheduling blk_1073741841_1023 replica FinalizedReplica, blk_1073741841_1023, FINALIZED
  getNumBytes()     = 4
  getBytesOnDisk()  = 4
  getVisibleLength()= 4
  getVolume()       = /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data1
  getBlockURI()     = file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data1/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741841 for deletion
2020-12-03 07:20:59,853 [org.apache.hadoop.hdfs.server.datanode.BlockRecoveryWorker$1@57479471] INFO  impl.FsDatasetImpl (FsDatasetImpl.java:updateReplicaUnderRecovery(2667)) - updateReplica: BP-289139721-172.17.0.11-1606980047411:blk_1073741850_1034[numBytes=4,originalReplicaState=FINALIZED], recoveryId=1040, length=2, replica=ReplicaUnderRecovery, blk_1073741850_1034, RUR
  getNumBytes()     = 4
  getBytesOnDisk()  = 4
  getVisibleLength()= 4
  getVolume()       = /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data6
  getBlockURI()     = file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data6/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741850
  recoveryId=1040
  original=FinalizedReplica, blk_1073741850_1034, FINALIZED
  getNumBytes()     = 4
  getBytesOnDisk()  = 4
  getVisibleLength()= 4
  getVolume()       = /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data6
  getBlockURI()     = file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data6/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741850
2020-12-03 07:20:59,853 [BP-289139721-172.17.0.11-1606980047411 heartbeating to localhost/127.0.0.1:39242] INFO  impl.FsDatasetAsyncDiskService (FsDatasetAsyncDiskService.java:deleteAsync(226)) - Scheduling blk_1073741842_1024 replica FinalizedReplica, blk_1073741842_1024, FINALIZED
  getNumBytes()     = 2
  getBytesOnDisk()  = 2
  getVisibleLength()= 2
  getVolume()       = /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data2
  getBlockURI()     = file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data2/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741842 for deletion
2020-12-03 07:20:59,853 [Async disk worker #0 for volume /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data1] INFO  impl.FsDatasetAsyncDiskService (FsDatasetAsyncDiskService.java:run(334)) - Deleted BP-289139721-172.17.0.11-1606980047411 blk_1073741841_1023 URI file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data1/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741841
2020-12-03 07:20:59,853 [BP-289139721-172.17.0.11-1606980047411 heartbeating to localhost/127.0.0.1:39242] INFO  impl.FsDatasetAsyncDiskService (FsDatasetAsyncDiskService.java:deleteAsync(226)) - Scheduling blk_1073741843_1025 replica FinalizedReplica, blk_1073741843_1025, FINALIZED
  getNumBytes()     = 4
  getBytesOnDisk()  = 4
  getVisibleLength()= 4
  getVolume()       = /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data2
  getBlockURI()     = file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data2/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741843 for deletion
2020-12-03 07:20:59,853 [Async disk worker #0 for volume /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data2] INFO  impl.FsDatasetAsyncDiskService (FsDatasetAsyncDiskService.java:run(334)) - Deleted BP-289139721-172.17.0.11-1606980047411 blk_1073741842_1024 URI file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data2/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741842
2020-12-03 07:20:59,853 [BP-289139721-172.17.0.11-1606980047411 heartbeating to localhost/127.0.0.1:39242] INFO  impl.FsDatasetAsyncDiskService (FsDatasetAsyncDiskService.java:deleteAsync(226)) - Scheduling blk_1073741844_1026 replica FinalizedReplica, blk_1073741844_1026, FINALIZED
  getNumBytes()     = 4
  getBytesOnDisk()  = 4
  getVisibleLength()= 4
  getVolume()       = /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data1
  getBlockURI()     = file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data1/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741844 for deletion
2020-12-03 07:20:59,853 [Async disk worker #0 for volume /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data2] INFO  impl.FsDatasetAsyncDiskService (FsDatasetAsyncDiskService.java:run(334)) - Deleted BP-289139721-172.17.0.11-1606980047411 blk_1073741843_1025 URI file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data2/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741843
2020-12-03 07:20:59,853 [BP-289139721-172.17.0.11-1606980047411 heartbeating to localhost/127.0.0.1:39242] INFO  impl.FsDatasetAsyncDiskService (FsDatasetAsyncDiskService.java:deleteAsync(226)) - Scheduling blk_1073741845_1028 replica FinalizedReplica, blk_1073741845_1028, FINALIZED
  getNumBytes()     = 4
  getBytesOnDisk()  = 4
  getVisibleLength()= 4
  getVolume()       = /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data2
  getBlockURI()     = file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data2/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741845 for deletion
2020-12-03 07:20:59,854 [Async disk worker #0 for volume /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data1] INFO  impl.FsDatasetAsyncDiskService (FsDatasetAsyncDiskService.java:run(334)) - Deleted BP-289139721-172.17.0.11-1606980047411 blk_1073741844_1026 URI file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data1/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741844
2020-12-03 07:20:59,854 [BP-289139721-172.17.0.11-1606980047411 heartbeating to localhost/127.0.0.1:39242] INFO  impl.FsDatasetAsyncDiskService (FsDatasetAsyncDiskService.java:deleteAsync(226)) - Scheduling blk_1073741846_1030 replica FinalizedReplica, blk_1073741846_1030, FINALIZED
  getNumBytes()     = 4
  getBytesOnDisk()  = 4
  getVisibleLength()= 4
  getVolume()       = /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data1
  getBlockURI()     = file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data1/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741846 for deletion
2020-12-03 07:20:59,854 [Async disk worker #0 for volume /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data2] INFO  impl.FsDatasetAsyncDiskService (FsDatasetAsyncDiskService.java:run(334)) - Deleted BP-289139721-172.17.0.11-1606980047411 blk_1073741845_1028 URI file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data2/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741845
2020-12-03 07:20:59,854 [BP-289139721-172.17.0.11-1606980047411 heartbeating to localhost/127.0.0.1:39242] INFO  impl.FsDatasetAsyncDiskService (FsDatasetAsyncDiskService.java:deleteAsync(226)) - Scheduling blk_1073741847_1031 replica FinalizedReplica, blk_1073741847_1031, FINALIZED
  getNumBytes()     = 4
  getBytesOnDisk()  = 4
  getVisibleLength()= 4
  getVolume()       = /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data2
  getBlockURI()     = file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data2/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741847 for deletion
2020-12-03 07:20:59,854 [Async disk worker #0 for volume /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data1] INFO  impl.FsDatasetAsyncDiskService (FsDatasetAsyncDiskService.java:run(334)) - Deleted BP-289139721-172.17.0.11-1606980047411 blk_1073741846_1030 URI file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data1/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741846
2020-12-03 07:20:59,854 [BP-289139721-172.17.0.11-1606980047411 heartbeating to localhost/127.0.0.1:39242] INFO  impl.FsDatasetAsyncDiskService (FsDatasetAsyncDiskService.java:deleteAsync(226)) - Scheduling blk_1073741848_1032 replica FinalizedReplica, blk_1073741848_1032, FINALIZED
  getNumBytes()     = 2
  getBytesOnDisk()  = 2
  getVisibleLength()= 2
  getVolume()       = /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data1
  getBlockURI()     = file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data1/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741848 for deletion
2020-12-03 07:20:59,854 [Async disk worker #0 for volume /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data2] INFO  impl.FsDatasetAsyncDiskService (FsDatasetAsyncDiskService.java:run(334)) - Deleted BP-289139721-172.17.0.11-1606980047411 blk_1073741847_1031 URI file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data2/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741847
2020-12-03 07:20:59,855 [Async disk worker #0 for volume /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data1] INFO  impl.FsDatasetAsyncDiskService (FsDatasetAsyncDiskService.java:run(334)) - Deleted BP-289139721-172.17.0.11-1606980047411 blk_1073741848_1032 URI file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data1/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741848
2020-12-03 07:20:59,874 [org.apache.hadoop.hdfs.server.datanode.BlockRecoveryWorker$1@57479471] INFO  datanode.LocalReplica (LocalReplica.java:truncateBlock(473)) - truncateBlock: blockFile=/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data6/current/BP-289139721-172.17.0.11-1606980047411/tmp/subdir0/subdir0/blk_1073741854, metaFile=/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data6/current/BP-289139721-172.17.0.11-1606980047411/tmp/subdir0/subdir0/blk_1073741854_1040.meta, oldlen=4, newlen=2
2020-12-03 07:20:59,876 [IPC Server handler 2 on default port 38553] INFO  impl.FsDatasetImpl (FsDatasetImpl.java:updateReplicaUnderRecovery(2667)) - updateReplica: BP-289139721-172.17.0.11-1606980047411:blk_1073741850_1034, recoveryId=1040, length=2, replica=ReplicaUnderRecovery, blk_1073741850_1034, RUR
  getNumBytes()     = 4
  getBytesOnDisk()  = 4
  getVisibleLength()= 4
  getVolume()       = /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data4
  getBlockURI()     = file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data4/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741850
  recoveryId=1040
  original=FinalizedReplica, blk_1073741850_1034, FINALIZED
  getNumBytes()     = 4
  getBytesOnDisk()  = 4
  getVisibleLength()= 4
  getVolume()       = /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data4
  getBlockURI()     = file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data4/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741850
2020-12-03 07:20:59,892 [IPC Server handler 2 on default port 38553] INFO  datanode.LocalReplica (LocalReplica.java:truncateBlock(473)) - truncateBlock: blockFile=/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data4/current/BP-289139721-172.17.0.11-1606980047411/tmp/subdir0/subdir0/blk_1073741854, metaFile=/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data4/current/BP-289139721-172.17.0.11-1606980047411/tmp/subdir0/subdir0/blk_1073741854_1040.meta, oldlen=4, newlen=2
2020-12-03 07:20:59,895 [IPC Server handler 8 on default port 32989] INFO  impl.FsDatasetImpl (FsDatasetImpl.java:updateReplicaUnderRecovery(2667)) - updateReplica: BP-289139721-172.17.0.11-1606980047411:blk_1073741850_1034, recoveryId=1040, length=2, replica=ReplicaUnderRecovery, blk_1073741850_1034, RUR
  getNumBytes()     = 4
  getBytesOnDisk()  = 4
  getVisibleLength()= 4
  getVolume()       = /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data2
  getBlockURI()     = file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data2/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741850
  recoveryId=1040
  original=FinalizedReplica, blk_1073741850_1034, FINALIZED
  getNumBytes()     = 4
  getBytesOnDisk()  = 4
  getVisibleLength()= 4
  getVolume()       = /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data2
  getBlockURI()     = file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data2/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741850
2020-12-03 07:20:59,912 [IPC Server handler 8 on default port 32989] INFO  datanode.LocalReplica (LocalReplica.java:truncateBlock(473)) - truncateBlock: blockFile=/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data2/current/BP-289139721-172.17.0.11-1606980047411/tmp/subdir0/subdir0/blk_1073741854, metaFile=/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data2/current/BP-289139721-172.17.0.11-1606980047411/tmp/subdir0/subdir0/blk_1073741854_1040.meta, oldlen=4, newlen=2
2020-12-03 07:20:59,915 [IPC Server handler 8 on default port 39242] INFO  namenode.FSNamesystem (FSNamesystem.java:commitBlockSynchronization(3655)) - commitBlockSynchronization(oldBlock=BP-289139721-172.17.0.11-1606980047411:blk_1073741850_1034, newgenerationstamp=1040, newlength=2, newtargets=[127.0.0.1:43522, 127.0.0.1:43948, 127.0.0.1:44445], closeFile=true, deleteBlock=false)
2020-12-03 07:20:59,916 [IPC Server handler 8 on default port 39242] DEBUG hdfs.StateChange (FSNamesystem.java:closeFile(4036)) - closeFile: /test/testSnapshotWithAppendTruncate with 2 blocks is persisted to the file system
2020-12-03 07:20:59,916 [IPC Server handler 8 on default port 39242] INFO  namenode.FSNamesystem (FSNamesystem.java:commitBlockSynchronization(3805)) - commitBlockSynchronization(oldBlock=BP-289139721-172.17.0.11-1606980047411:blk_1073741850_1034, file=/test/testSnapshotWithAppendTruncate, newBlock=blk_1073741854_1040, newlength=2, newtargets=[127.0.0.1:43522, 127.0.0.1:43948, 127.0.0.1:44445]) successful
2020-12-03 07:20:59,945 [IPC Server handler 3 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:59,948 [IPC Server handler 5 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/.snapshot/ss2/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:59,956 [IPC Server handler 2 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/.snapshot/ss1/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:59,963 [IPC Server handler 9 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/.snapshot/ss0/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:59,969 [IPC Server handler 1 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:59,971 [IPC Server handler 4 on default port 39242] ERROR namenode.NameNode (DirectoryWithQuotaFeature.java:checkStoragespace(143)) - BUG: Inconsistent storagespace for directory /test. Cached = 342 != Computed = 54
2020-12-03 07:20:59,971 [IPC Server handler 4 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=contentSummary	src=/test	dst=null	perm=null	proto=rpc
2020-12-03 07:20:59,972 [IPC Server handler 6 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=createSnapshot	src=/test	dst=/test/.snapshot/ss3	perm=null	proto=rpc
2020-12-03 07:20:59,973 [IPC Server handler 0 on default port 39242] DEBUG hdfs.StateChange (NameNodeRpcServer.java:delete(1103)) - *DIR* Namenode.delete: src=/test/testSnapshotWithAppendTruncate, recursive=false
2020-12-03 07:20:59,973 [IPC Server handler 0 on default port 39242] DEBUG hdfs.StateChange (FSDirDeleteOp.java:deleteInternal(180)) - DIR* NameSystem.delete: /test/testSnapshotWithAppendTruncate
2020-12-03 07:20:59,973 [IPC Server handler 0 on default port 39242] DEBUG hdfs.StateChange (FSDirDeleteOp.java:delete(55)) - DIR* FSDirectory.delete: /test/testSnapshotWithAppendTruncate
2020-12-03 07:20:59,974 [IPC Server handler 0 on default port 39242] DEBUG hdfs.StateChange (FSDirDeleteOp.java:unprotectedDelete(269)) - DIR* FSDirectory.unprotectedDelete: /test/testSnapshotWithAppendTruncate is removed
2020-12-03 07:20:59,974 [IPC Server handler 0 on default port 39242] DEBUG hdfs.StateChange (FSDirDeleteOp.java:deleteInternal(201)) - DIR* Namesystem.delete: /test/testSnapshotWithAppendTruncate is removed
2020-12-03 07:20:59,974 [IPC Server handler 0 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=delete	src=/test/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:59,975 [IPC Server handler 7 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/.snapshot/ss3/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:59,979 [IPC Server handler 8 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/.snapshot/ss2/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:59,985 [IPC Server handler 3 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/.snapshot/ss1/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:59,991 [IPC Server handler 5 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/.snapshot/ss0/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:20:59,997 [IPC Server handler 2 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=deleteSnapshot	src=/test/.snapshot/ss3	dst=null	perm=null	proto=rpc
2020-12-03 07:20:59,999 [IPC Server handler 9 on default port 39242] ERROR namenode.NameNode (DirectoryWithQuotaFeature.java:checkStoragespace(143)) - BUG: Inconsistent storagespace for directory /test. Cached = 372 != Computed = 0
2020-12-03 07:20:59,999 [IPC Server handler 9 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=contentSummary	src=/test	dst=null	perm=null	proto=rpc
2020-12-03 07:21:00,000 [IPC Server handler 1 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=deleteSnapshot	src=/test/.snapshot/ss2	dst=null	perm=null	proto=rpc
2020-12-03 07:21:00,002 [IPC Server handler 4 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/.snapshot/ss0/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:21:00,008 [IPC Server handler 6 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/.snapshot/ss1/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:21:00,014 [IPC Server handler 0 on default port 39242] ERROR namenode.NameNode (DirectoryWithQuotaFeature.java:checkStoragespace(143)) - BUG: Inconsistent storagespace for directory /test. Cached = 372 != Computed = 0
2020-12-03 07:21:00,014 [IPC Server handler 0 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=contentSummary	src=/test	dst=null	perm=null	proto=rpc
2020-12-03 07:21:00,016 [IPC Server handler 7 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=deleteSnapshot	src=/test/.snapshot/ss0	dst=null	perm=null	proto=rpc
2020-12-03 07:21:00,017 [IPC Server handler 8 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/.snapshot/ss1/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:21:00,024 [IPC Server handler 3 on default port 39242] ERROR namenode.NameNode (DirectoryWithQuotaFeature.java:checkStoragespace(143)) - BUG: Inconsistent storagespace for directory /test. Cached = 408 != Computed = 0
2020-12-03 07:21:00,024 [IPC Server handler 3 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=contentSummary	src=/test	dst=null	perm=null	proto=rpc
2020-12-03 07:21:00,025 [IPC Server handler 5 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=getfileinfo	src=/test/.snapshot/ss0/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:21:00,027 [IPC Server handler 2 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=deleteSnapshot	src=/test/.snapshot/ss1	dst=null	perm=null	proto=rpc
2020-12-03 07:21:00,027 [IPC Server handler 9 on default port 39242] ERROR namenode.NameNode (DirectoryWithQuotaFeature.java:checkStoragespace(143)) - BUG: Inconsistent storagespace for directory /test. Cached = 360 != Computed = 0
2020-12-03 07:21:00,027 [IPC Server handler 9 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=contentSummary	src=/test	dst=null	perm=null	proto=rpc
2020-12-03 07:21:00,028 [IPC Server handler 1 on default port 39242] DEBUG hdfs.StateChange (NameNodeRpcServer.java:mkdirs(1139)) - *DIR* NameNode.mkdirs: /test
2020-12-03 07:21:00,029 [IPC Server handler 1 on default port 39242] DEBUG hdfs.StateChange (FSDirMkdirOp.java:mkdirs(46)) - DIR* NameSystem.mkdirs: /test
2020-12-03 07:21:00,029 [IPC Server handler 1 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=mkdirs	src=/test	dst=null	perm=root:supergroup:rwxr-xr-x	proto=rpc
2020-12-03 07:21:00,030 [IPC Server handler 4 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=setSpaceQuota	src=/test	dst=null	perm=null	proto=rpc
2020-12-03 07:21:00,032 [IPC Server handler 6 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=allowSnapshot	src=/test	dst=null	perm=null	proto=rpc
2020-12-03 07:21:00,033 [IPC Server handler 0 on default port 39242] DEBUG hdfs.StateChange (NameNodeRpcServer.java:mkdirs(1139)) - *DIR* NameNode.mkdirs: /test
2020-12-03 07:21:00,033 [IPC Server handler 0 on default port 39242] DEBUG hdfs.StateChange (FSDirMkdirOp.java:mkdirs(46)) - DIR* NameSystem.mkdirs: /test
2020-12-03 07:21:00,034 [IPC Server handler 0 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=mkdirs	src=/test	dst=null	perm=root:supergroup:rwxr-xr-x	proto=rpc
2020-12-03 07:21:00,035 [IPC Server handler 7 on default port 39242] DEBUG hdfs.StateChange (NameNodeRpcServer.java:create(774)) - *DIR* NameNode.create: file /test/testSnapshotWithAppendTruncate for DFSClient_NONMAPREDUCE_-1095141669_1 at 127.0.0.1
2020-12-03 07:21:00,035 [IPC Server handler 7 on default port 39242] DEBUG hdfs.StateChange (FSNamesystem.java:startFileInt(2460)) - DIR* NameSystem.startFile: src=/test/testSnapshotWithAppendTruncate, holder=DFSClient_NONMAPREDUCE_-1095141669_1, clientMachine=127.0.0.1, createParent=true, replication=3, createFlag=[CREATE, OVERWRITE], blockSize=4, supportedVersions=[CryptoProtocolVersion{description='Encryption zones', version=2, unknownValue=null}]
2020-12-03 07:21:00,036 [IPC Server handler 7 on default port 39242] DEBUG hdfs.StateChange (FSDirWriteFileOp.java:addFile(579)) - DIR* addFile: testSnapshotWithAppendTruncate is added
2020-12-03 07:21:00,036 [IPC Server handler 7 on default port 39242] DEBUG hdfs.StateChange (FSDirWriteFileOp.java:startFile(415)) - DIR* NameSystem.startFile: added /test/testSnapshotWithAppendTruncate inode 16392 DFSClient_NONMAPREDUCE_-1095141669_1
2020-12-03 07:21:00,037 [IPC Server handler 7 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=create	src=/test/testSnapshotWithAppendTruncate	dst=null	perm=root:supergroup:rw-r--r--	proto=rpc
2020-12-03 07:21:00,040 [IPC Server handler 8 on default port 39242] DEBUG hdfs.StateChange (FSNamesystem.java:getAdditionalBlock(2767)) - BLOCK* getAdditionalBlock: /test/testSnapshotWithAppendTruncate  inodeId 16392 for DFSClient_NONMAPREDUCE_-1095141669_1
2020-12-03 07:21:00,042 [IPC Server handler 8 on default port 39242] DEBUG hdfs.StateChange (FSDirWriteFileOp.java:addBlock(524)) - DIR* FSDirectory.addBlock: /test/testSnapshotWithAppendTruncate with blk_1073741855_1041 block is added to the in-memory file system
2020-12-03 07:21:00,042 [IPC Server handler 8 on default port 39242] INFO  hdfs.StateChange (FSDirWriteFileOp.java:logAllocatedBlock(798)) - BLOCK* allocate blk_1073741855_1041, replicas=127.0.0.1:44445, 127.0.0.1:43522, 127.0.0.1:43948 for /test/testSnapshotWithAppendTruncate
2020-12-03 07:21:00,042 [IPC Server handler 8 on default port 39242] DEBUG hdfs.StateChange (FSDirWriteFileOp.java:persistNewBlock(758)) - persistNewBlock: /test/testSnapshotWithAppendTruncate with new block blk_1073741855_1041, current total block count is 1
2020-12-03 07:21:00,044 [Thread-519] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:21:00,045 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:47690 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741855_1041]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741855_1041 src: /127.0.0.1:47690 dest: /127.0.0.1:44445
2020-12-03 07:21:00,046 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:47690 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741855_1041]] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:21:00,046 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:51094 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741855_1041]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741855_1041 src: /127.0.0.1:51094 dest: /127.0.0.1:43522
2020-12-03 07:21:00,047 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:51094 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741855_1041]] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:21:00,048 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:41284 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741855_1041]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741855_1041 src: /127.0.0.1:41284 dest: /127.0.0.1:43948
2020-12-03 07:21:00,052 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741855_1041, type=LAST_IN_PIPELINE] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:41284, dest: /127.0.0.1:43948, bytes: 4, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: cb9af4a7-3d3c-4e0a-a0a8-459be5d72fb4, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741855_1041, duration(ns): 2934151
2020-12-03 07:21:00,052 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741855_1041, type=LAST_IN_PIPELINE] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741855_1041, type=LAST_IN_PIPELINE terminating
2020-12-03 07:21:00,053 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741855_1041, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:43948]] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:51094, dest: /127.0.0.1:43522, bytes: 4, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: 4dc3fc86-316f-46bd-b018-51709a77bcb4, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741855_1041, duration(ns): 3083163
2020-12-03 07:21:00,053 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741855_1041, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:43948]] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741855_1041, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:43948] terminating
2020-12-03 07:21:00,053 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741855_1041, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:43522, 127.0.0.1:43948]] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:47690, dest: /127.0.0.1:44445, bytes: 4, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: 09827f10-a8ef-4678-ab6b-635662dd143b, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741855_1041, duration(ns): 3772629
2020-12-03 07:21:00,053 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741855_1041, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:43522, 127.0.0.1:43948]] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741855_1041, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:43522, 127.0.0.1:43948] terminating
2020-12-03 07:21:00,054 [IPC Server handler 9 on default port 39242] DEBUG hdfs.StateChange (FSNamesystem.java:getAdditionalBlock(2767)) - BLOCK* getAdditionalBlock: /test/testSnapshotWithAppendTruncate  inodeId 16392 for DFSClient_NONMAPREDUCE_-1095141669_1
2020-12-03 07:21:00,055 [IPC Server handler 9 on default port 39242] DEBUG hdfs.StateChange (FSDirWriteFileOp.java:addBlock(524)) - DIR* FSDirectory.addBlock: /test/testSnapshotWithAppendTruncate with blk_1073741856_1042 block is added to the in-memory file system
2020-12-03 07:21:00,056 [IPC Server handler 9 on default port 39242] INFO  hdfs.StateChange (FSDirWriteFileOp.java:logAllocatedBlock(798)) - BLOCK* allocate blk_1073741856_1042, replicas=127.0.0.1:44445, 127.0.0.1:43948, 127.0.0.1:43522 for /test/testSnapshotWithAppendTruncate
2020-12-03 07:21:00,056 [IPC Server handler 9 on default port 39242] DEBUG hdfs.StateChange (FSDirWriteFileOp.java:persistNewBlock(758)) - persistNewBlock: /test/testSnapshotWithAppendTruncate with new block blk_1073741856_1042, current total block count is 2
2020-12-03 07:21:00,057 [DataStreamer for file /test/testSnapshotWithAppendTruncate] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:21:00,057 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:47696 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741856_1042]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741856_1042 src: /127.0.0.1:47696 dest: /127.0.0.1:44445
2020-12-03 07:21:00,058 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:47696 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741856_1042]] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:21:00,058 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:41288 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741856_1042]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741856_1042 src: /127.0.0.1:41288 dest: /127.0.0.1:43948
2020-12-03 07:21:00,059 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:41288 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741856_1042]] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:21:00,059 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:51102 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741856_1042]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741856_1042 src: /127.0.0.1:51102 dest: /127.0.0.1:43522
2020-12-03 07:21:00,062 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741856_1042, type=LAST_IN_PIPELINE] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:51102, dest: /127.0.0.1:43522, bytes: 4, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: 4dc3fc86-316f-46bd-b018-51709a77bcb4, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741856_1042, duration(ns): 1866545
2020-12-03 07:21:00,062 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741856_1042, type=LAST_IN_PIPELINE] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741856_1042, type=LAST_IN_PIPELINE terminating
2020-12-03 07:21:00,063 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741856_1042, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:43522]] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:41288, dest: /127.0.0.1:43948, bytes: 4, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: cb9af4a7-3d3c-4e0a-a0a8-459be5d72fb4, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741856_1042, duration(ns): 2332023
2020-12-03 07:21:00,063 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741856_1042, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:43522]] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741856_1042, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:43522] terminating
2020-12-03 07:21:00,063 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741856_1042, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:43948, 127.0.0.1:43522]] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:47696, dest: /127.0.0.1:44445, bytes: 4, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: 09827f10-a8ef-4678-ab6b-635662dd143b, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741856_1042, duration(ns): 2760343
2020-12-03 07:21:00,063 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741856_1042, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:43948, 127.0.0.1:43522]] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741856_1042, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:43948, 127.0.0.1:43522] terminating
2020-12-03 07:21:00,064 [IPC Server handler 0 on default port 39242] DEBUG hdfs.StateChange (FSNamesystem.java:getAdditionalBlock(2767)) - BLOCK* getAdditionalBlock: /test/testSnapshotWithAppendTruncate  inodeId 16392 for DFSClient_NONMAPREDUCE_-1095141669_1
2020-12-03 07:21:00,065 [IPC Server handler 0 on default port 39242] DEBUG hdfs.StateChange (FSDirWriteFileOp.java:addBlock(524)) - DIR* FSDirectory.addBlock: /test/testSnapshotWithAppendTruncate with blk_1073741857_1043 block is added to the in-memory file system
2020-12-03 07:21:00,065 [IPC Server handler 0 on default port 39242] INFO  hdfs.StateChange (FSDirWriteFileOp.java:logAllocatedBlock(798)) - BLOCK* allocate blk_1073741857_1043, replicas=127.0.0.1:43948, 127.0.0.1:44445, 127.0.0.1:43522 for /test/testSnapshotWithAppendTruncate
2020-12-03 07:21:00,065 [IPC Server handler 0 on default port 39242] DEBUG hdfs.StateChange (FSDirWriteFileOp.java:persistNewBlock(758)) - persistNewBlock: /test/testSnapshotWithAppendTruncate with new block blk_1073741857_1043, current total block count is 3
2020-12-03 07:21:00,066 [DataStreamer for file /test/testSnapshotWithAppendTruncate] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:21:00,067 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:41292 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741857_1043]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741857_1043 src: /127.0.0.1:41292 dest: /127.0.0.1:43948
2020-12-03 07:21:00,067 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:41292 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741857_1043]] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:21:00,068 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:47704 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741857_1043]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741857_1043 src: /127.0.0.1:47704 dest: /127.0.0.1:44445
2020-12-03 07:21:00,068 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:47704 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741857_1043]] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:21:00,069 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:51108 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741857_1043]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741857_1043 src: /127.0.0.1:51108 dest: /127.0.0.1:43522
2020-12-03 07:21:00,072 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741857_1043, type=LAST_IN_PIPELINE] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:51108, dest: /127.0.0.1:43522, bytes: 2, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: 4dc3fc86-316f-46bd-b018-51709a77bcb4, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741857_1043, duration(ns): 1805479
2020-12-03 07:21:00,072 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741857_1043, type=LAST_IN_PIPELINE] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741857_1043, type=LAST_IN_PIPELINE terminating
2020-12-03 07:21:00,073 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741857_1043, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:43522]] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:47704, dest: /127.0.0.1:44445, bytes: 2, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: 09827f10-a8ef-4678-ab6b-635662dd143b, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741857_1043, duration(ns): 1837085
2020-12-03 07:21:00,073 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741857_1043, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:43522]] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741857_1043, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:43522] terminating
2020-12-03 07:21:00,073 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741857_1043, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:44445, 127.0.0.1:43522]] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:41292, dest: /127.0.0.1:43948, bytes: 2, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: cb9af4a7-3d3c-4e0a-a0a8-459be5d72fb4, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741857_1043, duration(ns): 3049278
2020-12-03 07:21:00,074 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741857_1043, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:44445, 127.0.0.1:43522]] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741857_1043, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:44445, 127.0.0.1:43522] terminating
2020-12-03 07:21:00,075 [IPC Server handler 3 on default port 39242] DEBUG hdfs.StateChange (FSDirWriteFileOp.java:completeFile(674)) - DIR* NameSystem.completeFile: /test/testSnapshotWithAppendTruncate for DFSClient_NONMAPREDUCE_-1095141669_1
2020-12-03 07:21:00,075 [IPC Server handler 3 on default port 39242] DEBUG hdfs.StateChange (FSNamesystem.java:closeFile(4036)) - closeFile: /test/testSnapshotWithAppendTruncate with 3 blocks is persisted to the file system
2020-12-03 07:21:00,076 [IPC Server handler 3 on default port 39242] INFO  hdfs.StateChange (FSNamesystem.java:completeFile(2948)) - DIR* completeFile: /test/testSnapshotWithAppendTruncate is closed by DFSClient_NONMAPREDUCE_-1095141669_1
2020-12-03 07:21:00,077 [IPC Server handler 2 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:21:00,078 [IPC Server handler 9 on default port 39242] ERROR namenode.NameNode (DirectoryWithQuotaFeature.java:checkStoragespace(143)) - BUG: Inconsistent storagespace for directory /test. Cached = 390 != Computed = 30
2020-12-03 07:21:00,079 [IPC Server handler 9 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=contentSummary	src=/test	dst=null	perm=null	proto=rpc
2020-12-03 07:21:00,080 [IPC Server handler 1 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=createSnapshot	src=/test	dst=/test/.snapshot/ss0	perm=null	proto=rpc
2020-12-03 07:21:00,084 [IPC Server handler 4 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=getfileinfo	src=/test/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:21:00,085 [IPC Server handler 6 on default port 39242] DEBUG hdfs.StateChange (NameNodeRpcServer.java:append(809)) - *DIR* NameNode.append: file /test/testSnapshotWithAppendTruncate for DFSClient_NONMAPREDUCE_-1095141669_1 at 127.0.0.1
2020-12-03 07:21:00,085 [IPC Server handler 6 on default port 39242] DEBUG hdfs.StateChange (FSNamesystem.java:appendFile(2710)) - DIR* NameSystem.appendFile: src=/test/testSnapshotWithAppendTruncate, holder=DFSClient_NONMAPREDUCE_-1095141669_1, clientMachine=127.0.0.1
2020-12-03 07:21:00,086 [IPC Server handler 6 on default port 39242] DEBUG hdfs.StateChange (FSDirAppendOp.java:appendFile(154)) - DIR* NameSystem.appendFile: file /test/testSnapshotWithAppendTruncate for DFSClient_NONMAPREDUCE_-1095141669_1 at 127.0.0.1 block BP-289139721-172.17.0.11-1606980047411:blk_1073741857_1043 block size 2
2020-12-03 07:21:00,086 [IPC Server handler 6 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=append	src=/test/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:21:00,089 [Thread-541] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:21:00,090 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:51110 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741857_1043]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741857_1043 src: /127.0.0.1:51110 dest: /127.0.0.1:43522
2020-12-03 07:21:00,090 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:51110 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741857_1043]] INFO  impl.FsDatasetImpl (FsDatasetImpl.java:append(1187)) - Appending to FinalizedReplica, blk_1073741857_1043, FINALIZED
  getNumBytes()     = 2
  getBytesOnDisk()  = 2
  getVisibleLength()= 2
  getVolume()       = /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data6
  getBlockURI()     = file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data6/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741857
2020-12-03 07:21:00,106 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:51110 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741857_1043]] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:21:00,107 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:47710 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741857_1043]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741857_1043 src: /127.0.0.1:47710 dest: /127.0.0.1:44445
2020-12-03 07:21:00,107 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:47710 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741857_1043]] INFO  impl.FsDatasetImpl (FsDatasetImpl.java:append(1187)) - Appending to FinalizedReplica, blk_1073741857_1043, FINALIZED
  getNumBytes()     = 2
  getBytesOnDisk()  = 2
  getVisibleLength()= 2
  getVolume()       = /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data2
  getBlockURI()     = file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data2/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741857
2020-12-03 07:21:00,120 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:47710 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741857_1043]] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:21:00,121 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:41302 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741857_1043]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741857_1043 src: /127.0.0.1:41302 dest: /127.0.0.1:43948
2020-12-03 07:21:00,122 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:41302 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741857_1043]] INFO  impl.FsDatasetImpl (FsDatasetImpl.java:append(1187)) - Appending to FinalizedReplica, blk_1073741857_1043, FINALIZED
  getNumBytes()     = 2
  getBytesOnDisk()  = 2
  getVisibleLength()= 2
  getVolume()       = /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data4
  getBlockURI()     = file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data4/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741857
2020-12-03 07:21:00,137 [IPC Server handler 7 on default port 39242] INFO  namenode.FSNamesystem (FSNamesystem.java:updatePipeline(5430)) - updatePipeline(blk_1073741857_1043, newGS=1044, newLength=2, newNodes=[127.0.0.1:43522, 127.0.0.1:44445, 127.0.0.1:43948], client=DFSClient_NONMAPREDUCE_-1095141669_1)
2020-12-03 07:21:00,137 [IPC Server handler 7 on default port 39242] DEBUG hdfs.StateChange (FSDirWriteFileOp.java:persistBlocks(111)) - persistBlocks: /test/testSnapshotWithAppendTruncate with 3 blocks is persisted to the file system
2020-12-03 07:21:00,138 [IPC Server handler 7 on default port 39242] INFO  namenode.FSNamesystem (FSNamesystem.java:updatePipeline(5448)) - updatePipeline(blk_1073741857_1043 => blk_1073741857_1044) success
2020-12-03 07:21:00,143 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741857_1044, type=LAST_IN_PIPELINE] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:41302, dest: /127.0.0.1:43948, bytes: 4, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: cb9af4a7-3d3c-4e0a-a0a8-459be5d72fb4, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741857_1044, duration(ns): 6766724
2020-12-03 07:21:00,143 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741857_1044, type=LAST_IN_PIPELINE] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741857_1044, type=LAST_IN_PIPELINE terminating
2020-12-03 07:21:00,144 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741857_1044, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:43948]] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:47710, dest: /127.0.0.1:44445, bytes: 4, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: 09827f10-a8ef-4678-ab6b-635662dd143b, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741857_1044, duration(ns): 7532708
2020-12-03 07:21:00,144 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741857_1044, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:43948]] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741857_1044, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:43948] terminating
2020-12-03 07:21:00,144 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741857_1044, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:44445, 127.0.0.1:43948]] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:51110, dest: /127.0.0.1:43522, bytes: 4, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: 4dc3fc86-316f-46bd-b018-51709a77bcb4, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741857_1044, duration(ns): 8085700
2020-12-03 07:21:00,145 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741857_1044, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:44445, 127.0.0.1:43948]] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741857_1044, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:44445, 127.0.0.1:43948] terminating
2020-12-03 07:21:00,146 [IPC Server handler 2 on default port 39242] DEBUG hdfs.StateChange (FSNamesystem.java:getAdditionalBlock(2767)) - BLOCK* getAdditionalBlock: /test/testSnapshotWithAppendTruncate  inodeId 16392 for DFSClient_NONMAPREDUCE_-1095141669_1
2020-12-03 07:21:00,147 [IPC Server handler 2 on default port 39242] DEBUG hdfs.StateChange (FSDirWriteFileOp.java:addBlock(524)) - DIR* FSDirectory.addBlock: /test/testSnapshotWithAppendTruncate with blk_1073741858_1045 block is added to the in-memory file system
2020-12-03 07:21:00,147 [IPC Server handler 2 on default port 39242] INFO  hdfs.StateChange (FSDirWriteFileOp.java:logAllocatedBlock(798)) - BLOCK* allocate blk_1073741858_1045, replicas=127.0.0.1:43522, 127.0.0.1:43948, 127.0.0.1:44445 for /test/testSnapshotWithAppendTruncate
2020-12-03 07:21:00,147 [IPC Server handler 2 on default port 39242] DEBUG hdfs.StateChange (FSDirWriteFileOp.java:persistNewBlock(758)) - persistNewBlock: /test/testSnapshotWithAppendTruncate with new block blk_1073741858_1045, current total block count is 4
2020-12-03 07:21:00,148 [DataStreamer for file /test/testSnapshotWithAppendTruncate] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:21:00,149 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:51116 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741858_1045]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741858_1045 src: /127.0.0.1:51116 dest: /127.0.0.1:43522
2020-12-03 07:21:00,149 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:51116 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741858_1045]] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:21:00,150 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:41306 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741858_1045]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741858_1045 src: /127.0.0.1:41306 dest: /127.0.0.1:43948
2020-12-03 07:21:00,150 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:41306 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741858_1045]] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:21:00,153 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:47718 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741858_1045]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741858_1045 src: /127.0.0.1:47718 dest: /127.0.0.1:44445
2020-12-03 07:21:00,156 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741858_1045, type=LAST_IN_PIPELINE] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:47718, dest: /127.0.0.1:44445, bytes: 3, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: 09827f10-a8ef-4678-ab6b-635662dd143b, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741858_1045, duration(ns): 2007204
2020-12-03 07:21:00,157 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741858_1045, type=LAST_IN_PIPELINE] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741858_1045, type=LAST_IN_PIPELINE terminating
2020-12-03 07:21:00,157 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741858_1045, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:44445]] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:41306, dest: /127.0.0.1:43948, bytes: 3, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: cb9af4a7-3d3c-4e0a-a0a8-459be5d72fb4, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741858_1045, duration(ns): 2541211
2020-12-03 07:21:00,157 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741858_1045, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:44445]] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741858_1045, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:44445] terminating
2020-12-03 07:21:00,158 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741858_1045, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:43948, 127.0.0.1:44445]] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:51116, dest: /127.0.0.1:43522, bytes: 3, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: 4dc3fc86-316f-46bd-b018-51709a77bcb4, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741858_1045, duration(ns): 2981490
2020-12-03 07:21:00,158 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741858_1045, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:43948, 127.0.0.1:44445]] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741858_1045, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:43948, 127.0.0.1:44445] terminating
2020-12-03 07:21:00,159 [IPC Server handler 6 on default port 39242] DEBUG hdfs.StateChange (FSDirWriteFileOp.java:completeFile(674)) - DIR* NameSystem.completeFile: /test/testSnapshotWithAppendTruncate for DFSClient_NONMAPREDUCE_-1095141669_1
2020-12-03 07:21:00,159 [IPC Server handler 6 on default port 39242] DEBUG hdfs.StateChange (FSNamesystem.java:closeFile(4036)) - closeFile: /test/testSnapshotWithAppendTruncate with 4 blocks is persisted to the file system
2020-12-03 07:21:00,159 [IPC Server handler 6 on default port 39242] INFO  hdfs.StateChange (FSNamesystem.java:completeFile(2948)) - DIR* completeFile: /test/testSnapshotWithAppendTruncate is closed by DFSClient_NONMAPREDUCE_-1095141669_1
2020-12-03 07:21:00,161 [IPC Server handler 0 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:21:00,162 [IPC Server handler 7 on default port 39242] ERROR namenode.NameNode (DirectoryWithQuotaFeature.java:checkStoragespace(143)) - BUG: Inconsistent storagespace for directory /test. Cached = 405 != Computed = 45
2020-12-03 07:21:00,163 [IPC Server handler 7 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=contentSummary	src=/test	dst=null	perm=null	proto=rpc
2020-12-03 07:21:00,164 [IPC Server handler 8 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=createSnapshot	src=/test	dst=/test/.snapshot/ss1	perm=null	proto=rpc
2020-12-03 07:21:00,165 [IPC Server handler 5 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=createSnapshot	src=/test	dst=/test/.snapshot/ss2	perm=null	proto=rpc
2020-12-03 07:21:00,168 [IPC Server handler 3 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=getfileinfo	src=/test/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:21:00,169 [IPC Server handler 2 on default port 39242] DEBUG hdfs.StateChange (NameNodeRpcServer.java:append(809)) - *DIR* NameNode.append: file /test/testSnapshotWithAppendTruncate for DFSClient_NONMAPREDUCE_-1095141669_1 at 127.0.0.1
2020-12-03 07:21:00,170 [IPC Server handler 2 on default port 39242] DEBUG hdfs.StateChange (FSNamesystem.java:appendFile(2710)) - DIR* NameSystem.appendFile: src=/test/testSnapshotWithAppendTruncate, holder=DFSClient_NONMAPREDUCE_-1095141669_1, clientMachine=127.0.0.1
2020-12-03 07:21:00,170 [IPC Server handler 2 on default port 39242] DEBUG hdfs.StateChange (FSDirAppendOp.java:appendFile(154)) - DIR* NameSystem.appendFile: file /test/testSnapshotWithAppendTruncate for DFSClient_NONMAPREDUCE_-1095141669_1 at 127.0.0.1 block BP-289139721-172.17.0.11-1606980047411:blk_1073741858_1045 block size 3
2020-12-03 07:21:00,171 [IPC Server handler 2 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=append	src=/test/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:21:00,174 [Thread-562] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:21:00,175 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:47720 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741858_1045]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741858_1045 src: /127.0.0.1:47720 dest: /127.0.0.1:44445
2020-12-03 07:21:00,175 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:47720 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741858_1045]] INFO  impl.FsDatasetImpl (FsDatasetImpl.java:append(1187)) - Appending to FinalizedReplica, blk_1073741858_1045, FINALIZED
  getNumBytes()     = 3
  getBytesOnDisk()  = 3
  getVisibleLength()= 3
  getVolume()       = /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data1
  getBlockURI()     = file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data1/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741858
2020-12-03 07:21:00,191 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:47720 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741858_1045]] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:21:00,192 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:41312 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741858_1045]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741858_1045 src: /127.0.0.1:41312 dest: /127.0.0.1:43948
2020-12-03 07:21:00,193 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:41312 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741858_1045]] INFO  impl.FsDatasetImpl (FsDatasetImpl.java:append(1187)) - Appending to FinalizedReplica, blk_1073741858_1045, FINALIZED
  getNumBytes()     = 3
  getBytesOnDisk()  = 3
  getVisibleLength()= 3
  getVolume()       = /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data3
  getBlockURI()     = file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data3/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741858
2020-12-03 07:21:00,208 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:41312 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741858_1045]] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:21:00,209 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:51126 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741858_1045]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741858_1045 src: /127.0.0.1:51126 dest: /127.0.0.1:43522
2020-12-03 07:21:00,209 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:51126 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741858_1045]] INFO  impl.FsDatasetImpl (FsDatasetImpl.java:append(1187)) - Appending to FinalizedReplica, blk_1073741858_1045, FINALIZED
  getNumBytes()     = 3
  getBytesOnDisk()  = 3
  getVisibleLength()= 3
  getVolume()       = /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data5
  getBlockURI()     = file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data5/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741858
2020-12-03 07:21:00,228 [IPC Server handler 1 on default port 39242] INFO  namenode.FSNamesystem (FSNamesystem.java:updatePipeline(5430)) - updatePipeline(blk_1073741858_1045, newGS=1046, newLength=3, newNodes=[127.0.0.1:44445, 127.0.0.1:43948, 127.0.0.1:43522], client=DFSClient_NONMAPREDUCE_-1095141669_1)
2020-12-03 07:21:00,229 [IPC Server handler 1 on default port 39242] DEBUG hdfs.StateChange (FSDirWriteFileOp.java:persistBlocks(111)) - persistBlocks: /test/testSnapshotWithAppendTruncate with 4 blocks is persisted to the file system
2020-12-03 07:21:00,229 [IPC Server handler 1 on default port 39242] INFO  namenode.FSNamesystem (FSNamesystem.java:updatePipeline(5448)) - updatePipeline(blk_1073741858_1045 => blk_1073741858_1046) success
2020-12-03 07:21:00,263 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741858_1046, type=LAST_IN_PIPELINE] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:51126, dest: /127.0.0.1:43522, bytes: 4, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: 4dc3fc86-316f-46bd-b018-51709a77bcb4, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741858_1046, duration(ns): 35565440
2020-12-03 07:21:00,263 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741858_1046, type=LAST_IN_PIPELINE] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741858_1046, type=LAST_IN_PIPELINE terminating
2020-12-03 07:21:00,264 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741858_1046, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:43522]] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:41312, dest: /127.0.0.1:43948, bytes: 4, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: cb9af4a7-3d3c-4e0a-a0a8-459be5d72fb4, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741858_1046, duration(ns): 35414378
2020-12-03 07:21:00,264 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741858_1046, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:43522]] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741858_1046, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:43522] terminating
2020-12-03 07:21:00,265 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741858_1046, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:43948, 127.0.0.1:43522]] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:47720, dest: /127.0.0.1:44445, bytes: 4, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: 09827f10-a8ef-4678-ab6b-635662dd143b, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741858_1046, duration(ns): 36261372
2020-12-03 07:21:00,265 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741858_1046, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:43948, 127.0.0.1:43522]] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741858_1046, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:43948, 127.0.0.1:43522] terminating
2020-12-03 07:21:00,270 [IPC Server handler 0 on default port 39242] DEBUG hdfs.StateChange (FSNamesystem.java:getAdditionalBlock(2767)) - BLOCK* getAdditionalBlock: /test/testSnapshotWithAppendTruncate  inodeId 16392 for DFSClient_NONMAPREDUCE_-1095141669_1
2020-12-03 07:21:00,271 [IPC Server handler 0 on default port 39242] DEBUG hdfs.StateChange (FSDirWriteFileOp.java:addBlock(524)) - DIR* FSDirectory.addBlock: /test/testSnapshotWithAppendTruncate with blk_1073741859_1047 block is added to the in-memory file system
2020-12-03 07:21:00,272 [IPC Server handler 0 on default port 39242] INFO  hdfs.StateChange (FSDirWriteFileOp.java:logAllocatedBlock(798)) - BLOCK* allocate blk_1073741859_1047, replicas=127.0.0.1:43522, 127.0.0.1:44445, 127.0.0.1:43948 for /test/testSnapshotWithAppendTruncate
2020-12-03 07:21:00,272 [IPC Server handler 0 on default port 39242] DEBUG hdfs.StateChange (FSDirWriteFileOp.java:persistNewBlock(758)) - persistNewBlock: /test/testSnapshotWithAppendTruncate with new block blk_1073741859_1047, current total block count is 5
2020-12-03 07:21:00,274 [DataStreamer for file /test/testSnapshotWithAppendTruncate] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:21:00,287 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:51128 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741859_1047]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741859_1047 src: /127.0.0.1:51128 dest: /127.0.0.1:43522
2020-12-03 07:21:00,288 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:51128 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741859_1047]] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:21:00,291 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:47728 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741859_1047]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741859_1047 src: /127.0.0.1:47728 dest: /127.0.0.1:44445
2020-12-03 07:21:00,292 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:47728 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741859_1047]] INFO  sasl.SaslDataTransferClient (SaslDataTransferClient.java:checkTrustAndSend(239)) - SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false
2020-12-03 07:21:00,293 [DataXceiver for client DFSClient_NONMAPREDUCE_-1095141669_1 at /127.0.0.1:41320 [Receiving block BP-289139721-172.17.0.11-1606980047411:blk_1073741859_1047]] INFO  datanode.DataNode (DataXceiver.java:writeBlock(747)) - Receiving BP-289139721-172.17.0.11-1606980047411:blk_1073741859_1047 src: /127.0.0.1:41320 dest: /127.0.0.1:43948
2020-12-03 07:21:00,296 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741859_1047, type=LAST_IN_PIPELINE] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:41320, dest: /127.0.0.1:43948, bytes: 4, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: cb9af4a7-3d3c-4e0a-a0a8-459be5d72fb4, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741859_1047, duration(ns): 1093973
2020-12-03 07:21:00,296 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741859_1047, type=LAST_IN_PIPELINE] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741859_1047, type=LAST_IN_PIPELINE terminating
2020-12-03 07:21:00,297 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741859_1047, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:43948]] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:47728, dest: /127.0.0.1:44445, bytes: 4, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: 09827f10-a8ef-4678-ab6b-635662dd143b, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741859_1047, duration(ns): 2274270
2020-12-03 07:21:00,297 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741859_1047, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:43948]] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741859_1047, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=1:[127.0.0.1:43948] terminating
2020-12-03 07:21:00,297 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741859_1047, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:44445, 127.0.0.1:43948]] INFO  DataNode.clienttrace (BlockReceiver.java:finalizeBlock(1533)) - src: /127.0.0.1:51128, dest: /127.0.0.1:43522, bytes: 4, op: HDFS_WRITE, cliID: DFSClient_NONMAPREDUCE_-1095141669_1, offset: 0, srvID: 4dc3fc86-316f-46bd-b018-51709a77bcb4, blockid: BP-289139721-172.17.0.11-1606980047411:blk_1073741859_1047, duration(ns): 2509816
2020-12-03 07:21:00,297 [PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741859_1047, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:44445, 127.0.0.1:43948]] INFO  datanode.DataNode (BlockReceiver.java:run(1506)) - PacketResponder: BP-289139721-172.17.0.11-1606980047411:blk_1073741859_1047, type=HAS_DOWNSTREAM_IN_PIPELINE, downstreams=2:[127.0.0.1:44445, 127.0.0.1:43948] terminating
2020-12-03 07:21:00,298 [IPC Server handler 2 on default port 39242] DEBUG hdfs.StateChange (FSDirWriteFileOp.java:completeFile(674)) - DIR* NameSystem.completeFile: /test/testSnapshotWithAppendTruncate for DFSClient_NONMAPREDUCE_-1095141669_1
2020-12-03 07:21:00,299 [IPC Server handler 2 on default port 39242] DEBUG hdfs.StateChange (FSNamesystem.java:closeFile(4036)) - closeFile: /test/testSnapshotWithAppendTruncate with 5 blocks is persisted to the file system
2020-12-03 07:21:00,299 [IPC Server handler 2 on default port 39242] INFO  hdfs.StateChange (FSNamesystem.java:completeFile(2948)) - DIR* completeFile: /test/testSnapshotWithAppendTruncate is closed by DFSClient_NONMAPREDUCE_-1095141669_1
2020-12-03 07:21:00,300 [IPC Server handler 9 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:21:00,302 [IPC Server handler 1 on default port 39242] ERROR namenode.NameNode (DirectoryWithQuotaFeature.java:checkStoragespace(143)) - BUG: Inconsistent storagespace for directory /test. Cached = 420 != Computed = 60
2020-12-03 07:21:00,302 [IPC Server handler 1 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=contentSummary	src=/test	dst=null	perm=null	proto=rpc
2020-12-03 07:21:00,304 [IPC Server handler 4 on default port 39242] DEBUG hdfs.StateChange (NameNodeRpcServer.java:truncate(1087)) - *DIR* NameNode.truncate: /test/testSnapshotWithAppendTruncate to 12
2020-12-03 07:21:00,304 [IPC Server handler 4 on default port 39242] DEBUG hdfs.StateChange (FSNamesystem.java:truncate(2136)) - DIR* NameSystem.truncate: src=/test/testSnapshotWithAppendTruncate newLength=12
2020-12-03 07:21:00,305 [IPC Server handler 4 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=truncate	src=/test/testSnapshotWithAppendTruncate	dst=null	perm=root:supergroup:rw-r--r--	proto=rpc
2020-12-03 07:21:00,306 [IPC Server handler 6 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/.snapshot/ss2/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:21:00,316 [IPC Server handler 0 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/.snapshot/ss1/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:21:00,322 [IPC Server handler 7 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/.snapshot/ss0/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:21:00,327 [IPC Server handler 8 on default port 39242] ERROR namenode.NameNode (DirectoryWithQuotaFeature.java:checkStoragespace(143)) - BUG: Inconsistent storagespace for directory /test. Cached = 408 != Computed = 48
2020-12-03 07:21:00,327 [IPC Server handler 8 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=contentSummary	src=/test	dst=null	perm=null	proto=rpc
2020-12-03 07:21:00,328 [IPC Server handler 5 on default port 39242] DEBUG hdfs.StateChange (NameNodeRpcServer.java:truncate(1087)) - *DIR* NameNode.truncate: /test/testSnapshotWithAppendTruncate to 8
2020-12-03 07:21:00,328 [IPC Server handler 5 on default port 39242] DEBUG hdfs.StateChange (FSNamesystem.java:truncate(2136)) - DIR* NameSystem.truncate: src=/test/testSnapshotWithAppendTruncate newLength=8
2020-12-03 07:21:00,329 [IPC Server handler 5 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=truncate	src=/test/testSnapshotWithAppendTruncate	dst=null	perm=root:supergroup:rw-r--r--	proto=rpc
2020-12-03 07:21:00,330 [IPC Server handler 3 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/.snapshot/ss2/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:21:00,335 [IPC Server handler 2 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/.snapshot/ss1/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:21:00,340 [IPC Server handler 9 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/.snapshot/ss0/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:21:00,348 [IPC Server handler 1 on default port 39242] ERROR namenode.NameNode (DirectoryWithQuotaFeature.java:checkStoragespace(143)) - BUG: Inconsistent storagespace for directory /test. Cached = 408 != Computed = 48
2020-12-03 07:21:00,348 [IPC Server handler 1 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=contentSummary	src=/test	dst=null	perm=null	proto=rpc
2020-12-03 07:21:00,354 [IPC Server handler 4 on default port 39242] DEBUG hdfs.StateChange (NameNodeRpcServer.java:truncate(1087)) - *DIR* NameNode.truncate: /test/testSnapshotWithAppendTruncate to 6
2020-12-03 07:21:00,355 [IPC Server handler 4 on default port 39242] DEBUG hdfs.StateChange (FSNamesystem.java:truncate(2136)) - DIR* NameSystem.truncate: src=/test/testSnapshotWithAppendTruncate newLength=6
2020-12-03 07:21:00,355 [IPC Server handler 4 on default port 39242] DEBUG hdfs.StateChange (FSDirTruncateOp.java:prepareFileForTruncate(252)) - BLOCK* prepareFileForTruncate: Scheduling copy-on-truncate to new size 2  new block blk_1073741860_1048 old block blk_1073741856_1042
2020-12-03 07:21:00,356 [IPC Server handler 4 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=truncate	src=/test/testSnapshotWithAppendTruncate	dst=null	perm=root:supergroup:rw-r--r--	proto=rpc
2020-12-03 07:21:00,357 [IPC Server handler 6 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:21:00,459 [IPC Server handler 0 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:21:00,562 [IPC Server handler 7 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:21:00,665 [IPC Server handler 8 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:21:00,767 [IPC Server handler 5 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:21:00,845 [org.apache.hadoop.hdfs.server.datanode.BlockRecoveryWorker$1@79331e01] INFO  datanode.DataNode (BlockRecoveryWorker.java:logRecoverBlock(549)) - BlockRecoveryWorker: NameNode at localhost/127.0.0.1:39242 calls recoverBlock(BP-289139721-172.17.0.11-1606980047411:blk_1073741856_1042, targets=[DatanodeInfoWithStorage[127.0.0.1:43522,null,null], DatanodeInfoWithStorage[127.0.0.1:43948,null,null], DatanodeInfoWithStorage[127.0.0.1:44445,null,null]], newGenerationStamp=1048, newBlock=blk_1073741860_1048, isStriped=false)
2020-12-03 07:21:00,845 [org.apache.hadoop.hdfs.server.datanode.BlockRecoveryWorker$1@79331e01] INFO  impl.FsDatasetImpl (FsDatasetImpl.java:initReplicaRecoveryImpl(2588)) - initReplicaRecovery: blk_1073741856_1042, recoveryId=1048, replica=FinalizedReplica, blk_1073741856_1042, FINALIZED
  getNumBytes()     = 4
  getBytesOnDisk()  = 4
  getVisibleLength()= 4
  getVolume()       = /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data5
  getBlockURI()     = file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data5/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741856
2020-12-03 07:21:00,845 [org.apache.hadoop.hdfs.server.datanode.BlockRecoveryWorker$1@79331e01] INFO  impl.FsDatasetImpl (FsDatasetImpl.java:initReplicaRecoveryImpl(2646)) - initReplicaRecovery: changing replica state for blk_1073741856_1042 from FINALIZED to RUR
2020-12-03 07:21:00,847 [IPC Server handler 0 on default port 38553] INFO  impl.FsDatasetImpl (FsDatasetImpl.java:initReplicaRecoveryImpl(2588)) - initReplicaRecovery: blk_1073741856_1042, recoveryId=1048, replica=FinalizedReplica, blk_1073741856_1042, FINALIZED
  getNumBytes()     = 4
  getBytesOnDisk()  = 4
  getVisibleLength()= 4
  getVolume()       = /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data3
  getBlockURI()     = file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data3/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741856
2020-12-03 07:21:00,847 [IPC Server handler 0 on default port 38553] INFO  impl.FsDatasetImpl (FsDatasetImpl.java:initReplicaRecoveryImpl(2646)) - initReplicaRecovery: changing replica state for blk_1073741856_1042 from FINALIZED to RUR
2020-12-03 07:21:00,848 [IPC Server handler 4 on default port 32989] INFO  impl.FsDatasetImpl (FsDatasetImpl.java:initReplicaRecoveryImpl(2588)) - initReplicaRecovery: blk_1073741856_1042, recoveryId=1048, replica=FinalizedReplica, blk_1073741856_1042, FINALIZED
  getNumBytes()     = 4
  getBytesOnDisk()  = 4
  getVisibleLength()= 4
  getVolume()       = /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data1
  getBlockURI()     = file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data1/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741856
2020-12-03 07:21:00,849 [IPC Server handler 4 on default port 32989] INFO  impl.FsDatasetImpl (FsDatasetImpl.java:initReplicaRecoveryImpl(2646)) - initReplicaRecovery: changing replica state for blk_1073741856_1042 from FINALIZED to RUR
2020-12-03 07:21:00,849 [org.apache.hadoop.hdfs.server.datanode.BlockRecoveryWorker$1@79331e01] INFO  datanode.DataNode (BlockRecoveryWorker.java:syncBlock(200)) - BlockRecoveryWorker: block=BP-289139721-172.17.0.11-1606980047411:blk_1073741856_1042 (length=4), isTruncateRecovery=true, syncList=[block:blk_1073741856_1042[numBytes=4,originalReplicaState=FINALIZED] node:DatanodeInfoWithStorage[127.0.0.1:43522,null,null], block:blk_1073741856_1042[numBytes=4,originalReplicaState=FINALIZED] node:DatanodeInfoWithStorage[127.0.0.1:43948,null,null], block:blk_1073741856_1042[numBytes=4,originalReplicaState=FINALIZED] node:DatanodeInfoWithStorage[127.0.0.1:44445,null,null]]
2020-12-03 07:21:00,849 [org.apache.hadoop.hdfs.server.datanode.BlockRecoveryWorker$1@79331e01] INFO  datanode.DataNode (BlockRecoveryWorker.java:syncBlock(293)) - BlockRecoveryWorker: block=BP-289139721-172.17.0.11-1606980047411:blk_1073741856_1042 (length=4), bestState=FINALIZED, newBlock=BP-289139721-172.17.0.11-1606980047411:blk_1073741860_1048 (length=2), participatingList=[block:blk_1073741856_1042[numBytes=4,originalReplicaState=FINALIZED] node:DatanodeInfoWithStorage[127.0.0.1:43522,null,null], block:blk_1073741856_1042[numBytes=4,originalReplicaState=FINALIZED] node:DatanodeInfoWithStorage[127.0.0.1:43948,null,null], block:blk_1073741856_1042[numBytes=4,originalReplicaState=FINALIZED] node:DatanodeInfoWithStorage[127.0.0.1:44445,null,null]]
2020-12-03 07:21:00,849 [org.apache.hadoop.hdfs.server.datanode.BlockRecoveryWorker$1@79331e01] INFO  impl.FsDatasetImpl (FsDatasetImpl.java:updateReplicaUnderRecovery(2667)) - updateReplica: BP-289139721-172.17.0.11-1606980047411:blk_1073741856_1042[numBytes=4,originalReplicaState=FINALIZED], recoveryId=1048, length=2, replica=ReplicaUnderRecovery, blk_1073741856_1042, RUR
  getNumBytes()     = 4
  getBytesOnDisk()  = 4
  getVisibleLength()= 4
  getVolume()       = /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data5
  getBlockURI()     = file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data5/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741856
  recoveryId=1048
  original=FinalizedReplica, blk_1073741856_1042, FINALIZED
  getNumBytes()     = 4
  getBytesOnDisk()  = 4
  getVisibleLength()= 4
  getVolume()       = /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data5
  getBlockURI()     = file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data5/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741856
2020-12-03 07:21:00,868 [org.apache.hadoop.hdfs.server.datanode.BlockRecoveryWorker$1@79331e01] INFO  datanode.LocalReplica (LocalReplica.java:truncateBlock(473)) - truncateBlock: blockFile=/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data5/current/BP-289139721-172.17.0.11-1606980047411/tmp/subdir0/subdir0/blk_1073741860, metaFile=/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data5/current/BP-289139721-172.17.0.11-1606980047411/tmp/subdir0/subdir0/blk_1073741860_1048.meta, oldlen=4, newlen=2
2020-12-03 07:21:00,870 [IPC Server handler 1 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:21:00,871 [IPC Server handler 2 on default port 38553] INFO  impl.FsDatasetImpl (FsDatasetImpl.java:updateReplicaUnderRecovery(2667)) - updateReplica: BP-289139721-172.17.0.11-1606980047411:blk_1073741856_1042, recoveryId=1048, length=2, replica=ReplicaUnderRecovery, blk_1073741856_1042, RUR
  getNumBytes()     = 4
  getBytesOnDisk()  = 4
  getVisibleLength()= 4
  getVolume()       = /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data3
  getBlockURI()     = file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data3/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741856
  recoveryId=1048
  original=FinalizedReplica, blk_1073741856_1042, FINALIZED
  getNumBytes()     = 4
  getBytesOnDisk()  = 4
  getVisibleLength()= 4
  getVolume()       = /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data3
  getBlockURI()     = file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data3/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741856
2020-12-03 07:21:00,890 [IPC Server handler 2 on default port 38553] INFO  datanode.LocalReplica (LocalReplica.java:truncateBlock(473)) - truncateBlock: blockFile=/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data3/current/BP-289139721-172.17.0.11-1606980047411/tmp/subdir0/subdir0/blk_1073741860, metaFile=/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data3/current/BP-289139721-172.17.0.11-1606980047411/tmp/subdir0/subdir0/blk_1073741860_1048.meta, oldlen=4, newlen=2
2020-12-03 07:21:00,892 [IPC Server handler 8 on default port 32989] INFO  impl.FsDatasetImpl (FsDatasetImpl.java:updateReplicaUnderRecovery(2667)) - updateReplica: BP-289139721-172.17.0.11-1606980047411:blk_1073741856_1042, recoveryId=1048, length=2, replica=ReplicaUnderRecovery, blk_1073741856_1042, RUR
  getNumBytes()     = 4
  getBytesOnDisk()  = 4
  getVisibleLength()= 4
  getVolume()       = /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data1
  getBlockURI()     = file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data1/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741856
  recoveryId=1048
  original=FinalizedReplica, blk_1073741856_1042, FINALIZED
  getNumBytes()     = 4
  getBytesOnDisk()  = 4
  getVisibleLength()= 4
  getVolume()       = /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data1
  getBlockURI()     = file:/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data1/current/BP-289139721-172.17.0.11-1606980047411/current/finalized/subdir0/subdir0/blk_1073741856
2020-12-03 07:21:00,910 [IPC Server handler 8 on default port 32989] INFO  datanode.LocalReplica (LocalReplica.java:truncateBlock(473)) - truncateBlock: blockFile=/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data1/current/BP-289139721-172.17.0.11-1606980047411/tmp/subdir0/subdir0/blk_1073741860, metaFile=/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data1/current/BP-289139721-172.17.0.11-1606980047411/tmp/subdir0/subdir0/blk_1073741860_1048.meta, oldlen=4, newlen=2
2020-12-03 07:21:00,914 [IPC Server handler 7 on default port 39242] INFO  namenode.FSNamesystem (FSNamesystem.java:commitBlockSynchronization(3655)) - commitBlockSynchronization(oldBlock=BP-289139721-172.17.0.11-1606980047411:blk_1073741856_1042, newgenerationstamp=1048, newlength=2, newtargets=[127.0.0.1:43522, 127.0.0.1:43948, 127.0.0.1:44445], closeFile=true, deleteBlock=false)
2020-12-03 07:21:00,915 [IPC Server handler 7 on default port 39242] DEBUG hdfs.StateChange (FSNamesystem.java:closeFile(4036)) - closeFile: /test/testSnapshotWithAppendTruncate with 2 blocks is persisted to the file system
2020-12-03 07:21:00,915 [IPC Server handler 7 on default port 39242] INFO  namenode.FSNamesystem (FSNamesystem.java:commitBlockSynchronization(3805)) - commitBlockSynchronization(oldBlock=BP-289139721-172.17.0.11-1606980047411:blk_1073741856_1042, file=/test/testSnapshotWithAppendTruncate, newBlock=blk_1073741860_1048, newlength=2, newtargets=[127.0.0.1:43522, 127.0.0.1:43948, 127.0.0.1:44445]) successful
2020-12-03 07:21:00,972 [IPC Server handler 8 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:21:00,975 [IPC Server handler 5 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/.snapshot/ss2/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:21:00,982 [IPC Server handler 9 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/.snapshot/ss1/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:21:00,989 [IPC Server handler 3 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/.snapshot/ss0/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:21:00,994 [IPC Server handler 2 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:21:00,996 [IPC Server handler 1 on default port 39242] ERROR namenode.NameNode (DirectoryWithQuotaFeature.java:checkStoragespace(143)) - BUG: Inconsistent storagespace for directory /test. Cached = 414 != Computed = 54
2020-12-03 07:21:00,996 [IPC Server handler 1 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=contentSummary	src=/test	dst=null	perm=null	proto=rpc
2020-12-03 07:21:00,997 [IPC Server handler 4 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=createSnapshot	src=/test	dst=/test/.snapshot/ss3	perm=null	proto=rpc
2020-12-03 07:21:00,998 [IPC Server handler 6 on default port 39242] DEBUG hdfs.StateChange (NameNodeRpcServer.java:delete(1103)) - *DIR* Namenode.delete: src=/test/testSnapshotWithAppendTruncate, recursive=false
2020-12-03 07:21:00,998 [IPC Server handler 6 on default port 39242] DEBUG hdfs.StateChange (FSDirDeleteOp.java:deleteInternal(180)) - DIR* NameSystem.delete: /test/testSnapshotWithAppendTruncate
2020-12-03 07:21:00,999 [IPC Server handler 6 on default port 39242] DEBUG hdfs.StateChange (FSDirDeleteOp.java:delete(55)) - DIR* FSDirectory.delete: /test/testSnapshotWithAppendTruncate
2020-12-03 07:21:00,999 [IPC Server handler 6 on default port 39242] DEBUG hdfs.StateChange (FSDirDeleteOp.java:unprotectedDelete(269)) - DIR* FSDirectory.unprotectedDelete: /test/testSnapshotWithAppendTruncate is removed
2020-12-03 07:21:00,999 [IPC Server handler 6 on default port 39242] DEBUG hdfs.StateChange (FSDirDeleteOp.java:deleteInternal(201)) - DIR* Namesystem.delete: /test/testSnapshotWithAppendTruncate is removed
2020-12-03 07:21:00,999 [IPC Server handler 6 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=delete	src=/test/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:21:01,001 [IPC Server handler 0 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/.snapshot/ss3/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:21:01,005 [IPC Server handler 7 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/.snapshot/ss2/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:21:01,011 [IPC Server handler 8 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/.snapshot/ss1/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:21:01,018 [IPC Server handler 5 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/.snapshot/ss0/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:21:01,024 [IPC Server handler 9 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=deleteSnapshot	src=/test/.snapshot/ss3	dst=null	perm=null	proto=rpc
2020-12-03 07:21:01,025 [IPC Server handler 3 on default port 39242] ERROR namenode.NameNode (DirectoryWithQuotaFeature.java:checkStoragespace(143)) - BUG: Inconsistent storagespace for directory /test. Cached = 444 != Computed = 0
2020-12-03 07:21:01,025 [IPC Server handler 3 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=contentSummary	src=/test	dst=null	perm=null	proto=rpc
2020-12-03 07:21:01,026 [IPC Server handler 2 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=deleteSnapshot	src=/test/.snapshot/ss2	dst=null	perm=null	proto=rpc
2020-12-03 07:21:01,029 [IPC Server handler 1 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/.snapshot/ss1/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:21:01,035 [IPC Server handler 4 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/.snapshot/ss0/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:21:01,041 [IPC Server handler 6 on default port 39242] ERROR namenode.NameNode (DirectoryWithQuotaFeature.java:checkStoragespace(143)) - BUG: Inconsistent storagespace for directory /test. Cached = 444 != Computed = 0
2020-12-03 07:21:01,041 [IPC Server handler 6 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=contentSummary	src=/test	dst=null	perm=null	proto=rpc
2020-12-03 07:21:01,043 [IPC Server handler 0 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=deleteSnapshot	src=/test/.snapshot/ss1	dst=null	perm=null	proto=rpc
2020-12-03 07:21:01,044 [IPC Server handler 7 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=open	src=/test/.snapshot/ss0/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:21:01,049 [IPC Server handler 8 on default port 39242] ERROR namenode.NameNode (DirectoryWithQuotaFeature.java:checkStoragespace(143)) - BUG: Inconsistent storagespace for directory /test. Cached = 468 != Computed = 0
2020-12-03 07:21:01,049 [IPC Server handler 8 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=contentSummary	src=/test	dst=null	perm=null	proto=rpc
2020-12-03 07:21:01,050 [IPC Server handler 5 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=getfileinfo	src=/test/.snapshot/ss0/testSnapshotWithAppendTruncate	dst=null	perm=null	proto=rpc
2020-12-03 07:21:01,052 [IPC Server handler 9 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=deleteSnapshot	src=/test/.snapshot/ss0	dst=null	perm=null	proto=rpc
2020-12-03 07:21:01,053 [IPC Server handler 3 on default port 39242] ERROR namenode.NameNode (DirectoryWithQuotaFeature.java:checkStoragespace(143)) - BUG: Inconsistent storagespace for directory /test. Cached = 432 != Computed = 0
2020-12-03 07:21:01,053 [IPC Server handler 3 on default port 39242] INFO  FSNamesystem.audit (FSNamesystem.java:logAuditMessage(8074)) - allowed=true	ugi=root (auth:SIMPLE)	ip=/127.0.0.1	cmd=contentSummary	src=/test	dst=null	perm=null	proto=rpc
2020-12-03 07:21:01,054 [Listener at localhost/42308] INFO  hdfs.MiniDFSCluster (MiniDFSCluster.java:shutdown(2049)) - Shutting down the Mini HDFS Cluster
2020-12-03 07:21:01,054 [Listener at localhost/42308] INFO  hdfs.MiniDFSCluster (MiniDFSCluster.java:shutdownDataNode(2097)) - Shutting down DataNode 2
2020-12-03 07:21:01,055 [Listener at localhost/42308] WARN  datanode.DirectoryScanner (DirectoryScanner.java:shutdown(343)) - DirectoryScanner: shutdown has been called
2020-12-03 07:21:01,055 [org.apache.hadoop.hdfs.server.datanode.DataXceiverServer@31500940] INFO  datanode.DataNode (DataXceiverServer.java:closeAllPeers(281)) - Closing all peers.
2020-12-03 07:21:01,056 [VolumeScannerThread(/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data6)] INFO  datanode.VolumeScanner (VolumeScanner.java:run(637)) - VolumeScanner(/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data6, DS-557f638d-d24c-413e-a530-1084e5f0ca2d) exiting.
2020-12-03 07:21:01,056 [VolumeScannerThread(/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data5)] INFO  datanode.VolumeScanner (VolumeScanner.java:run(637)) - VolumeScanner(/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data5, DS-5971d83e-96ee-4d0b-a01e-4aa063a9a273) exiting.
2020-12-03 07:21:01,096 [Listener at localhost/42308] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@133e019b{/,null,UNAVAILABLE}{/datanode}
2020-12-03 07:21:01,101 [Listener at localhost/42308] INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@41382722{HTTP/1.1,[http/1.1]}{localhost:0}
2020-12-03 07:21:01,101 [Listener at localhost/42308] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@3e587920{/static,file:///root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/src/main/webapps/static/,UNAVAILABLE}
2020-12-03 07:21:01,103 [Listener at localhost/42308] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@750fe12e{/logs,file:///root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/log/,UNAVAILABLE}
2020-12-03 07:21:01,107 [Listener at localhost/42308] INFO  ipc.Server (Server.java:stop(3359)) - Stopping server on 42308
2020-12-03 07:21:01,112 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1330)) - Stopping IPC Server listener on 0
2020-12-03 07:21:01,112 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1465)) - Stopping IPC Server Responder
2020-12-03 07:21:01,121 [BP-289139721-172.17.0.11-1606980047411 heartbeating to localhost/127.0.0.1:39242] WARN  datanode.IncrementalBlockReportManager (IncrementalBlockReportManager.java:waitTillNextIBR(160)) - IncrementalBlockReportManager interrupted
2020-12-03 07:21:01,121 [BP-289139721-172.17.0.11-1606980047411 heartbeating to localhost/127.0.0.1:39242] WARN  datanode.DataNode (BPServiceActor.java:run(860)) - Ending block pool service for: Block pool BP-289139721-172.17.0.11-1606980047411 (Datanode Uuid 4dc3fc86-316f-46bd-b018-51709a77bcb4) service to localhost/127.0.0.1:39242
2020-12-03 07:21:01,121 [BP-289139721-172.17.0.11-1606980047411 heartbeating to localhost/127.0.0.1:39242] INFO  datanode.DataNode (BlockPoolManager.java:remove(102)) - Removed Block pool BP-289139721-172.17.0.11-1606980047411 (Datanode Uuid 4dc3fc86-316f-46bd-b018-51709a77bcb4)
2020-12-03 07:21:01,121 [BP-289139721-172.17.0.11-1606980047411 heartbeating to localhost/127.0.0.1:39242] INFO  impl.FsDatasetImpl (FsDatasetImpl.java:shutdownBlockPool(2814)) - Removing block pool BP-289139721-172.17.0.11-1606980047411
2020-12-03 07:21:01,124 [Listener at localhost/42308] INFO  impl.FsDatasetAsyncDiskService (FsDatasetAsyncDiskService.java:shutdown(193)) - Shutting down all async disk service threads
2020-12-03 07:21:01,124 [Listener at localhost/42308] INFO  impl.FsDatasetAsyncDiskService (FsDatasetAsyncDiskService.java:shutdown(201)) - All async disk service threads have been shut down
2020-12-03 07:21:01,125 [Listener at localhost/42308] INFO  impl.RamDiskAsyncLazyPersistService (RamDiskAsyncLazyPersistService.java:shutdown(177)) - Shutting down all async lazy persist service threads
2020-12-03 07:21:01,125 [Listener at localhost/42308] INFO  impl.RamDiskAsyncLazyPersistService (RamDiskAsyncLazyPersistService.java:shutdown(184)) - All async lazy persist service threads have been shut down
2020-12-03 07:21:01,125 [refreshUsed-/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data5/current/BP-289139721-172.17.0.11-1606980047411] WARN  fs.CachingGetSpaceUsed (CachingGetSpaceUsed.java:run(183)) - Thread Interrupted waiting to refresh disk information: sleep interrupted
2020-12-03 07:21:01,126 [refreshUsed-/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data6/current/BP-289139721-172.17.0.11-1606980047411] WARN  fs.CachingGetSpaceUsed (CachingGetSpaceUsed.java:run(183)) - Thread Interrupted waiting to refresh disk information: sleep interrupted
2020-12-03 07:21:01,132 [Listener at localhost/42308] INFO  datanode.DataNode (DataNode.java:shutdown(2164)) - Shutdown complete.
2020-12-03 07:21:01,133 [Listener at localhost/42308] INFO  hdfs.MiniDFSCluster (MiniDFSCluster.java:shutdownDataNode(2097)) - Shutting down DataNode 1
2020-12-03 07:21:01,133 [Listener at localhost/42308] WARN  datanode.DirectoryScanner (DirectoryScanner.java:shutdown(343)) - DirectoryScanner: shutdown has been called
2020-12-03 07:21:01,133 [org.apache.hadoop.hdfs.server.datanode.DataXceiverServer@ecf9049] INFO  datanode.DataNode (DataXceiverServer.java:closeAllPeers(281)) - Closing all peers.
2020-12-03 07:21:01,134 [VolumeScannerThread(/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data4)] INFO  datanode.VolumeScanner (VolumeScanner.java:run(637)) - VolumeScanner(/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data4, DS-8bab79cf-aa5e-4c7f-a0f4-36535a8b9d80) exiting.
2020-12-03 07:21:01,134 [VolumeScannerThread(/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data3)] INFO  datanode.VolumeScanner (VolumeScanner.java:run(637)) - VolumeScanner(/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data3, DS-01843347-4109-4ed7-95a5-187fd87ea302) exiting.
2020-12-03 07:21:01,167 [Listener at localhost/42308] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@37d80fe7{/,null,UNAVAILABLE}{/datanode}
2020-12-03 07:21:01,168 [Listener at localhost/42308] INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@384fc774{HTTP/1.1,[http/1.1]}{localhost:0}
2020-12-03 07:21:01,169 [Listener at localhost/42308] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@2ad3a1bb{/static,file:///root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/src/main/webapps/static/,UNAVAILABLE}
2020-12-03 07:21:01,169 [Listener at localhost/42308] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@40f33492{/logs,file:///root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/log/,UNAVAILABLE}
2020-12-03 07:21:01,172 [Listener at localhost/42308] INFO  ipc.Server (Server.java:stop(3359)) - Stopping server on 38553
2020-12-03 07:21:01,180 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1330)) - Stopping IPC Server listener on 0
2020-12-03 07:21:01,183 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1465)) - Stopping IPC Server Responder
2020-12-03 07:21:01,185 [BP-289139721-172.17.0.11-1606980047411 heartbeating to localhost/127.0.0.1:39242] WARN  datanode.IncrementalBlockReportManager (IncrementalBlockReportManager.java:waitTillNextIBR(160)) - IncrementalBlockReportManager interrupted
2020-12-03 07:21:01,186 [BP-289139721-172.17.0.11-1606980047411 heartbeating to localhost/127.0.0.1:39242] WARN  datanode.DataNode (BPServiceActor.java:run(860)) - Ending block pool service for: Block pool BP-289139721-172.17.0.11-1606980047411 (Datanode Uuid cb9af4a7-3d3c-4e0a-a0a8-459be5d72fb4) service to localhost/127.0.0.1:39242
2020-12-03 07:21:01,186 [BP-289139721-172.17.0.11-1606980047411 heartbeating to localhost/127.0.0.1:39242] INFO  datanode.DataNode (BlockPoolManager.java:remove(102)) - Removed Block pool BP-289139721-172.17.0.11-1606980047411 (Datanode Uuid cb9af4a7-3d3c-4e0a-a0a8-459be5d72fb4)
2020-12-03 07:21:01,187 [BP-289139721-172.17.0.11-1606980047411 heartbeating to localhost/127.0.0.1:39242] INFO  impl.FsDatasetImpl (FsDatasetImpl.java:shutdownBlockPool(2814)) - Removing block pool BP-289139721-172.17.0.11-1606980047411
2020-12-03 07:21:01,188 [refreshUsed-/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data3/current/BP-289139721-172.17.0.11-1606980047411] WARN  fs.CachingGetSpaceUsed (CachingGetSpaceUsed.java:run(183)) - Thread Interrupted waiting to refresh disk information: sleep interrupted
2020-12-03 07:21:01,189 [Listener at localhost/42308] INFO  impl.FsDatasetAsyncDiskService (FsDatasetAsyncDiskService.java:shutdown(193)) - Shutting down all async disk service threads
2020-12-03 07:21:01,189 [refreshUsed-/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data4/current/BP-289139721-172.17.0.11-1606980047411] WARN  fs.CachingGetSpaceUsed (CachingGetSpaceUsed.java:run(183)) - Thread Interrupted waiting to refresh disk information: sleep interrupted
2020-12-03 07:21:01,189 [Listener at localhost/42308] INFO  impl.FsDatasetAsyncDiskService (FsDatasetAsyncDiskService.java:shutdown(201)) - All async disk service threads have been shut down
2020-12-03 07:21:01,193 [Listener at localhost/42308] INFO  impl.RamDiskAsyncLazyPersistService (RamDiskAsyncLazyPersistService.java:shutdown(177)) - Shutting down all async lazy persist service threads
2020-12-03 07:21:01,193 [Listener at localhost/42308] INFO  impl.RamDiskAsyncLazyPersistService (RamDiskAsyncLazyPersistService.java:shutdown(184)) - All async lazy persist service threads have been shut down
2020-12-03 07:21:01,199 [Listener at localhost/42308] INFO  datanode.DataNode (DataNode.java:shutdown(2164)) - Shutdown complete.
2020-12-03 07:21:01,199 [Listener at localhost/42308] INFO  hdfs.MiniDFSCluster (MiniDFSCluster.java:shutdownDataNode(2097)) - Shutting down DataNode 0
2020-12-03 07:21:01,200 [Listener at localhost/42308] WARN  datanode.DirectoryScanner (DirectoryScanner.java:shutdown(343)) - DirectoryScanner: shutdown has been called
2020-12-03 07:21:01,200 [org.apache.hadoop.hdfs.server.datanode.DataXceiverServer@46f699d5] INFO  datanode.DataNode (DataXceiverServer.java:closeAllPeers(281)) - Closing all peers.
2020-12-03 07:21:01,201 [VolumeScannerThread(/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data1)] INFO  datanode.VolumeScanner (VolumeScanner.java:run(637)) - VolumeScanner(/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data1, DS-0d4f1707-0fea-4fd4-bd10-735d6a0eaf83) exiting.
2020-12-03 07:21:01,201 [VolumeScannerThread(/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data2)] INFO  datanode.VolumeScanner (VolumeScanner.java:run(637)) - VolumeScanner(/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data2, DS-a13fc93c-0aae-460f-9db6-74b98bcd7a09) exiting.
2020-12-03 07:21:01,225 [Listener at localhost/42308] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@ab7a938{/,null,UNAVAILABLE}{/datanode}
2020-12-03 07:21:01,226 [Listener at localhost/42308] INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@3faf2e7d{HTTP/1.1,[http/1.1]}{localhost:0}
2020-12-03 07:21:01,226 [Listener at localhost/42308] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@5bf22f18{/static,file:///root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/src/main/webapps/static/,UNAVAILABLE}
2020-12-03 07:21:01,226 [Listener at localhost/42308] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@297ea53a{/logs,file:///root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/log/,UNAVAILABLE}
2020-12-03 07:21:01,228 [Listener at localhost/42308] INFO  ipc.Server (Server.java:stop(3359)) - Stopping server on 32989
2020-12-03 07:21:01,232 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1330)) - Stopping IPC Server listener on 0
2020-12-03 07:21:01,233 [BP-289139721-172.17.0.11-1606980047411 heartbeating to localhost/127.0.0.1:39242] WARN  datanode.IncrementalBlockReportManager (IncrementalBlockReportManager.java:waitTillNextIBR(160)) - IncrementalBlockReportManager interrupted
2020-12-03 07:21:01,233 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1465)) - Stopping IPC Server Responder
2020-12-03 07:21:01,233 [BP-289139721-172.17.0.11-1606980047411 heartbeating to localhost/127.0.0.1:39242] WARN  datanode.DataNode (BPServiceActor.java:run(860)) - Ending block pool service for: Block pool BP-289139721-172.17.0.11-1606980047411 (Datanode Uuid 09827f10-a8ef-4678-ab6b-635662dd143b) service to localhost/127.0.0.1:39242
2020-12-03 07:21:01,234 [BP-289139721-172.17.0.11-1606980047411 heartbeating to localhost/127.0.0.1:39242] INFO  datanode.DataNode (BlockPoolManager.java:remove(102)) - Removed Block pool BP-289139721-172.17.0.11-1606980047411 (Datanode Uuid 09827f10-a8ef-4678-ab6b-635662dd143b)
2020-12-03 07:21:01,234 [BP-289139721-172.17.0.11-1606980047411 heartbeating to localhost/127.0.0.1:39242] INFO  impl.FsDatasetImpl (FsDatasetImpl.java:shutdownBlockPool(2814)) - Removing block pool BP-289139721-172.17.0.11-1606980047411
2020-12-03 07:21:01,235 [refreshUsed-/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data1/current/BP-289139721-172.17.0.11-1606980047411] WARN  fs.CachingGetSpaceUsed (CachingGetSpaceUsed.java:run(183)) - Thread Interrupted waiting to refresh disk information: sleep interrupted
2020-12-03 07:21:01,235 [refreshUsed-/root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/data/data2/current/BP-289139721-172.17.0.11-1606980047411] WARN  fs.CachingGetSpaceUsed (CachingGetSpaceUsed.java:run(183)) - Thread Interrupted waiting to refresh disk information: sleep interrupted
2020-12-03 07:21:01,235 [Listener at localhost/42308] INFO  impl.FsDatasetAsyncDiskService (FsDatasetAsyncDiskService.java:shutdown(193)) - Shutting down all async disk service threads
2020-12-03 07:21:01,235 [Listener at localhost/42308] INFO  impl.FsDatasetAsyncDiskService (FsDatasetAsyncDiskService.java:shutdown(201)) - All async disk service threads have been shut down
2020-12-03 07:21:01,238 [Listener at localhost/42308] INFO  impl.RamDiskAsyncLazyPersistService (RamDiskAsyncLazyPersistService.java:shutdown(177)) - Shutting down all async lazy persist service threads
2020-12-03 07:21:01,238 [Listener at localhost/42308] INFO  impl.RamDiskAsyncLazyPersistService (RamDiskAsyncLazyPersistService.java:shutdown(184)) - All async lazy persist service threads have been shut down
2020-12-03 07:21:01,241 [Listener at localhost/42308] INFO  datanode.DataNode (DataNode.java:shutdown(2164)) - Shutdown complete.
2020-12-03 07:21:01,241 [Listener at localhost/42308] INFO  hdfs.MiniDFSCluster (MiniDFSCluster.java:stopAndJoinNameNode(2130)) - Shutting down the namenode
2020-12-03 07:21:01,241 [Listener at localhost/42308] INFO  namenode.FSNamesystem (FSNamesystem.java:stopActiveServices(1334)) - Stopping services started for active state
2020-12-03 07:21:01,242 [Listener at localhost/42308] INFO  namenode.FSEditLog (FSEditLog.java:endCurrentLogSegment(1410)) - Ending log segment 1, 249
2020-12-03 07:21:01,242 [org.apache.hadoop.hdfs.server.namenode.FSNamesystem$LazyPersistFileScrubber@60f7cc1d] INFO  namenode.FSNamesystem (FSNamesystem.java:run(4198)) - LazyPersistFileScrubber was interrupted, exiting
2020-12-03 07:21:01,242 [org.apache.hadoop.hdfs.server.namenode.FSNamesystem$NameNodeEditLogRoller@37bd68c3] INFO  namenode.FSNamesystem (FSNamesystem.java:run(4107)) - NameNodeEditLogRoller was interrupted, exiting
2020-12-03 07:21:01,242 [Listener at localhost/42308] INFO  namenode.FSEditLog (FSEditLog.java:printStatistics(778)) - Number of transactions: 250 Total time for transactions(ms): 35 Number of transactions batched in Syncs: 32 Number of syncs: 219 SyncTimes(ms): 18 4 
2020-12-03 07:21:01,245 [Listener at localhost/42308] INFO  namenode.FileJournalManager (FileJournalManager.java:finalizeLogSegment(145)) - Finalizing edits file /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/name-0-1/current/edits_inprogress_0000000000000000001 -> /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/name-0-1/current/edits_0000000000000000001-0000000000000000250
2020-12-03 07:21:01,246 [Listener at localhost/42308] INFO  namenode.FileJournalManager (FileJournalManager.java:finalizeLogSegment(145)) - Finalizing edits file /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/name-0-2/current/edits_inprogress_0000000000000000001 -> /root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/test/data/dfs/name-0-2/current/edits_0000000000000000001-0000000000000000250
2020-12-03 07:21:01,247 [FSEditLogAsync] INFO  namenode.FSEditLog (FSEditLogAsync.java:run(253)) - FSEditLogAsync was interrupted, exiting
2020-12-03 07:21:01,247 [CacheReplicationMonitor(1408151872)] INFO  blockmanagement.CacheReplicationMonitor (CacheReplicationMonitor.java:run(169)) - Shutting down CacheReplicationMonitor
2020-12-03 07:21:01,248 [Listener at localhost/42308] INFO  ipc.Server (Server.java:stop(3359)) - Stopping server on 39242
2020-12-03 07:21:01,251 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1330)) - Stopping IPC Server listener on 0
2020-12-03 07:21:01,253 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1465)) - Stopping IPC Server Responder
2020-12-03 07:21:01,254 [RedundancyMonitor] INFO  blockmanagement.BlockManager (BlockManager.java:run(4687)) - Stopping RedundancyMonitor.
2020-12-03 07:21:01,254 [StorageInfoMonitor] INFO  blockmanagement.BlockManager (BlockManager.java:run(4722)) - Stopping thread.
2020-12-03 07:21:01,294 [Listener at localhost/42308] INFO  namenode.FSNamesystem (FSNamesystem.java:stopActiveServices(1334)) - Stopping services started for active state
2020-12-03 07:21:01,294 [Listener at localhost/42308] INFO  namenode.FSNamesystem (FSNamesystem.java:stopStandbyServices(1434)) - Stopping services started for standby state
2020-12-03 07:21:01,295 [Listener at localhost/42308] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@895e367{/,null,UNAVAILABLE}{/hdfs}
2020-12-03 07:21:01,297 [Listener at localhost/42308] INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@50313382{HTTP/1.1,[http/1.1]}{localhost:0}
2020-12-03 07:21:01,298 [Listener at localhost/42308] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@5c7bfdc1{/static,file:///root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/src/main/webapps/static/,UNAVAILABLE}
2020-12-03 07:21:01,298 [Listener at localhost/42308] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@475c9c31{/logs,file:///root/hadoop-3.2.1-src/hadoop-hdfs-project/hadoop-hdfs/target/log/,UNAVAILABLE}
2020-12-03 07:21:01,299 [Listener at localhost/42308] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(210)) - Stopping DataNode metrics system...
2020-12-03 07:21:01,304 [Listener at localhost/42308] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(216)) - DataNode metrics system stopped.
2020-12-03 07:21:01,304 [Listener at localhost/42308] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:shutdown(607)) - DataNode metrics system shutdown complete.
msx-rc 0
