2020-12-03 07:19:51,729 [main] DEBUG ipc.Server (Server.java:registerProtocolEngine(292)) - rpcKind=RPC_PROTOCOL_BUFFER, rpcRequestWrapperClass=class org.apache.hadoop.ipc.ProtobufRpcEngine$RpcProtobufRequest, rpcInvoker=org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker@672872e1
2020-12-03 07:19:51,746 [main] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 500, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2020-12-03 07:19:51,747 [main] DEBUG ipc.Server (Server.java:getAuthMethods(3145)) - TOKEN authentication enabled for secret manager
2020-12-03 07:19:51,747 [main] DEBUG ipc.Server (Server.java:getAuthMethods(3152)) - Server accepts auth methods:[TOKEN, KERBEROS]
2020-12-03 07:19:51,755 [main] DEBUG security.SaslRpcServer (SaslRpcServer.java:<init>(111)) - Kerberos principal name is root
2020-12-03 07:19:51,768 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1219)) - Starting Socket Reader #1 for port 0
2020-12-03 07:19:51,816 [Listener at 0.0.0.0/36744] DEBUG ipc.Server (RPC.java:registerProtocolAndImpl(974)) - RpcKind = RPC_PROTOCOL_BUFFER Protocol Name = org.apache.hadoop.ipc.ProtocolMetaInfoPB version=1 ProtocolImpl=org.apache.hadoop.ipc.protobuf.ProtocolInfoProtos$ProtocolInfoService$2 protocolClass=org.apache.hadoop.ipc.ProtocolMetaInfoPB
2020-12-03 07:19:51,824 [Listener at 0.0.0.0/36744] DEBUG ipc.Server (RPC.java:registerProtocolAndImpl(974)) - RpcKind = RPC_PROTOCOL_BUFFER Protocol Name = org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol version=1 ProtocolImpl=org.apache.hadoop.hdfs.protocol.proto.ClientDatanodeProtocolProtos$ClientDatanodeProtocolService$2 protocolClass=org.apache.hadoop.hdfs.protocolPB.ClientDatanodeProtocolPB
2020-12-03 07:19:51,825 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1460)) - IPC Server Responder: starting
2020-12-03 07:19:51,825 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1298)) - IPC Server listener on 0: starting
2020-12-03 07:19:51,827 [IPC Server handler 0 on default port 36744] DEBUG ipc.Server (Server.java:run(2869)) - IPC Server handler 0 on default port 36744: starting
2020-12-03 07:19:51,827 [IPC Server handler 1 on default port 36744] DEBUG ipc.Server (Server.java:run(2869)) - IPC Server handler 1 on default port 36744: starting
2020-12-03 07:19:51,828 [IPC Server handler 3 on default port 36744] DEBUG ipc.Server (Server.java:run(2869)) - IPC Server handler 3 on default port 36744: starting
2020-12-03 07:19:51,827 [IPC Server handler 2 on default port 36744] DEBUG ipc.Server (Server.java:run(2869)) - IPC Server handler 2 on default port 36744: starting
2020-12-03 07:19:51,828 [IPC Server handler 4 on default port 36744] DEBUG ipc.Server (Server.java:run(2869)) - IPC Server handler 4 on default port 36744: starting
2020-12-03 07:19:51,863 [Listener at 0.0.0.0/36744] DEBUG ipc.Server (Server.java:registerProtocolEngine(292)) - rpcKind=RPC_WRITABLE, rpcRequestWrapperClass=class org.apache.hadoop.ipc.WritableRpcEngine$Invocation, rpcInvoker=org.apache.hadoop.ipc.WritableRpcEngine$Server$WritableRpcInvoker@3059cbc
2020-12-03 07:19:51,876 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:getClient(63)) - getting client out of cache: org.apache.hadoop.ipc.Client@581ac8a8
2020-12-03 07:19:51,922 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:getClient(63)) - getting client out of cache: org.apache.hadoop.ipc.Client@4fb3ee4e
2020-12-03 07:19:51,963 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:<init>(497)) - The ping interval is 60000 ms.
2020-12-03 07:19:51,963 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(795)) - Connecting to /127.0.0.1:36744
2020-12-03 07:19:51,988 [IPC Server listener on 0] DEBUG ipc.Server (Server.java:register(3727)) - Server connection from 127.0.0.1:49796; # active connections: 1; # queued calls: 0
2020-12-03 07:19:52,068 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: NEGOTIATE

2020-12-03 07:19:52,072 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:52,076 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:create(175)) - Created SASL server with mechanism = DIGEST-MD5
2020-12-03 07:19:52,087 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49796
2020-12-03 07:19:52,088 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49796 Wrote 194 bytes.
2020-12-03 07:19:52,096 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:getServerToken(268)) - Get token info proto:interface org.apache.hadoop.hdfs.protocolPB.ClientDatanodeProtocolPB info:@org.apache.hadoop.security.token.TokenInfo(value=class org.apache.hadoop.hdfs.security.token.block.BlockTokenSelector)
2020-12-03 07:19:52,106 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:createSaslClient(251)) - Creating SASL DIGEST-MD5(TOKEN)  client to authenticate to service at default
2020-12-03 07:19:52,108 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:selectSaslClient(177)) - Use TOKEN authentication for protocol ClientDatanodeProtocolPB
2020-12-03 07:19:52,110 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(678)) - SASL client callback: setting username: CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=
2020-12-03 07:19:52,110 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(683)) - SASL client callback: setting userPassword
2020-12-03 07:19:52,110 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(688)) - SASL client callback: setting realm: default
2020-12-03 07:19:52,113 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: INITIATE
token: "charset=utf-8,username=\"CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=\",realm=\"default\",nonce=\"yeGDMYxM+SS3E/fsgqaSGHrriVXbzu/2QG1AnJex\",nc=00000001,cnonce=\"p62cJOfjUrNA9qPHHr8K6ebP7gKTaHwhvdBRPwhH\",digest-uri=\"/default\",maxbuf=65536,response=efdf0a17c6778632d8b5815bd1b30645,qop=auth"
auths {
  method: "TOKEN"
  mechanism: "DIGEST-MD5"
  protocol: ""
  serverId: "default"
}

2020-12-03 07:19:52,114 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:52,115 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processSaslToken(2112)) - Have read input token of size 298 for processing by saslServer.evaluateResponse()
2020-12-03 07:19:52,117 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(310)) - SASL server DIGEST-MD5 callback: setting password for client: root (auth:SIMPLE)
2020-12-03 07:19:52,119 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(328)) - SASL server DIGEST-MD5 callback: setting canonicalized client ID: root
2020-12-03 07:19:52,120 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:buildSaslResponse(2129)) - Will send SUCCESS token of size 40 from saslServer.
2020-12-03 07:19:52,120 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2000)) - SASL server context established. Negotiated QoP is auth
2020-12-03 07:19:52,121 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2005)) - SASL server successfully authenticated client: root (auth:SIMPLE)
2020-12-03 07:19:52,121 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:saslProcess(2008)) - Auth successful for root (auth:SIMPLE)
2020-12-03 07:19:52,122 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49796
2020-12-03 07:19:52,122 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49796 Wrote 64 bytes.
2020-12-03 07:19:52,123 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(837)) - Negotiated QOP is :auth
2020-12-03 07:19:52,135 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1074)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: starting, having connections 1
2020-12-03 07:19:52,137 [IPC Parameter Sending Thread #0] DEBUG ipc.Client (Client.java:run(1137)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 sending #0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength
2020-12-03 07:19:52,137 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-3
2020-12-03 07:19:52,141 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:authorizeConnection(2750)) - Successfully authorized userInfo {
}
protocol: "org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol"

2020-12-03 07:19:52,142 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #0
2020-12-03 07:19:52,143 [IPC Server handler 0 on default port 36744] DEBUG ipc.Server (Server.java:run(2902)) - IPC Server handler 0 on default port 36744: Call#0 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49796 for RpcKind RPC_PROTOCOL_BUFFER
2020-12-03 07:19:52,144 [IPC Server handler 0 on default port 36744] INFO  ipc.Server (ProtobufRpcEngine.java:call(505)) - Call: connectionProtocolName=org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol, method=getReplicaVisibleLength
2020-12-03 07:19:52,224 [IPC Server handler 0 on default port 36744] INFO  block.TestBlockToken (TestBlockToken.java:answer(151)) - Got: block_token_identifier (expiryDate=1606980111387, keyId=57518194, userId=root, blockPoolId=-10, blockId=-108, access modes=[READ, WRITE, COPY, REPLACE], storageTypes= [DISK], storageIds= [])
2020-12-03 07:19:52,246 [IPC Server handler 0 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1615)) - IPC Server handler 0 on default port 36744: responding to Call#0 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49796
2020-12-03 07:19:52,247 [IPC Server handler 0 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1634)) - IPC Server handler 0 on default port 36744: responding to Call#0 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49796 Wrote 43 bytes.
2020-12-03 07:19:52,248 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:receiveRpcResponse(1191)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 got value #0
2020-12-03 07:19:52,249 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:close(1283)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: closed
2020-12-03 07:19:52,249 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:close(3738)) - Socket Reader #1 for port 0: disconnecting client 127.0.0.1:49796. Number of active connections: 0
2020-12-03 07:19:52,249 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(97)) - stopping client from cache: org.apache.hadoop.ipc.Client@4fb3ee4e
2020-12-03 07:19:52,249 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1092)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: stopped, remaining connections 0
2020-12-03 07:19:52,250 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(103)) - removing client from cache: org.apache.hadoop.ipc.Client@4fb3ee4e
2020-12-03 07:19:52,251 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(110)) - stopping actual client because no more references remain: org.apache.hadoop.ipc.Client@4fb3ee4e
2020-12-03 07:19:52,251 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:stop(1340)) - Stopping client
2020-12-03 07:19:52,252 [Listener at 0.0.0.0/36744] INFO  block.TestBlockToken (TestBlockToken.java:testBlockTokenRpcLeak(407)) - Num open fds:163
2020-12-03 07:19:52,257 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:getClient(63)) - getting client out of cache: org.apache.hadoop.ipc.Client@19932c16
2020-12-03 07:19:52,258 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:<init>(497)) - The ping interval is 60000 ms.
2020-12-03 07:19:52,258 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(795)) - Connecting to /127.0.0.1:36744
2020-12-03 07:19:52,259 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: NEGOTIATE

2020-12-03 07:19:52,260 [IPC Server listener on 0] DEBUG ipc.Server (Server.java:register(3727)) - Server connection from 127.0.0.1:49818; # active connections: 1; # queued calls: 0
2020-12-03 07:19:52,263 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:52,263 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:create(175)) - Created SASL server with mechanism = DIGEST-MD5
2020-12-03 07:19:52,264 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49818
2020-12-03 07:19:52,264 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49818 Wrote 194 bytes.
2020-12-03 07:19:52,268 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:getServerToken(268)) - Get token info proto:interface org.apache.hadoop.hdfs.protocolPB.ClientDatanodeProtocolPB info:@org.apache.hadoop.security.token.TokenInfo(value=class org.apache.hadoop.hdfs.security.token.block.BlockTokenSelector)
2020-12-03 07:19:52,270 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:createSaslClient(251)) - Creating SASL DIGEST-MD5(TOKEN)  client to authenticate to service at default
2020-12-03 07:19:52,271 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:selectSaslClient(177)) - Use TOKEN authentication for protocol ClientDatanodeProtocolPB
2020-12-03 07:19:52,272 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(678)) - SASL client callback: setting username: CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=
2020-12-03 07:19:52,273 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(683)) - SASL client callback: setting userPassword
2020-12-03 07:19:52,273 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(688)) - SASL client callback: setting realm: default
2020-12-03 07:19:52,276 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: INITIATE
token: "charset=utf-8,username=\"CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=\",realm=\"default\",nonce=\"8p4xrhAXTWh80szHKqMDAPT5hQEdna9Ya+PVsMmU\",nc=00000001,cnonce=\"031f83Q7G2uSfpoiFGZ0WBJ3GKuR+jJrO3XkCJeE\",digest-uri=\"/default\",maxbuf=65536,response=e84f0a61c9c93f11755905d83e417f26,qop=auth"
auths {
  method: "TOKEN"
  mechanism: "DIGEST-MD5"
  protocol: ""
  serverId: "default"
}

2020-12-03 07:19:52,277 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:52,278 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processSaslToken(2112)) - Have read input token of size 298 for processing by saslServer.evaluateResponse()
2020-12-03 07:19:52,279 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(310)) - SASL server DIGEST-MD5 callback: setting password for client: root (auth:SIMPLE)
2020-12-03 07:19:52,280 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(328)) - SASL server DIGEST-MD5 callback: setting canonicalized client ID: root
2020-12-03 07:19:52,281 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:buildSaslResponse(2129)) - Will send SUCCESS token of size 40 from saslServer.
2020-12-03 07:19:52,281 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2000)) - SASL server context established. Negotiated QoP is auth
2020-12-03 07:19:52,281 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2005)) - SASL server successfully authenticated client: root (auth:SIMPLE)
2020-12-03 07:19:52,282 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:saslProcess(2008)) - Auth successful for root (auth:SIMPLE)
2020-12-03 07:19:52,282 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49818
2020-12-03 07:19:52,283 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49818 Wrote 64 bytes.
2020-12-03 07:19:52,284 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(837)) - Negotiated QOP is :auth
2020-12-03 07:19:52,285 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1074)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: starting, having connections 1
2020-12-03 07:19:52,286 [IPC Parameter Sending Thread #0] DEBUG ipc.Client (Client.java:run(1137)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 sending #1 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength
2020-12-03 07:19:52,286 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-3
2020-12-03 07:19:52,287 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:authorizeConnection(2750)) - Successfully authorized userInfo {
}
protocol: "org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol"

2020-12-03 07:19:52,287 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #1
2020-12-03 07:19:52,288 [IPC Server handler 1 on default port 36744] DEBUG ipc.Server (Server.java:run(2902)) - IPC Server handler 1 on default port 36744: Call#1 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49818 for RpcKind RPC_PROTOCOL_BUFFER
2020-12-03 07:19:52,288 [IPC Server handler 1 on default port 36744] INFO  ipc.Server (ProtobufRpcEngine.java:call(505)) - Call: connectionProtocolName=org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol, method=getReplicaVisibleLength
2020-12-03 07:19:52,290 [IPC Server handler 1 on default port 36744] INFO  block.TestBlockToken (TestBlockToken.java:answer(151)) - Got: block_token_identifier (expiryDate=1606980111387, keyId=57518194, userId=root, blockPoolId=-10, blockId=-108, access modes=[READ, WRITE, COPY, REPLACE], storageTypes= [DISK], storageIds= [])
2020-12-03 07:19:52,291 [IPC Server handler 1 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1615)) - IPC Server handler 1 on default port 36744: responding to Call#1 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49818
2020-12-03 07:19:52,291 [IPC Server handler 1 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1634)) - IPC Server handler 1 on default port 36744: responding to Call#1 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49818 Wrote 43 bytes.
2020-12-03 07:19:52,291 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:receiveRpcResponse(1191)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 got value #1
2020-12-03 07:19:52,292 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:close(1283)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: closed
2020-12-03 07:19:52,292 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1092)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: stopped, remaining connections 0
2020-12-03 07:19:52,292 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(97)) - stopping client from cache: org.apache.hadoop.ipc.Client@19932c16
2020-12-03 07:19:52,293 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(103)) - removing client from cache: org.apache.hadoop.ipc.Client@19932c16
2020-12-03 07:19:52,293 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(110)) - stopping actual client because no more references remain: org.apache.hadoop.ipc.Client@19932c16
2020-12-03 07:19:52,293 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:stop(1340)) - Stopping client
2020-12-03 07:19:52,294 [Listener at 0.0.0.0/36744] INFO  block.TestBlockToken (TestBlockToken.java:testBlockTokenRpcLeak(407)) - Num open fds:164
2020-12-03 07:19:52,296 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:getClient(63)) - getting client out of cache: org.apache.hadoop.ipc.Client@433defed
2020-12-03 07:19:52,297 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:<init>(497)) - The ping interval is 60000 ms.
2020-12-03 07:19:52,297 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(795)) - Connecting to /127.0.0.1:36744
2020-12-03 07:19:52,297 [IPC Server listener on 0] DEBUG ipc.Server (Server.java:register(3727)) - Server connection from 127.0.0.1:49822; # active connections: 1; # queued calls: 0
2020-12-03 07:19:52,298 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: NEGOTIATE

2020-12-03 07:19:52,293 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:close(3738)) - Socket Reader #1 for port 0: disconnecting client 127.0.0.1:49818. Number of active connections: 0
2020-12-03 07:19:52,300 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:52,300 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:create(175)) - Created SASL server with mechanism = DIGEST-MD5
2020-12-03 07:19:52,301 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49822
2020-12-03 07:19:52,301 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49822 Wrote 194 bytes.
2020-12-03 07:19:52,302 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:getServerToken(268)) - Get token info proto:interface org.apache.hadoop.hdfs.protocolPB.ClientDatanodeProtocolPB info:@org.apache.hadoop.security.token.TokenInfo(value=class org.apache.hadoop.hdfs.security.token.block.BlockTokenSelector)
2020-12-03 07:19:52,302 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:createSaslClient(251)) - Creating SASL DIGEST-MD5(TOKEN)  client to authenticate to service at default
2020-12-03 07:19:52,303 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:selectSaslClient(177)) - Use TOKEN authentication for protocol ClientDatanodeProtocolPB
2020-12-03 07:19:52,304 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(678)) - SASL client callback: setting username: CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=
2020-12-03 07:19:52,304 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(683)) - SASL client callback: setting userPassword
2020-12-03 07:19:52,304 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(688)) - SASL client callback: setting realm: default
2020-12-03 07:19:52,306 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: INITIATE
token: "charset=utf-8,username=\"CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=\",realm=\"default\",nonce=\"7aTC8CBH7J1o9v8aphy6fqabcE3NUfky7H2N857X\",nc=00000001,cnonce=\"W1zgiNKG+4cH8jvqfa3+RqYhAKV/2p5/xz9V3ZI/\",digest-uri=\"/default\",maxbuf=65536,response=53465630fdab282b9e07d526b32331d6,qop=auth"
auths {
  method: "TOKEN"
  mechanism: "DIGEST-MD5"
  protocol: ""
  serverId: "default"
}

2020-12-03 07:19:52,307 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:52,307 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processSaslToken(2112)) - Have read input token of size 298 for processing by saslServer.evaluateResponse()
2020-12-03 07:19:52,309 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(310)) - SASL server DIGEST-MD5 callback: setting password for client: root (auth:SIMPLE)
2020-12-03 07:19:52,310 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(328)) - SASL server DIGEST-MD5 callback: setting canonicalized client ID: root
2020-12-03 07:19:52,310 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:buildSaslResponse(2129)) - Will send SUCCESS token of size 40 from saslServer.
2020-12-03 07:19:52,311 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2000)) - SASL server context established. Negotiated QoP is auth
2020-12-03 07:19:52,312 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2005)) - SASL server successfully authenticated client: root (auth:SIMPLE)
2020-12-03 07:19:52,312 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:saslProcess(2008)) - Auth successful for root (auth:SIMPLE)
2020-12-03 07:19:52,312 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49822
2020-12-03 07:19:52,312 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49822 Wrote 64 bytes.
2020-12-03 07:19:52,315 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(837)) - Negotiated QOP is :auth
2020-12-03 07:19:52,316 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1074)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: starting, having connections 1
2020-12-03 07:19:52,316 [IPC Parameter Sending Thread #0] DEBUG ipc.Client (Client.java:run(1137)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 sending #2 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength
2020-12-03 07:19:52,317 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-3
2020-12-03 07:19:52,317 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:authorizeConnection(2750)) - Successfully authorized userInfo {
}
protocol: "org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol"

2020-12-03 07:19:52,318 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #2
2020-12-03 07:19:52,320 [IPC Server handler 3 on default port 36744] DEBUG ipc.Server (Server.java:run(2902)) - IPC Server handler 3 on default port 36744: Call#2 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49822 for RpcKind RPC_PROTOCOL_BUFFER
2020-12-03 07:19:52,322 [IPC Server handler 3 on default port 36744] INFO  ipc.Server (ProtobufRpcEngine.java:call(505)) - Call: connectionProtocolName=org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol, method=getReplicaVisibleLength
2020-12-03 07:19:52,323 [IPC Server handler 3 on default port 36744] INFO  block.TestBlockToken (TestBlockToken.java:answer(151)) - Got: block_token_identifier (expiryDate=1606980111387, keyId=57518194, userId=root, blockPoolId=-10, blockId=-108, access modes=[READ, WRITE, COPY, REPLACE], storageTypes= [DISK], storageIds= [])
2020-12-03 07:19:52,324 [IPC Server handler 3 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1615)) - IPC Server handler 3 on default port 36744: responding to Call#2 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49822
2020-12-03 07:19:52,324 [IPC Server handler 3 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1634)) - IPC Server handler 3 on default port 36744: responding to Call#2 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49822 Wrote 43 bytes.
2020-12-03 07:19:52,325 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:receiveRpcResponse(1191)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 got value #2
2020-12-03 07:19:52,325 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:close(1283)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: closed
2020-12-03 07:19:52,326 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1092)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: stopped, remaining connections 0
2020-12-03 07:19:52,328 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:close(3738)) - Socket Reader #1 for port 0: disconnecting client 127.0.0.1:49822. Number of active connections: 0
2020-12-03 07:19:52,328 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(97)) - stopping client from cache: org.apache.hadoop.ipc.Client@433defed
2020-12-03 07:19:52,329 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(103)) - removing client from cache: org.apache.hadoop.ipc.Client@433defed
2020-12-03 07:19:52,329 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(110)) - stopping actual client because no more references remain: org.apache.hadoop.ipc.Client@433defed
2020-12-03 07:19:52,329 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:stop(1340)) - Stopping client
2020-12-03 07:19:52,330 [Listener at 0.0.0.0/36744] INFO  block.TestBlockToken (TestBlockToken.java:testBlockTokenRpcLeak(407)) - Num open fds:163
2020-12-03 07:19:52,332 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:getClient(63)) - getting client out of cache: org.apache.hadoop.ipc.Client@4a8355dd
2020-12-03 07:19:52,333 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:<init>(497)) - The ping interval is 60000 ms.
2020-12-03 07:19:52,334 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(795)) - Connecting to /127.0.0.1:36744
2020-12-03 07:19:52,334 [IPC Server listener on 0] DEBUG ipc.Server (Server.java:register(3727)) - Server connection from 127.0.0.1:49828; # active connections: 1; # queued calls: 0
2020-12-03 07:19:52,335 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: NEGOTIATE

2020-12-03 07:19:52,336 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:52,337 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:create(175)) - Created SASL server with mechanism = DIGEST-MD5
2020-12-03 07:19:52,337 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49828
2020-12-03 07:19:52,337 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49828 Wrote 194 bytes.
2020-12-03 07:19:52,338 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:getServerToken(268)) - Get token info proto:interface org.apache.hadoop.hdfs.protocolPB.ClientDatanodeProtocolPB info:@org.apache.hadoop.security.token.TokenInfo(value=class org.apache.hadoop.hdfs.security.token.block.BlockTokenSelector)
2020-12-03 07:19:52,339 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:createSaslClient(251)) - Creating SASL DIGEST-MD5(TOKEN)  client to authenticate to service at default
2020-12-03 07:19:52,340 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:selectSaslClient(177)) - Use TOKEN authentication for protocol ClientDatanodeProtocolPB
2020-12-03 07:19:52,340 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(678)) - SASL client callback: setting username: CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=
2020-12-03 07:19:52,341 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(683)) - SASL client callback: setting userPassword
2020-12-03 07:19:52,341 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(688)) - SASL client callback: setting realm: default
2020-12-03 07:19:52,343 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: INITIATE
token: "charset=utf-8,username=\"CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=\",realm=\"default\",nonce=\"oF9XV5LDaFOs+Ejfk19uR0In5jBs+GFcmO2JEzem\",nc=00000001,cnonce=\"trwc+iMtqbksiWK8+fDDx8LSc73Bl1qX95kI0JG0\",digest-uri=\"/default\",maxbuf=65536,response=767e3a7afe0bab35d02b0e5c9d0f0dc0,qop=auth"
auths {
  method: "TOKEN"
  mechanism: "DIGEST-MD5"
  protocol: ""
  serverId: "default"
}

2020-12-03 07:19:52,344 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:52,344 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processSaslToken(2112)) - Have read input token of size 298 for processing by saslServer.evaluateResponse()
2020-12-03 07:19:52,345 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(310)) - SASL server DIGEST-MD5 callback: setting password for client: root (auth:SIMPLE)
2020-12-03 07:19:52,346 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(328)) - SASL server DIGEST-MD5 callback: setting canonicalized client ID: root
2020-12-03 07:19:52,347 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:buildSaslResponse(2129)) - Will send SUCCESS token of size 40 from saslServer.
2020-12-03 07:19:52,347 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2000)) - SASL server context established. Negotiated QoP is auth
2020-12-03 07:19:52,348 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2005)) - SASL server successfully authenticated client: root (auth:SIMPLE)
2020-12-03 07:19:52,348 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:saslProcess(2008)) - Auth successful for root (auth:SIMPLE)
2020-12-03 07:19:52,348 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49828
2020-12-03 07:19:52,348 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49828 Wrote 64 bytes.
2020-12-03 07:19:52,350 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(837)) - Negotiated QOP is :auth
2020-12-03 07:19:52,350 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1074)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: starting, having connections 1
2020-12-03 07:19:52,352 [IPC Parameter Sending Thread #0] DEBUG ipc.Client (Client.java:run(1137)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 sending #3 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength
2020-12-03 07:19:52,353 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-3
2020-12-03 07:19:52,354 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:authorizeConnection(2750)) - Successfully authorized userInfo {
}
protocol: "org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol"

2020-12-03 07:19:52,354 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #3
2020-12-03 07:19:52,355 [IPC Server handler 2 on default port 36744] DEBUG ipc.Server (Server.java:run(2902)) - IPC Server handler 2 on default port 36744: Call#3 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49828 for RpcKind RPC_PROTOCOL_BUFFER
2020-12-03 07:19:52,356 [IPC Server handler 2 on default port 36744] INFO  ipc.Server (ProtobufRpcEngine.java:call(505)) - Call: connectionProtocolName=org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol, method=getReplicaVisibleLength
2020-12-03 07:19:52,358 [IPC Server handler 2 on default port 36744] INFO  block.TestBlockToken (TestBlockToken.java:answer(151)) - Got: block_token_identifier (expiryDate=1606980111387, keyId=57518194, userId=root, blockPoolId=-10, blockId=-108, access modes=[READ, WRITE, COPY, REPLACE], storageTypes= [DISK], storageIds= [])
2020-12-03 07:19:52,358 [IPC Server handler 2 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1615)) - IPC Server handler 2 on default port 36744: responding to Call#3 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49828
2020-12-03 07:19:52,359 [IPC Server handler 2 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1634)) - IPC Server handler 2 on default port 36744: responding to Call#3 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49828 Wrote 43 bytes.
2020-12-03 07:19:52,359 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:receiveRpcResponse(1191)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 got value #3
2020-12-03 07:19:52,359 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:close(1283)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: closed
2020-12-03 07:19:52,359 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1092)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: stopped, remaining connections 0
2020-12-03 07:19:52,360 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:close(3738)) - Socket Reader #1 for port 0: disconnecting client 127.0.0.1:49828. Number of active connections: 0
2020-12-03 07:19:52,372 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(97)) - stopping client from cache: org.apache.hadoop.ipc.Client@4a8355dd
2020-12-03 07:19:52,372 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(103)) - removing client from cache: org.apache.hadoop.ipc.Client@4a8355dd
2020-12-03 07:19:52,372 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(110)) - stopping actual client because no more references remain: org.apache.hadoop.ipc.Client@4a8355dd
2020-12-03 07:19:52,373 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:stop(1340)) - Stopping client
2020-12-03 07:19:52,374 [Listener at 0.0.0.0/36744] INFO  block.TestBlockToken (TestBlockToken.java:testBlockTokenRpcLeak(407)) - Num open fds:163
2020-12-03 07:19:52,376 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:getClient(63)) - getting client out of cache: org.apache.hadoop.ipc.Client@4f32a3ad
2020-12-03 07:19:52,377 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:<init>(497)) - The ping interval is 60000 ms.
2020-12-03 07:19:52,378 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(795)) - Connecting to /127.0.0.1:36744
2020-12-03 07:19:52,378 [IPC Server listener on 0] DEBUG ipc.Server (Server.java:register(3727)) - Server connection from 127.0.0.1:49832; # active connections: 1; # queued calls: 0
2020-12-03 07:19:52,379 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: NEGOTIATE

2020-12-03 07:19:52,380 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:52,380 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:create(175)) - Created SASL server with mechanism = DIGEST-MD5
2020-12-03 07:19:52,381 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49832
2020-12-03 07:19:52,381 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49832 Wrote 194 bytes.
2020-12-03 07:19:52,381 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:getServerToken(268)) - Get token info proto:interface org.apache.hadoop.hdfs.protocolPB.ClientDatanodeProtocolPB info:@org.apache.hadoop.security.token.TokenInfo(value=class org.apache.hadoop.hdfs.security.token.block.BlockTokenSelector)
2020-12-03 07:19:52,382 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:createSaslClient(251)) - Creating SASL DIGEST-MD5(TOKEN)  client to authenticate to service at default
2020-12-03 07:19:52,383 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:selectSaslClient(177)) - Use TOKEN authentication for protocol ClientDatanodeProtocolPB
2020-12-03 07:19:52,383 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(678)) - SASL client callback: setting username: CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=
2020-12-03 07:19:52,384 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(683)) - SASL client callback: setting userPassword
2020-12-03 07:19:52,384 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(688)) - SASL client callback: setting realm: default
2020-12-03 07:19:52,386 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: INITIATE
token: "charset=utf-8,username=\"CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=\",realm=\"default\",nonce=\"VQ17THm0bI2hdBO0IB3WVo7Gg/ue1DwAVeDHANQ8\",nc=00000001,cnonce=\"YDafHQ3ghlSzVrcUGWAnAqhhNKjFxb1oOpRh0uqo\",digest-uri=\"/default\",maxbuf=65536,response=07fecf0885f5fe8dc36b1ebb48e66b07,qop=auth"
auths {
  method: "TOKEN"
  mechanism: "DIGEST-MD5"
  protocol: ""
  serverId: "default"
}

2020-12-03 07:19:52,386 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:52,386 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processSaslToken(2112)) - Have read input token of size 298 for processing by saslServer.evaluateResponse()
2020-12-03 07:19:52,388 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(310)) - SASL server DIGEST-MD5 callback: setting password for client: root (auth:SIMPLE)
2020-12-03 07:19:52,389 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(328)) - SASL server DIGEST-MD5 callback: setting canonicalized client ID: root
2020-12-03 07:19:52,389 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:buildSaslResponse(2129)) - Will send SUCCESS token of size 40 from saslServer.
2020-12-03 07:19:52,390 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2000)) - SASL server context established. Negotiated QoP is auth
2020-12-03 07:19:52,390 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2005)) - SASL server successfully authenticated client: root (auth:SIMPLE)
2020-12-03 07:19:52,390 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:saslProcess(2008)) - Auth successful for root (auth:SIMPLE)
2020-12-03 07:19:52,390 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49832
2020-12-03 07:19:52,391 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49832 Wrote 64 bytes.
2020-12-03 07:19:52,399 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(837)) - Negotiated QOP is :auth
2020-12-03 07:19:52,400 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1074)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: starting, having connections 1
2020-12-03 07:19:52,400 [IPC Parameter Sending Thread #0] DEBUG ipc.Client (Client.java:run(1137)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 sending #4 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength
2020-12-03 07:19:52,402 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-3
2020-12-03 07:19:52,403 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:authorizeConnection(2750)) - Successfully authorized userInfo {
}
protocol: "org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol"

2020-12-03 07:19:52,403 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #4
2020-12-03 07:19:52,404 [IPC Server handler 4 on default port 36744] DEBUG ipc.Server (Server.java:run(2902)) - IPC Server handler 4 on default port 36744: Call#4 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49832 for RpcKind RPC_PROTOCOL_BUFFER
2020-12-03 07:19:52,404 [IPC Server handler 4 on default port 36744] INFO  ipc.Server (ProtobufRpcEngine.java:call(505)) - Call: connectionProtocolName=org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol, method=getReplicaVisibleLength
2020-12-03 07:19:52,406 [IPC Server handler 4 on default port 36744] INFO  block.TestBlockToken (TestBlockToken.java:answer(151)) - Got: block_token_identifier (expiryDate=1606980111387, keyId=57518194, userId=root, blockPoolId=-10, blockId=-108, access modes=[READ, WRITE, COPY, REPLACE], storageTypes= [DISK], storageIds= [])
2020-12-03 07:19:52,406 [IPC Server handler 4 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1615)) - IPC Server handler 4 on default port 36744: responding to Call#4 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49832
2020-12-03 07:19:52,407 [IPC Server handler 4 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1634)) - IPC Server handler 4 on default port 36744: responding to Call#4 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49832 Wrote 43 bytes.
2020-12-03 07:19:52,407 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:receiveRpcResponse(1191)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 got value #4
2020-12-03 07:19:52,407 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:close(1283)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: closed
2020-12-03 07:19:52,407 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1092)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: stopped, remaining connections 0
2020-12-03 07:19:52,407 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:close(3738)) - Socket Reader #1 for port 0: disconnecting client 127.0.0.1:49832. Number of active connections: 0
2020-12-03 07:19:52,408 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(97)) - stopping client from cache: org.apache.hadoop.ipc.Client@4f32a3ad
2020-12-03 07:19:52,408 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(103)) - removing client from cache: org.apache.hadoop.ipc.Client@4f32a3ad
2020-12-03 07:19:52,408 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(110)) - stopping actual client because no more references remain: org.apache.hadoop.ipc.Client@4f32a3ad
2020-12-03 07:19:52,408 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:stop(1340)) - Stopping client
2020-12-03 07:19:52,409 [Listener at 0.0.0.0/36744] INFO  block.TestBlockToken (TestBlockToken.java:testBlockTokenRpcLeak(407)) - Num open fds:163
2020-12-03 07:19:52,411 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:getClient(63)) - getting client out of cache: org.apache.hadoop.ipc.Client@4201c465
2020-12-03 07:19:52,411 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:<init>(497)) - The ping interval is 60000 ms.
2020-12-03 07:19:52,412 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(795)) - Connecting to /127.0.0.1:36744
2020-12-03 07:19:52,412 [IPC Server listener on 0] DEBUG ipc.Server (Server.java:register(3727)) - Server connection from 127.0.0.1:49838; # active connections: 1; # queued calls: 0
2020-12-03 07:19:52,413 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: NEGOTIATE

2020-12-03 07:19:52,413 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:52,413 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:create(175)) - Created SASL server with mechanism = DIGEST-MD5
2020-12-03 07:19:52,414 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49838
2020-12-03 07:19:52,414 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49838 Wrote 194 bytes.
2020-12-03 07:19:52,414 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:getServerToken(268)) - Get token info proto:interface org.apache.hadoop.hdfs.protocolPB.ClientDatanodeProtocolPB info:@org.apache.hadoop.security.token.TokenInfo(value=class org.apache.hadoop.hdfs.security.token.block.BlockTokenSelector)
2020-12-03 07:19:52,415 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:createSaslClient(251)) - Creating SASL DIGEST-MD5(TOKEN)  client to authenticate to service at default
2020-12-03 07:19:52,415 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:selectSaslClient(177)) - Use TOKEN authentication for protocol ClientDatanodeProtocolPB
2020-12-03 07:19:52,416 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(678)) - SASL client callback: setting username: CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=
2020-12-03 07:19:52,416 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(683)) - SASL client callback: setting userPassword
2020-12-03 07:19:52,416 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(688)) - SASL client callback: setting realm: default
2020-12-03 07:19:52,418 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: INITIATE
token: "charset=utf-8,username=\"CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=\",realm=\"default\",nonce=\"m7vnk38Pq1rA0Fk5ZRizQJSTDaaPznmf+Dy/xj9T\",nc=00000001,cnonce=\"F/P0KRgLLeffkxJF9AP85xFkN6inBipiJgFfxPrs\",digest-uri=\"/default\",maxbuf=65536,response=f8487b11a634ee2d862af5bfa6364313,qop=auth"
auths {
  method: "TOKEN"
  mechanism: "DIGEST-MD5"
  protocol: ""
  serverId: "default"
}

2020-12-03 07:19:52,419 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:52,419 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processSaslToken(2112)) - Have read input token of size 298 for processing by saslServer.evaluateResponse()
2020-12-03 07:19:52,420 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(310)) - SASL server DIGEST-MD5 callback: setting password for client: root (auth:SIMPLE)
2020-12-03 07:19:52,421 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(328)) - SASL server DIGEST-MD5 callback: setting canonicalized client ID: root
2020-12-03 07:19:52,422 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:buildSaslResponse(2129)) - Will send SUCCESS token of size 40 from saslServer.
2020-12-03 07:19:52,423 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2000)) - SASL server context established. Negotiated QoP is auth
2020-12-03 07:19:52,423 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2005)) - SASL server successfully authenticated client: root (auth:SIMPLE)
2020-12-03 07:19:52,423 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:saslProcess(2008)) - Auth successful for root (auth:SIMPLE)
2020-12-03 07:19:52,424 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49838
2020-12-03 07:19:52,426 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49838 Wrote 64 bytes.
2020-12-03 07:19:52,427 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(837)) - Negotiated QOP is :auth
2020-12-03 07:19:52,428 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1074)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: starting, having connections 1
2020-12-03 07:19:52,428 [IPC Parameter Sending Thread #0] DEBUG ipc.Client (Client.java:run(1137)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 sending #5 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength
2020-12-03 07:19:52,428 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-3
2020-12-03 07:19:52,429 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:authorizeConnection(2750)) - Successfully authorized userInfo {
}
protocol: "org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol"

2020-12-03 07:19:52,429 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #5
2020-12-03 07:19:52,432 [IPC Server handler 0 on default port 36744] DEBUG ipc.Server (Server.java:run(2902)) - IPC Server handler 0 on default port 36744: Call#5 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49838 for RpcKind RPC_PROTOCOL_BUFFER
2020-12-03 07:19:52,432 [IPC Server handler 0 on default port 36744] INFO  ipc.Server (ProtobufRpcEngine.java:call(505)) - Call: connectionProtocolName=org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol, method=getReplicaVisibleLength
2020-12-03 07:19:52,433 [IPC Server handler 0 on default port 36744] INFO  block.TestBlockToken (TestBlockToken.java:answer(151)) - Got: block_token_identifier (expiryDate=1606980111387, keyId=57518194, userId=root, blockPoolId=-10, blockId=-108, access modes=[READ, WRITE, COPY, REPLACE], storageTypes= [DISK], storageIds= [])
2020-12-03 07:19:52,434 [IPC Server handler 0 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1615)) - IPC Server handler 0 on default port 36744: responding to Call#5 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49838
2020-12-03 07:19:52,434 [IPC Server handler 0 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1634)) - IPC Server handler 0 on default port 36744: responding to Call#5 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49838 Wrote 43 bytes.
2020-12-03 07:19:52,434 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:receiveRpcResponse(1191)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 got value #5
2020-12-03 07:19:52,435 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:close(1283)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: closed
2020-12-03 07:19:52,435 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:close(3738)) - Socket Reader #1 for port 0: disconnecting client 127.0.0.1:49838. Number of active connections: 0
2020-12-03 07:19:52,435 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(97)) - stopping client from cache: org.apache.hadoop.ipc.Client@4201c465
2020-12-03 07:19:52,435 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(103)) - removing client from cache: org.apache.hadoop.ipc.Client@4201c465
2020-12-03 07:19:52,436 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(110)) - stopping actual client because no more references remain: org.apache.hadoop.ipc.Client@4201c465
2020-12-03 07:19:52,436 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:stop(1340)) - Stopping client
2020-12-03 07:19:52,437 [Listener at 0.0.0.0/36744] INFO  block.TestBlockToken (TestBlockToken.java:testBlockTokenRpcLeak(407)) - Num open fds:163
2020-12-03 07:19:52,435 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1092)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: stopped, remaining connections 0
2020-12-03 07:19:52,439 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:getClient(63)) - getting client out of cache: org.apache.hadoop.ipc.Client@2a8448fa
2020-12-03 07:19:52,443 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:<init>(497)) - The ping interval is 60000 ms.
2020-12-03 07:19:52,443 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(795)) - Connecting to /127.0.0.1:36744
2020-12-03 07:19:52,444 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: NEGOTIATE

2020-12-03 07:19:52,445 [IPC Server listener on 0] DEBUG ipc.Server (Server.java:register(3727)) - Server connection from 127.0.0.1:49842; # active connections: 1; # queued calls: 0
2020-12-03 07:19:52,446 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:52,446 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:create(175)) - Created SASL server with mechanism = DIGEST-MD5
2020-12-03 07:19:52,446 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49842
2020-12-03 07:19:52,446 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49842 Wrote 194 bytes.
2020-12-03 07:19:52,447 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:getServerToken(268)) - Get token info proto:interface org.apache.hadoop.hdfs.protocolPB.ClientDatanodeProtocolPB info:@org.apache.hadoop.security.token.TokenInfo(value=class org.apache.hadoop.hdfs.security.token.block.BlockTokenSelector)
2020-12-03 07:19:52,447 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:createSaslClient(251)) - Creating SASL DIGEST-MD5(TOKEN)  client to authenticate to service at default
2020-12-03 07:19:52,449 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:selectSaslClient(177)) - Use TOKEN authentication for protocol ClientDatanodeProtocolPB
2020-12-03 07:19:52,450 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(678)) - SASL client callback: setting username: CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=
2020-12-03 07:19:52,451 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(683)) - SASL client callback: setting userPassword
2020-12-03 07:19:52,451 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(688)) - SASL client callback: setting realm: default
2020-12-03 07:19:52,452 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: INITIATE
token: "charset=utf-8,username=\"CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=\",realm=\"default\",nonce=\"wr8AXcAYy2d9U4mEiClpsmsntQ0KvGW+OZZVximU\",nc=00000001,cnonce=\"3lcRZidPuFM2sIeG7+KMLKNq6QCwQN70u78YGBow\",digest-uri=\"/default\",maxbuf=65536,response=00841574ad93a5be229420c489869fb1,qop=auth"
auths {
  method: "TOKEN"
  mechanism: "DIGEST-MD5"
  protocol: ""
  serverId: "default"
}

2020-12-03 07:19:52,454 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:52,454 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processSaslToken(2112)) - Have read input token of size 298 for processing by saslServer.evaluateResponse()
2020-12-03 07:19:52,455 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(310)) - SASL server DIGEST-MD5 callback: setting password for client: root (auth:SIMPLE)
2020-12-03 07:19:52,456 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(328)) - SASL server DIGEST-MD5 callback: setting canonicalized client ID: root
2020-12-03 07:19:52,457 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:buildSaslResponse(2129)) - Will send SUCCESS token of size 40 from saslServer.
2020-12-03 07:19:52,457 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2000)) - SASL server context established. Negotiated QoP is auth
2020-12-03 07:19:52,457 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2005)) - SASL server successfully authenticated client: root (auth:SIMPLE)
2020-12-03 07:19:52,458 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:saslProcess(2008)) - Auth successful for root (auth:SIMPLE)
2020-12-03 07:19:52,458 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49842
2020-12-03 07:19:52,458 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49842 Wrote 64 bytes.
2020-12-03 07:19:52,459 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(837)) - Negotiated QOP is :auth
2020-12-03 07:19:52,460 [IPC Parameter Sending Thread #0] DEBUG ipc.Client (Client.java:run(1137)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 sending #6 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength
2020-12-03 07:19:52,460 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1074)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: starting, having connections 1
2020-12-03 07:19:52,460 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-3
2020-12-03 07:19:52,461 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:authorizeConnection(2750)) - Successfully authorized userInfo {
}
protocol: "org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol"

2020-12-03 07:19:52,461 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #6
2020-12-03 07:19:52,461 [IPC Server handler 1 on default port 36744] DEBUG ipc.Server (Server.java:run(2902)) - IPC Server handler 1 on default port 36744: Call#6 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49842 for RpcKind RPC_PROTOCOL_BUFFER
2020-12-03 07:19:52,461 [IPC Server handler 1 on default port 36744] INFO  ipc.Server (ProtobufRpcEngine.java:call(505)) - Call: connectionProtocolName=org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol, method=getReplicaVisibleLength
2020-12-03 07:19:52,462 [IPC Server handler 1 on default port 36744] INFO  block.TestBlockToken (TestBlockToken.java:answer(151)) - Got: block_token_identifier (expiryDate=1606980111387, keyId=57518194, userId=root, blockPoolId=-10, blockId=-108, access modes=[READ, WRITE, COPY, REPLACE], storageTypes= [DISK], storageIds= [])
2020-12-03 07:19:52,462 [IPC Server handler 1 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1615)) - IPC Server handler 1 on default port 36744: responding to Call#6 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49842
2020-12-03 07:19:52,463 [IPC Server handler 1 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1634)) - IPC Server handler 1 on default port 36744: responding to Call#6 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49842 Wrote 43 bytes.
2020-12-03 07:19:52,463 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:receiveRpcResponse(1191)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 got value #6
2020-12-03 07:19:52,463 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:close(1283)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: closed
2020-12-03 07:19:52,463 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(97)) - stopping client from cache: org.apache.hadoop.ipc.Client@2a8448fa
2020-12-03 07:19:52,463 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(103)) - removing client from cache: org.apache.hadoop.ipc.Client@2a8448fa
2020-12-03 07:19:52,464 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(110)) - stopping actual client because no more references remain: org.apache.hadoop.ipc.Client@2a8448fa
2020-12-03 07:19:52,464 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:stop(1340)) - Stopping client
2020-12-03 07:19:52,465 [Listener at 0.0.0.0/36744] INFO  block.TestBlockToken (TestBlockToken.java:testBlockTokenRpcLeak(407)) - Num open fds:164
2020-12-03 07:19:52,463 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:close(3738)) - Socket Reader #1 for port 0: disconnecting client 127.0.0.1:49842. Number of active connections: 0
2020-12-03 07:19:52,463 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1092)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: stopped, remaining connections 0
2020-12-03 07:19:52,468 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:getClient(63)) - getting client out of cache: org.apache.hadoop.ipc.Client@48e1f6c7
2020-12-03 07:19:52,469 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:<init>(497)) - The ping interval is 60000 ms.
2020-12-03 07:19:52,469 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(795)) - Connecting to /127.0.0.1:36744
2020-12-03 07:19:52,470 [IPC Server listener on 0] DEBUG ipc.Server (Server.java:register(3727)) - Server connection from 127.0.0.1:49846; # active connections: 1; # queued calls: 0
2020-12-03 07:19:52,471 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: NEGOTIATE

2020-12-03 07:19:52,472 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:52,472 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:create(175)) - Created SASL server with mechanism = DIGEST-MD5
2020-12-03 07:19:52,472 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49846
2020-12-03 07:19:52,473 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49846 Wrote 194 bytes.
2020-12-03 07:19:52,473 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:getServerToken(268)) - Get token info proto:interface org.apache.hadoop.hdfs.protocolPB.ClientDatanodeProtocolPB info:@org.apache.hadoop.security.token.TokenInfo(value=class org.apache.hadoop.hdfs.security.token.block.BlockTokenSelector)
2020-12-03 07:19:52,473 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:createSaslClient(251)) - Creating SASL DIGEST-MD5(TOKEN)  client to authenticate to service at default
2020-12-03 07:19:52,474 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:selectSaslClient(177)) - Use TOKEN authentication for protocol ClientDatanodeProtocolPB
2020-12-03 07:19:52,475 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(678)) - SASL client callback: setting username: CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=
2020-12-03 07:19:52,475 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(683)) - SASL client callback: setting userPassword
2020-12-03 07:19:52,475 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(688)) - SASL client callback: setting realm: default
2020-12-03 07:19:52,479 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: INITIATE
token: "charset=utf-8,username=\"CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=\",realm=\"default\",nonce=\"6aANBdIp1qrF7Hw9Yxy/1KW+YLwSZhOJECyiWlpx\",nc=00000001,cnonce=\"5L2psiDA/O2RWs+C6q9ujNIyld6Bk2Xy3cEqI8mQ\",digest-uri=\"/default\",maxbuf=65536,response=fe5a39d8904667f32574706e70b5a90c,qop=auth"
auths {
  method: "TOKEN"
  mechanism: "DIGEST-MD5"
  protocol: ""
  serverId: "default"
}

2020-12-03 07:19:52,484 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:52,484 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processSaslToken(2112)) - Have read input token of size 298 for processing by saslServer.evaluateResponse()
2020-12-03 07:19:52,485 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(310)) - SASL server DIGEST-MD5 callback: setting password for client: root (auth:SIMPLE)
2020-12-03 07:19:52,486 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(328)) - SASL server DIGEST-MD5 callback: setting canonicalized client ID: root
2020-12-03 07:19:52,487 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:buildSaslResponse(2129)) - Will send SUCCESS token of size 40 from saslServer.
2020-12-03 07:19:52,487 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2000)) - SASL server context established. Negotiated QoP is auth
2020-12-03 07:19:52,487 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2005)) - SASL server successfully authenticated client: root (auth:SIMPLE)
2020-12-03 07:19:52,487 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:saslProcess(2008)) - Auth successful for root (auth:SIMPLE)
2020-12-03 07:19:52,488 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49846
2020-12-03 07:19:52,488 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49846 Wrote 64 bytes.
2020-12-03 07:19:52,490 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(837)) - Negotiated QOP is :auth
2020-12-03 07:19:52,491 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1074)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: starting, having connections 1
2020-12-03 07:19:52,491 [IPC Parameter Sending Thread #0] DEBUG ipc.Client (Client.java:run(1137)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 sending #7 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength
2020-12-03 07:19:52,492 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-3
2020-12-03 07:19:52,492 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:authorizeConnection(2750)) - Successfully authorized userInfo {
}
protocol: "org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol"

2020-12-03 07:19:52,492 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #7
2020-12-03 07:19:52,493 [IPC Server handler 3 on default port 36744] DEBUG ipc.Server (Server.java:run(2902)) - IPC Server handler 3 on default port 36744: Call#7 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49846 for RpcKind RPC_PROTOCOL_BUFFER
2020-12-03 07:19:52,493 [IPC Server handler 3 on default port 36744] INFO  ipc.Server (ProtobufRpcEngine.java:call(505)) - Call: connectionProtocolName=org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol, method=getReplicaVisibleLength
2020-12-03 07:19:52,494 [IPC Server handler 3 on default port 36744] INFO  block.TestBlockToken (TestBlockToken.java:answer(151)) - Got: block_token_identifier (expiryDate=1606980111387, keyId=57518194, userId=root, blockPoolId=-10, blockId=-108, access modes=[READ, WRITE, COPY, REPLACE], storageTypes= [DISK], storageIds= [])
2020-12-03 07:19:52,494 [IPC Server handler 3 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1615)) - IPC Server handler 3 on default port 36744: responding to Call#7 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49846
2020-12-03 07:19:52,494 [IPC Server handler 3 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1634)) - IPC Server handler 3 on default port 36744: responding to Call#7 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49846 Wrote 43 bytes.
2020-12-03 07:19:52,495 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:receiveRpcResponse(1191)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 got value #7
2020-12-03 07:19:52,495 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(97)) - stopping client from cache: org.apache.hadoop.ipc.Client@48e1f6c7
2020-12-03 07:19:52,495 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:close(3738)) - Socket Reader #1 for port 0: disconnecting client 127.0.0.1:49846. Number of active connections: 0
2020-12-03 07:19:52,495 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:close(1283)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: closed
2020-12-03 07:19:52,495 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(103)) - removing client from cache: org.apache.hadoop.ipc.Client@48e1f6c7
2020-12-03 07:19:52,497 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1092)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: stopped, remaining connections 0
2020-12-03 07:19:52,497 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(110)) - stopping actual client because no more references remain: org.apache.hadoop.ipc.Client@48e1f6c7
2020-12-03 07:19:52,497 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:stop(1340)) - Stopping client
2020-12-03 07:19:52,498 [Listener at 0.0.0.0/36744] INFO  block.TestBlockToken (TestBlockToken.java:testBlockTokenRpcLeak(407)) - Num open fds:163
2020-12-03 07:19:52,500 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:getClient(63)) - getting client out of cache: org.apache.hadoop.ipc.Client@68c9d179
2020-12-03 07:19:52,500 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:<init>(497)) - The ping interval is 60000 ms.
2020-12-03 07:19:52,500 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(795)) - Connecting to /127.0.0.1:36744
2020-12-03 07:19:52,501 [IPC Server listener on 0] DEBUG ipc.Server (Server.java:register(3727)) - Server connection from 127.0.0.1:49852; # active connections: 1; # queued calls: 0
2020-12-03 07:19:52,501 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: NEGOTIATE

2020-12-03 07:19:52,503 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:52,504 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:create(175)) - Created SASL server with mechanism = DIGEST-MD5
2020-12-03 07:19:52,504 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49852
2020-12-03 07:19:52,505 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49852 Wrote 194 bytes.
2020-12-03 07:19:52,507 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:getServerToken(268)) - Get token info proto:interface org.apache.hadoop.hdfs.protocolPB.ClientDatanodeProtocolPB info:@org.apache.hadoop.security.token.TokenInfo(value=class org.apache.hadoop.hdfs.security.token.block.BlockTokenSelector)
2020-12-03 07:19:52,507 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:createSaslClient(251)) - Creating SASL DIGEST-MD5(TOKEN)  client to authenticate to service at default
2020-12-03 07:19:52,508 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:selectSaslClient(177)) - Use TOKEN authentication for protocol ClientDatanodeProtocolPB
2020-12-03 07:19:52,509 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(678)) - SASL client callback: setting username: CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=
2020-12-03 07:19:52,509 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(683)) - SASL client callback: setting userPassword
2020-12-03 07:19:52,509 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(688)) - SASL client callback: setting realm: default
2020-12-03 07:19:52,511 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: INITIATE
token: "charset=utf-8,username=\"CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=\",realm=\"default\",nonce=\"LgVfXWVd9oy2wC+NLEspiPPX/JItfpv0JzhEwyNG\",nc=00000001,cnonce=\"z8UbSP//D40qLoM3Ks8u9QlyO0JBmTQrmpOsDg4+\",digest-uri=\"/default\",maxbuf=65536,response=757cd1e6d0c28aff086df596dcaff316,qop=auth"
auths {
  method: "TOKEN"
  mechanism: "DIGEST-MD5"
  protocol: ""
  serverId: "default"
}

2020-12-03 07:19:52,511 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:52,512 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processSaslToken(2112)) - Have read input token of size 298 for processing by saslServer.evaluateResponse()
2020-12-03 07:19:52,514 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(310)) - SASL server DIGEST-MD5 callback: setting password for client: root (auth:SIMPLE)
2020-12-03 07:19:52,515 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(328)) - SASL server DIGEST-MD5 callback: setting canonicalized client ID: root
2020-12-03 07:19:52,515 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:buildSaslResponse(2129)) - Will send SUCCESS token of size 40 from saslServer.
2020-12-03 07:19:52,516 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2000)) - SASL server context established. Negotiated QoP is auth
2020-12-03 07:19:52,516 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2005)) - SASL server successfully authenticated client: root (auth:SIMPLE)
2020-12-03 07:19:52,516 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:saslProcess(2008)) - Auth successful for root (auth:SIMPLE)
2020-12-03 07:19:52,517 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49852
2020-12-03 07:19:52,517 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49852 Wrote 64 bytes.
2020-12-03 07:19:52,518 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(837)) - Negotiated QOP is :auth
2020-12-03 07:19:52,523 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1074)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: starting, having connections 1
2020-12-03 07:19:52,528 [IPC Parameter Sending Thread #0] DEBUG ipc.Client (Client.java:run(1137)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 sending #8 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength
2020-12-03 07:19:52,529 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-3
2020-12-03 07:19:52,529 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:authorizeConnection(2750)) - Successfully authorized userInfo {
}
protocol: "org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol"

2020-12-03 07:19:52,529 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #8
2020-12-03 07:19:52,530 [IPC Server handler 2 on default port 36744] DEBUG ipc.Server (Server.java:run(2902)) - IPC Server handler 2 on default port 36744: Call#8 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49852 for RpcKind RPC_PROTOCOL_BUFFER
2020-12-03 07:19:52,530 [IPC Server handler 2 on default port 36744] INFO  ipc.Server (ProtobufRpcEngine.java:call(505)) - Call: connectionProtocolName=org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol, method=getReplicaVisibleLength
2020-12-03 07:19:52,531 [IPC Server handler 2 on default port 36744] INFO  block.TestBlockToken (TestBlockToken.java:answer(151)) - Got: block_token_identifier (expiryDate=1606980111387, keyId=57518194, userId=root, blockPoolId=-10, blockId=-108, access modes=[READ, WRITE, COPY, REPLACE], storageTypes= [DISK], storageIds= [])
2020-12-03 07:19:52,531 [IPC Server handler 2 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1615)) - IPC Server handler 2 on default port 36744: responding to Call#8 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49852
2020-12-03 07:19:52,531 [IPC Server handler 2 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1634)) - IPC Server handler 2 on default port 36744: responding to Call#8 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49852 Wrote 43 bytes.
2020-12-03 07:19:52,532 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:receiveRpcResponse(1191)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 got value #8
2020-12-03 07:19:52,532 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:close(1283)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: closed
2020-12-03 07:19:52,532 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:close(3738)) - Socket Reader #1 for port 0: disconnecting client 127.0.0.1:49852. Number of active connections: 0
2020-12-03 07:19:52,532 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1092)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: stopped, remaining connections 0
2020-12-03 07:19:52,536 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(97)) - stopping client from cache: org.apache.hadoop.ipc.Client@68c9d179
2020-12-03 07:19:52,536 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(103)) - removing client from cache: org.apache.hadoop.ipc.Client@68c9d179
2020-12-03 07:19:52,536 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(110)) - stopping actual client because no more references remain: org.apache.hadoop.ipc.Client@68c9d179
2020-12-03 07:19:52,536 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:stop(1340)) - Stopping client
2020-12-03 07:19:52,537 [Listener at 0.0.0.0/36744] INFO  block.TestBlockToken (TestBlockToken.java:testBlockTokenRpcLeak(407)) - Num open fds:163
2020-12-03 07:19:52,539 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:getClient(63)) - getting client out of cache: org.apache.hadoop.ipc.Client@dc7df28
2020-12-03 07:19:52,540 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:<init>(497)) - The ping interval is 60000 ms.
2020-12-03 07:19:52,541 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(795)) - Connecting to /127.0.0.1:36744
2020-12-03 07:19:52,541 [IPC Server listener on 0] DEBUG ipc.Server (Server.java:register(3727)) - Server connection from 127.0.0.1:49856; # active connections: 1; # queued calls: 0
2020-12-03 07:19:52,542 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: NEGOTIATE

2020-12-03 07:19:52,542 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:52,543 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:create(175)) - Created SASL server with mechanism = DIGEST-MD5
2020-12-03 07:19:52,543 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49856
2020-12-03 07:19:52,543 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49856 Wrote 194 bytes.
2020-12-03 07:19:52,548 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:getServerToken(268)) - Get token info proto:interface org.apache.hadoop.hdfs.protocolPB.ClientDatanodeProtocolPB info:@org.apache.hadoop.security.token.TokenInfo(value=class org.apache.hadoop.hdfs.security.token.block.BlockTokenSelector)
2020-12-03 07:19:52,549 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:createSaslClient(251)) - Creating SASL DIGEST-MD5(TOKEN)  client to authenticate to service at default
2020-12-03 07:19:52,549 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:selectSaslClient(177)) - Use TOKEN authentication for protocol ClientDatanodeProtocolPB
2020-12-03 07:19:52,550 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(678)) - SASL client callback: setting username: CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=
2020-12-03 07:19:52,550 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(683)) - SASL client callback: setting userPassword
2020-12-03 07:19:52,550 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(688)) - SASL client callback: setting realm: default
2020-12-03 07:19:52,552 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: INITIATE
token: "charset=utf-8,username=\"CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=\",realm=\"default\",nonce=\"1YtZUNF/WOh4QThPfJi6pXAz+a5kdPf9T+gYwyZD\",nc=00000001,cnonce=\"PXNp1nkHeXqmi466YJFYRdNc6kfEyb/P0LyzOskz\",digest-uri=\"/default\",maxbuf=65536,response=bd55efe3c64be9ffc8bf1b05a4220194,qop=auth"
auths {
  method: "TOKEN"
  mechanism: "DIGEST-MD5"
  protocol: ""
  serverId: "default"
}

2020-12-03 07:19:52,553 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:52,553 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processSaslToken(2112)) - Have read input token of size 298 for processing by saslServer.evaluateResponse()
2020-12-03 07:19:52,554 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(310)) - SASL server DIGEST-MD5 callback: setting password for client: root (auth:SIMPLE)
2020-12-03 07:19:52,554 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(328)) - SASL server DIGEST-MD5 callback: setting canonicalized client ID: root
2020-12-03 07:19:52,555 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:buildSaslResponse(2129)) - Will send SUCCESS token of size 40 from saslServer.
2020-12-03 07:19:52,555 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2000)) - SASL server context established. Negotiated QoP is auth
2020-12-03 07:19:52,555 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2005)) - SASL server successfully authenticated client: root (auth:SIMPLE)
2020-12-03 07:19:52,555 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:saslProcess(2008)) - Auth successful for root (auth:SIMPLE)
2020-12-03 07:19:52,556 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49856
2020-12-03 07:19:52,556 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49856 Wrote 64 bytes.
2020-12-03 07:19:52,556 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(837)) - Negotiated QOP is :auth
2020-12-03 07:19:52,557 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1074)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: starting, having connections 1
2020-12-03 07:19:52,557 [IPC Parameter Sending Thread #0] DEBUG ipc.Client (Client.java:run(1137)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 sending #9 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength
2020-12-03 07:19:52,557 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-3
2020-12-03 07:19:52,558 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:authorizeConnection(2750)) - Successfully authorized userInfo {
}
protocol: "org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol"

2020-12-03 07:19:52,558 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #9
2020-12-03 07:19:52,560 [IPC Server handler 4 on default port 36744] DEBUG ipc.Server (Server.java:run(2902)) - IPC Server handler 4 on default port 36744: Call#9 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49856 for RpcKind RPC_PROTOCOL_BUFFER
2020-12-03 07:19:52,560 [IPC Server handler 4 on default port 36744] INFO  ipc.Server (ProtobufRpcEngine.java:call(505)) - Call: connectionProtocolName=org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol, method=getReplicaVisibleLength
2020-12-03 07:19:52,561 [IPC Server handler 4 on default port 36744] INFO  block.TestBlockToken (TestBlockToken.java:answer(151)) - Got: block_token_identifier (expiryDate=1606980111387, keyId=57518194, userId=root, blockPoolId=-10, blockId=-108, access modes=[READ, WRITE, COPY, REPLACE], storageTypes= [DISK], storageIds= [])
2020-12-03 07:19:52,561 [IPC Server handler 4 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1615)) - IPC Server handler 4 on default port 36744: responding to Call#9 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49856
2020-12-03 07:19:52,561 [IPC Server handler 4 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1634)) - IPC Server handler 4 on default port 36744: responding to Call#9 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49856 Wrote 43 bytes.
2020-12-03 07:19:52,562 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:receiveRpcResponse(1191)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 got value #9
2020-12-03 07:19:52,562 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:close(1283)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: closed
2020-12-03 07:19:52,562 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1092)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: stopped, remaining connections 0
2020-12-03 07:19:52,562 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:close(3738)) - Socket Reader #1 for port 0: disconnecting client 127.0.0.1:49856. Number of active connections: 0
2020-12-03 07:19:52,564 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(97)) - stopping client from cache: org.apache.hadoop.ipc.Client@dc7df28
2020-12-03 07:19:52,564 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(103)) - removing client from cache: org.apache.hadoop.ipc.Client@dc7df28
2020-12-03 07:19:52,564 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(110)) - stopping actual client because no more references remain: org.apache.hadoop.ipc.Client@dc7df28
2020-12-03 07:19:52,564 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:stop(1340)) - Stopping client
2020-12-03 07:19:52,565 [Listener at 0.0.0.0/36744] INFO  block.TestBlockToken (TestBlockToken.java:testBlockTokenRpcLeak(407)) - Num open fds:163
2020-12-03 07:19:52,567 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:getClient(63)) - getting client out of cache: org.apache.hadoop.ipc.Client@79207381
2020-12-03 07:19:52,567 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:<init>(497)) - The ping interval is 60000 ms.
2020-12-03 07:19:52,568 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(795)) - Connecting to /127.0.0.1:36744
2020-12-03 07:19:52,569 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: NEGOTIATE

2020-12-03 07:19:52,573 [IPC Server listener on 0] DEBUG ipc.Server (Server.java:register(3727)) - Server connection from 127.0.0.1:49862; # active connections: 1; # queued calls: 0
2020-12-03 07:19:52,574 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:52,574 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:create(175)) - Created SASL server with mechanism = DIGEST-MD5
2020-12-03 07:19:52,575 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49862
2020-12-03 07:19:52,575 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49862 Wrote 194 bytes.
2020-12-03 07:19:52,575 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:getServerToken(268)) - Get token info proto:interface org.apache.hadoop.hdfs.protocolPB.ClientDatanodeProtocolPB info:@org.apache.hadoop.security.token.TokenInfo(value=class org.apache.hadoop.hdfs.security.token.block.BlockTokenSelector)
2020-12-03 07:19:52,576 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:createSaslClient(251)) - Creating SASL DIGEST-MD5(TOKEN)  client to authenticate to service at default
2020-12-03 07:19:52,578 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:selectSaslClient(177)) - Use TOKEN authentication for protocol ClientDatanodeProtocolPB
2020-12-03 07:19:52,579 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(678)) - SASL client callback: setting username: CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=
2020-12-03 07:19:52,580 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(683)) - SASL client callback: setting userPassword
2020-12-03 07:19:52,581 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(688)) - SASL client callback: setting realm: default
2020-12-03 07:19:52,583 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: INITIATE
token: "charset=utf-8,username=\"CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=\",realm=\"default\",nonce=\"FcStuJAkrd02prgnnBvRMiqcztIyp39ELyM/mnDs\",nc=00000001,cnonce=\"iP1diYTrVnXkStn1sIu1uS/Z7pgsK3viQ2Yn/zXO\",digest-uri=\"/default\",maxbuf=65536,response=894275b76c7d5742518bf6ea95313b70,qop=auth"
auths {
  method: "TOKEN"
  mechanism: "DIGEST-MD5"
  protocol: ""
  serverId: "default"
}

2020-12-03 07:19:52,585 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:52,585 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processSaslToken(2112)) - Have read input token of size 298 for processing by saslServer.evaluateResponse()
2020-12-03 07:19:52,587 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(310)) - SASL server DIGEST-MD5 callback: setting password for client: root (auth:SIMPLE)
2020-12-03 07:19:52,587 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(328)) - SASL server DIGEST-MD5 callback: setting canonicalized client ID: root
2020-12-03 07:19:52,588 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:buildSaslResponse(2129)) - Will send SUCCESS token of size 40 from saslServer.
2020-12-03 07:19:52,589 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2000)) - SASL server context established. Negotiated QoP is auth
2020-12-03 07:19:52,589 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2005)) - SASL server successfully authenticated client: root (auth:SIMPLE)
2020-12-03 07:19:52,589 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:saslProcess(2008)) - Auth successful for root (auth:SIMPLE)
2020-12-03 07:19:52,590 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49862
2020-12-03 07:19:52,590 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49862 Wrote 64 bytes.
2020-12-03 07:19:52,590 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(837)) - Negotiated QOP is :auth
2020-12-03 07:19:52,591 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1074)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: starting, having connections 1
2020-12-03 07:19:52,591 [IPC Parameter Sending Thread #0] DEBUG ipc.Client (Client.java:run(1137)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 sending #10 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength
2020-12-03 07:19:52,592 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-3
2020-12-03 07:19:52,592 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:authorizeConnection(2750)) - Successfully authorized userInfo {
}
protocol: "org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol"

2020-12-03 07:19:52,592 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #10
2020-12-03 07:19:52,593 [IPC Server handler 0 on default port 36744] DEBUG ipc.Server (Server.java:run(2902)) - IPC Server handler 0 on default port 36744: Call#10 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49862 for RpcKind RPC_PROTOCOL_BUFFER
2020-12-03 07:19:52,593 [IPC Server handler 0 on default port 36744] INFO  ipc.Server (ProtobufRpcEngine.java:call(505)) - Call: connectionProtocolName=org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol, method=getReplicaVisibleLength
2020-12-03 07:19:52,594 [IPC Server handler 0 on default port 36744] INFO  block.TestBlockToken (TestBlockToken.java:answer(151)) - Got: block_token_identifier (expiryDate=1606980111387, keyId=57518194, userId=root, blockPoolId=-10, blockId=-108, access modes=[READ, WRITE, COPY, REPLACE], storageTypes= [DISK], storageIds= [])
2020-12-03 07:19:52,594 [IPC Server handler 0 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1615)) - IPC Server handler 0 on default port 36744: responding to Call#10 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49862
2020-12-03 07:19:52,595 [IPC Server handler 0 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1634)) - IPC Server handler 0 on default port 36744: responding to Call#10 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49862 Wrote 43 bytes.
2020-12-03 07:19:52,595 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:receiveRpcResponse(1191)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 got value #10
2020-12-03 07:19:52,595 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:close(1283)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: closed
2020-12-03 07:19:52,595 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(97)) - stopping client from cache: org.apache.hadoop.ipc.Client@79207381
2020-12-03 07:19:52,596 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(103)) - removing client from cache: org.apache.hadoop.ipc.Client@79207381
2020-12-03 07:19:52,596 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(110)) - stopping actual client because no more references remain: org.apache.hadoop.ipc.Client@79207381
2020-12-03 07:19:52,596 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:stop(1340)) - Stopping client
2020-12-03 07:19:52,595 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:close(3738)) - Socket Reader #1 for port 0: disconnecting client 127.0.0.1:49862. Number of active connections: 0
2020-12-03 07:19:52,595 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1092)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: stopped, remaining connections 0
2020-12-03 07:19:52,598 [Listener at 0.0.0.0/36744] INFO  block.TestBlockToken (TestBlockToken.java:testBlockTokenRpcLeak(407)) - Num open fds:163
2020-12-03 07:19:52,600 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:getClient(63)) - getting client out of cache: org.apache.hadoop.ipc.Client@782859e
2020-12-03 07:19:52,600 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:<init>(497)) - The ping interval is 60000 ms.
2020-12-03 07:19:52,600 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(795)) - Connecting to /127.0.0.1:36744
2020-12-03 07:19:52,601 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: NEGOTIATE

2020-12-03 07:19:52,602 [IPC Server listener on 0] DEBUG ipc.Server (Server.java:register(3727)) - Server connection from 127.0.0.1:49866; # active connections: 1; # queued calls: 0
2020-12-03 07:19:52,603 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:52,603 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:create(175)) - Created SASL server with mechanism = DIGEST-MD5
2020-12-03 07:19:52,603 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49866
2020-12-03 07:19:52,604 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49866 Wrote 194 bytes.
2020-12-03 07:19:52,604 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:getServerToken(268)) - Get token info proto:interface org.apache.hadoop.hdfs.protocolPB.ClientDatanodeProtocolPB info:@org.apache.hadoop.security.token.TokenInfo(value=class org.apache.hadoop.hdfs.security.token.block.BlockTokenSelector)
2020-12-03 07:19:52,605 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:createSaslClient(251)) - Creating SASL DIGEST-MD5(TOKEN)  client to authenticate to service at default
2020-12-03 07:19:52,605 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:selectSaslClient(177)) - Use TOKEN authentication for protocol ClientDatanodeProtocolPB
2020-12-03 07:19:52,605 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(678)) - SASL client callback: setting username: CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=
2020-12-03 07:19:52,606 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(683)) - SASL client callback: setting userPassword
2020-12-03 07:19:52,606 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(688)) - SASL client callback: setting realm: default
2020-12-03 07:19:52,607 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: INITIATE
token: "charset=utf-8,username=\"CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=\",realm=\"default\",nonce=\"i1hMdL6Axo4PEvsZhN9cEr5UFoERIM4kSgPHw24A\",nc=00000001,cnonce=\"WCaZrDCfRm2NAO5XRXM43PKgKJVsLNMwsPsE4IGb\",digest-uri=\"/default\",maxbuf=65536,response=5306b0efe57ae16b93b3473e59077ded,qop=auth"
auths {
  method: "TOKEN"
  mechanism: "DIGEST-MD5"
  protocol: ""
  serverId: "default"
}

2020-12-03 07:19:52,607 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:52,608 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processSaslToken(2112)) - Have read input token of size 298 for processing by saslServer.evaluateResponse()
2020-12-03 07:19:52,609 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(310)) - SASL server DIGEST-MD5 callback: setting password for client: root (auth:SIMPLE)
2020-12-03 07:19:52,609 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(328)) - SASL server DIGEST-MD5 callback: setting canonicalized client ID: root
2020-12-03 07:19:52,609 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:buildSaslResponse(2129)) - Will send SUCCESS token of size 40 from saslServer.
2020-12-03 07:19:52,610 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2000)) - SASL server context established. Negotiated QoP is auth
2020-12-03 07:19:52,610 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2005)) - SASL server successfully authenticated client: root (auth:SIMPLE)
2020-12-03 07:19:52,610 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:saslProcess(2008)) - Auth successful for root (auth:SIMPLE)
2020-12-03 07:19:52,610 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49866
2020-12-03 07:19:52,611 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49866 Wrote 64 bytes.
2020-12-03 07:19:52,611 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(837)) - Negotiated QOP is :auth
2020-12-03 07:19:52,612 [IPC Parameter Sending Thread #0] DEBUG ipc.Client (Client.java:run(1137)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 sending #11 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength
2020-12-03 07:19:52,612 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1074)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: starting, having connections 1
2020-12-03 07:19:52,612 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-3
2020-12-03 07:19:52,613 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:authorizeConnection(2750)) - Successfully authorized userInfo {
}
protocol: "org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol"

2020-12-03 07:19:52,613 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #11
2020-12-03 07:19:52,613 [IPC Server handler 1 on default port 36744] DEBUG ipc.Server (Server.java:run(2902)) - IPC Server handler 1 on default port 36744: Call#11 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49866 for RpcKind RPC_PROTOCOL_BUFFER
2020-12-03 07:19:52,613 [IPC Server handler 1 on default port 36744] INFO  ipc.Server (ProtobufRpcEngine.java:call(505)) - Call: connectionProtocolName=org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol, method=getReplicaVisibleLength
2020-12-03 07:19:52,614 [IPC Server handler 1 on default port 36744] INFO  block.TestBlockToken (TestBlockToken.java:answer(151)) - Got: block_token_identifier (expiryDate=1606980111387, keyId=57518194, userId=root, blockPoolId=-10, blockId=-108, access modes=[READ, WRITE, COPY, REPLACE], storageTypes= [DISK], storageIds= [])
2020-12-03 07:19:52,615 [IPC Server handler 1 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1615)) - IPC Server handler 1 on default port 36744: responding to Call#11 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49866
2020-12-03 07:19:52,615 [IPC Server handler 1 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1634)) - IPC Server handler 1 on default port 36744: responding to Call#11 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49866 Wrote 43 bytes.
2020-12-03 07:19:52,615 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:receiveRpcResponse(1191)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 got value #11
2020-12-03 07:19:52,615 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:close(3738)) - Socket Reader #1 for port 0: disconnecting client 127.0.0.1:49866. Number of active connections: 0
2020-12-03 07:19:52,616 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(97)) - stopping client from cache: org.apache.hadoop.ipc.Client@782859e
2020-12-03 07:19:52,616 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(103)) - removing client from cache: org.apache.hadoop.ipc.Client@782859e
2020-12-03 07:19:52,616 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(110)) - stopping actual client because no more references remain: org.apache.hadoop.ipc.Client@782859e
2020-12-03 07:19:52,616 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:stop(1340)) - Stopping client
2020-12-03 07:19:52,617 [Listener at 0.0.0.0/36744] INFO  block.TestBlockToken (TestBlockToken.java:testBlockTokenRpcLeak(407)) - Num open fds:163
2020-12-03 07:19:52,616 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:close(1283)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: closed
2020-12-03 07:19:52,618 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1092)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: stopped, remaining connections 0
2020-12-03 07:19:52,619 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:getClient(63)) - getting client out of cache: org.apache.hadoop.ipc.Client@1be2019a
2020-12-03 07:19:52,619 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:<init>(497)) - The ping interval is 60000 ms.
2020-12-03 07:19:52,620 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(795)) - Connecting to /127.0.0.1:36744
2020-12-03 07:19:52,620 [IPC Server listener on 0] DEBUG ipc.Server (Server.java:register(3727)) - Server connection from 127.0.0.1:49870; # active connections: 1; # queued calls: 0
2020-12-03 07:19:52,621 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: NEGOTIATE

2020-12-03 07:19:52,622 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:52,622 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:create(175)) - Created SASL server with mechanism = DIGEST-MD5
2020-12-03 07:19:52,622 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49870
2020-12-03 07:19:52,623 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49870 Wrote 194 bytes.
2020-12-03 07:19:52,623 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:getServerToken(268)) - Get token info proto:interface org.apache.hadoop.hdfs.protocolPB.ClientDatanodeProtocolPB info:@org.apache.hadoop.security.token.TokenInfo(value=class org.apache.hadoop.hdfs.security.token.block.BlockTokenSelector)
2020-12-03 07:19:52,623 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:createSaslClient(251)) - Creating SASL DIGEST-MD5(TOKEN)  client to authenticate to service at default
2020-12-03 07:19:52,624 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:selectSaslClient(177)) - Use TOKEN authentication for protocol ClientDatanodeProtocolPB
2020-12-03 07:19:52,624 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(678)) - SASL client callback: setting username: CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=
2020-12-03 07:19:52,625 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(683)) - SASL client callback: setting userPassword
2020-12-03 07:19:52,625 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(688)) - SASL client callback: setting realm: default
2020-12-03 07:19:52,626 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: INITIATE
token: "charset=utf-8,username=\"CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=\",realm=\"default\",nonce=\"I5a92IBKn9m+6bvjLAa16HLnnOTzeBrTAR3hdxVd\",nc=00000001,cnonce=\"0Q1o5aiDQPf61QWCqHUuqotvi2SNlLk0U0dJqbfo\",digest-uri=\"/default\",maxbuf=65536,response=0832fda69ecd5a6f2dd0e0c0fd4d14ee,qop=auth"
auths {
  method: "TOKEN"
  mechanism: "DIGEST-MD5"
  protocol: ""
  serverId: "default"
}

2020-12-03 07:19:52,626 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:52,627 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processSaslToken(2112)) - Have read input token of size 298 for processing by saslServer.evaluateResponse()
2020-12-03 07:19:52,629 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(310)) - SASL server DIGEST-MD5 callback: setting password for client: root (auth:SIMPLE)
2020-12-03 07:19:52,629 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(328)) - SASL server DIGEST-MD5 callback: setting canonicalized client ID: root
2020-12-03 07:19:52,629 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:buildSaslResponse(2129)) - Will send SUCCESS token of size 40 from saslServer.
2020-12-03 07:19:52,630 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2000)) - SASL server context established. Negotiated QoP is auth
2020-12-03 07:19:52,630 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2005)) - SASL server successfully authenticated client: root (auth:SIMPLE)
2020-12-03 07:19:52,630 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:saslProcess(2008)) - Auth successful for root (auth:SIMPLE)
2020-12-03 07:19:52,630 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49870
2020-12-03 07:19:52,630 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49870 Wrote 64 bytes.
2020-12-03 07:19:52,631 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(837)) - Negotiated QOP is :auth
2020-12-03 07:19:52,632 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1074)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: starting, having connections 1
2020-12-03 07:19:52,632 [IPC Parameter Sending Thread #0] DEBUG ipc.Client (Client.java:run(1137)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 sending #12 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength
2020-12-03 07:19:52,632 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-3
2020-12-03 07:19:52,632 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:authorizeConnection(2750)) - Successfully authorized userInfo {
}
protocol: "org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol"

2020-12-03 07:19:52,632 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #12
2020-12-03 07:19:52,634 [IPC Server handler 3 on default port 36744] DEBUG ipc.Server (Server.java:run(2902)) - IPC Server handler 3 on default port 36744: Call#12 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49870 for RpcKind RPC_PROTOCOL_BUFFER
2020-12-03 07:19:52,634 [IPC Server handler 3 on default port 36744] INFO  ipc.Server (ProtobufRpcEngine.java:call(505)) - Call: connectionProtocolName=org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol, method=getReplicaVisibleLength
2020-12-03 07:19:52,635 [IPC Server handler 3 on default port 36744] INFO  block.TestBlockToken (TestBlockToken.java:answer(151)) - Got: block_token_identifier (expiryDate=1606980111387, keyId=57518194, userId=root, blockPoolId=-10, blockId=-108, access modes=[READ, WRITE, COPY, REPLACE], storageTypes= [DISK], storageIds= [])
2020-12-03 07:19:52,635 [IPC Server handler 3 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1615)) - IPC Server handler 3 on default port 36744: responding to Call#12 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49870
2020-12-03 07:19:52,635 [IPC Server handler 3 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1634)) - IPC Server handler 3 on default port 36744: responding to Call#12 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49870 Wrote 43 bytes.
2020-12-03 07:19:52,636 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:receiveRpcResponse(1191)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 got value #12
2020-12-03 07:19:52,636 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(97)) - stopping client from cache: org.apache.hadoop.ipc.Client@1be2019a
2020-12-03 07:19:52,636 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:close(3738)) - Socket Reader #1 for port 0: disconnecting client 127.0.0.1:49870. Number of active connections: 0
2020-12-03 07:19:52,636 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:close(1283)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: closed
2020-12-03 07:19:52,637 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1092)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: stopped, remaining connections 0
2020-12-03 07:19:52,636 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(103)) - removing client from cache: org.apache.hadoop.ipc.Client@1be2019a
2020-12-03 07:19:52,637 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(110)) - stopping actual client because no more references remain: org.apache.hadoop.ipc.Client@1be2019a
2020-12-03 07:19:52,637 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:stop(1340)) - Stopping client
2020-12-03 07:19:52,638 [Listener at 0.0.0.0/36744] INFO  block.TestBlockToken (TestBlockToken.java:testBlockTokenRpcLeak(407)) - Num open fds:163
2020-12-03 07:19:52,641 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:getClient(63)) - getting client out of cache: org.apache.hadoop.ipc.Client@126253fd
2020-12-03 07:19:52,641 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:<init>(497)) - The ping interval is 60000 ms.
2020-12-03 07:19:52,642 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(795)) - Connecting to /127.0.0.1:36744
2020-12-03 07:19:52,642 [IPC Server listener on 0] DEBUG ipc.Server (Server.java:register(3727)) - Server connection from 127.0.0.1:49872; # active connections: 1; # queued calls: 0
2020-12-03 07:19:52,643 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: NEGOTIATE

2020-12-03 07:19:52,643 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:52,643 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:create(175)) - Created SASL server with mechanism = DIGEST-MD5
2020-12-03 07:19:52,644 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49872
2020-12-03 07:19:52,644 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49872 Wrote 194 bytes.
2020-12-03 07:19:52,644 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:getServerToken(268)) - Get token info proto:interface org.apache.hadoop.hdfs.protocolPB.ClientDatanodeProtocolPB info:@org.apache.hadoop.security.token.TokenInfo(value=class org.apache.hadoop.hdfs.security.token.block.BlockTokenSelector)
2020-12-03 07:19:52,645 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:createSaslClient(251)) - Creating SASL DIGEST-MD5(TOKEN)  client to authenticate to service at default
2020-12-03 07:19:52,645 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:selectSaslClient(177)) - Use TOKEN authentication for protocol ClientDatanodeProtocolPB
2020-12-03 07:19:52,645 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(678)) - SASL client callback: setting username: CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=
2020-12-03 07:19:52,645 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(683)) - SASL client callback: setting userPassword
2020-12-03 07:19:52,646 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(688)) - SASL client callback: setting realm: default
2020-12-03 07:19:52,646 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: INITIATE
token: "charset=utf-8,username=\"CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=\",realm=\"default\",nonce=\"ygtMREU0RXDSzr3IkFHwrerKvanMl81V/rwy2RL8\",nc=00000001,cnonce=\"vBZvYthjZKIuwnDxl0AelyzeJOjTtqu7KXb8z8zu\",digest-uri=\"/default\",maxbuf=65536,response=c8a27ccfb8da5f541876627aafb5a0a3,qop=auth"
auths {
  method: "TOKEN"
  mechanism: "DIGEST-MD5"
  protocol: ""
  serverId: "default"
}

2020-12-03 07:19:52,647 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:52,647 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processSaslToken(2112)) - Have read input token of size 298 for processing by saslServer.evaluateResponse()
2020-12-03 07:19:52,648 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(310)) - SASL server DIGEST-MD5 callback: setting password for client: root (auth:SIMPLE)
2020-12-03 07:19:52,648 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(328)) - SASL server DIGEST-MD5 callback: setting canonicalized client ID: root
2020-12-03 07:19:52,648 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:buildSaslResponse(2129)) - Will send SUCCESS token of size 40 from saslServer.
2020-12-03 07:19:52,649 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2000)) - SASL server context established. Negotiated QoP is auth
2020-12-03 07:19:52,650 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2005)) - SASL server successfully authenticated client: root (auth:SIMPLE)
2020-12-03 07:19:52,650 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:saslProcess(2008)) - Auth successful for root (auth:SIMPLE)
2020-12-03 07:19:52,651 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49872
2020-12-03 07:19:52,651 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49872 Wrote 64 bytes.
2020-12-03 07:19:52,652 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(837)) - Negotiated QOP is :auth
2020-12-03 07:19:52,652 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1074)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: starting, having connections 1
2020-12-03 07:19:52,652 [IPC Parameter Sending Thread #0] DEBUG ipc.Client (Client.java:run(1137)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 sending #13 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength
2020-12-03 07:19:52,653 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-3
2020-12-03 07:19:52,653 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:authorizeConnection(2750)) - Successfully authorized userInfo {
}
protocol: "org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol"

2020-12-03 07:19:52,653 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #13
2020-12-03 07:19:52,654 [IPC Server handler 2 on default port 36744] DEBUG ipc.Server (Server.java:run(2902)) - IPC Server handler 2 on default port 36744: Call#13 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49872 for RpcKind RPC_PROTOCOL_BUFFER
2020-12-03 07:19:52,654 [IPC Server handler 2 on default port 36744] INFO  ipc.Server (ProtobufRpcEngine.java:call(505)) - Call: connectionProtocolName=org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol, method=getReplicaVisibleLength
2020-12-03 07:19:52,655 [IPC Server handler 2 on default port 36744] INFO  block.TestBlockToken (TestBlockToken.java:answer(151)) - Got: block_token_identifier (expiryDate=1606980111387, keyId=57518194, userId=root, blockPoolId=-10, blockId=-108, access modes=[READ, WRITE, COPY, REPLACE], storageTypes= [DISK], storageIds= [])
2020-12-03 07:19:52,656 [IPC Server handler 2 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1615)) - IPC Server handler 2 on default port 36744: responding to Call#13 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49872
2020-12-03 07:19:52,656 [IPC Server handler 2 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1634)) - IPC Server handler 2 on default port 36744: responding to Call#13 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49872 Wrote 43 bytes.
2020-12-03 07:19:52,656 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:receiveRpcResponse(1191)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 got value #13
2020-12-03 07:19:52,657 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:close(1283)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: closed
2020-12-03 07:19:52,657 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:close(3738)) - Socket Reader #1 for port 0: disconnecting client 127.0.0.1:49872. Number of active connections: 0
2020-12-03 07:19:52,657 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(97)) - stopping client from cache: org.apache.hadoop.ipc.Client@126253fd
2020-12-03 07:19:52,657 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1092)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: stopped, remaining connections 0
2020-12-03 07:19:52,657 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(103)) - removing client from cache: org.apache.hadoop.ipc.Client@126253fd
2020-12-03 07:19:52,657 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(110)) - stopping actual client because no more references remain: org.apache.hadoop.ipc.Client@126253fd
2020-12-03 07:19:52,657 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:stop(1340)) - Stopping client
2020-12-03 07:19:52,658 [Listener at 0.0.0.0/36744] INFO  block.TestBlockToken (TestBlockToken.java:testBlockTokenRpcLeak(407)) - Num open fds:163
2020-12-03 07:19:52,660 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:getClient(63)) - getting client out of cache: org.apache.hadoop.ipc.Client@2584b82d
2020-12-03 07:19:52,660 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:<init>(497)) - The ping interval is 60000 ms.
2020-12-03 07:19:52,661 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(795)) - Connecting to /127.0.0.1:36744
2020-12-03 07:19:52,661 [IPC Server listener on 0] DEBUG ipc.Server (Server.java:register(3727)) - Server connection from 127.0.0.1:49876; # active connections: 1; # queued calls: 0
2020-12-03 07:19:52,662 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: NEGOTIATE

2020-12-03 07:19:52,662 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:52,663 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:create(175)) - Created SASL server with mechanism = DIGEST-MD5
2020-12-03 07:19:52,663 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49876
2020-12-03 07:19:52,663 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49876 Wrote 194 bytes.
2020-12-03 07:19:52,663 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:getServerToken(268)) - Get token info proto:interface org.apache.hadoop.hdfs.protocolPB.ClientDatanodeProtocolPB info:@org.apache.hadoop.security.token.TokenInfo(value=class org.apache.hadoop.hdfs.security.token.block.BlockTokenSelector)
2020-12-03 07:19:52,664 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:createSaslClient(251)) - Creating SASL DIGEST-MD5(TOKEN)  client to authenticate to service at default
2020-12-03 07:19:52,664 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:selectSaslClient(177)) - Use TOKEN authentication for protocol ClientDatanodeProtocolPB
2020-12-03 07:19:52,665 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(678)) - SASL client callback: setting username: CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=
2020-12-03 07:19:52,665 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(683)) - SASL client callback: setting userPassword
2020-12-03 07:19:52,665 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(688)) - SASL client callback: setting realm: default
2020-12-03 07:19:52,666 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: INITIATE
token: "charset=utf-8,username=\"CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=\",realm=\"default\",nonce=\"T4VxU7MWsX3jZ9bQpCm+nFawJHxcvOyLnAbiLSWP\",nc=00000001,cnonce=\"vEnk9fShYt5H/uKPucVrb+qd5n3Gk7F83GCiY5+/\",digest-uri=\"/default\",maxbuf=65536,response=44805009eef4eb109a571a2c18fce524,qop=auth"
auths {
  method: "TOKEN"
  mechanism: "DIGEST-MD5"
  protocol: ""
  serverId: "default"
}

2020-12-03 07:19:52,666 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:52,667 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processSaslToken(2112)) - Have read input token of size 298 for processing by saslServer.evaluateResponse()
2020-12-03 07:19:52,668 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(310)) - SASL server DIGEST-MD5 callback: setting password for client: root (auth:SIMPLE)
2020-12-03 07:19:52,669 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(328)) - SASL server DIGEST-MD5 callback: setting canonicalized client ID: root
2020-12-03 07:19:52,669 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:buildSaslResponse(2129)) - Will send SUCCESS token of size 40 from saslServer.
2020-12-03 07:19:52,669 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2000)) - SASL server context established. Negotiated QoP is auth
2020-12-03 07:19:52,669 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2005)) - SASL server successfully authenticated client: root (auth:SIMPLE)
2020-12-03 07:19:52,670 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:saslProcess(2008)) - Auth successful for root (auth:SIMPLE)
2020-12-03 07:19:52,670 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49876
2020-12-03 07:19:52,670 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49876 Wrote 64 bytes.
2020-12-03 07:19:52,670 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(837)) - Negotiated QOP is :auth
2020-12-03 07:19:52,671 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1074)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: starting, having connections 1
2020-12-03 07:19:52,671 [IPC Parameter Sending Thread #0] DEBUG ipc.Client (Client.java:run(1137)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 sending #14 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength
2020-12-03 07:19:52,671 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-3
2020-12-03 07:19:52,672 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:authorizeConnection(2750)) - Successfully authorized userInfo {
}
protocol: "org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol"

2020-12-03 07:19:52,672 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #14
2020-12-03 07:19:52,675 [IPC Server handler 4 on default port 36744] DEBUG ipc.Server (Server.java:run(2902)) - IPC Server handler 4 on default port 36744: Call#14 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49876 for RpcKind RPC_PROTOCOL_BUFFER
2020-12-03 07:19:52,676 [IPC Server handler 4 on default port 36744] INFO  ipc.Server (ProtobufRpcEngine.java:call(505)) - Call: connectionProtocolName=org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol, method=getReplicaVisibleLength
2020-12-03 07:19:52,676 [IPC Server handler 4 on default port 36744] INFO  block.TestBlockToken (TestBlockToken.java:answer(151)) - Got: block_token_identifier (expiryDate=1606980111387, keyId=57518194, userId=root, blockPoolId=-10, blockId=-108, access modes=[READ, WRITE, COPY, REPLACE], storageTypes= [DISK], storageIds= [])
2020-12-03 07:19:52,677 [IPC Server handler 4 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1615)) - IPC Server handler 4 on default port 36744: responding to Call#14 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49876
2020-12-03 07:19:52,677 [IPC Server handler 4 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1634)) - IPC Server handler 4 on default port 36744: responding to Call#14 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49876 Wrote 43 bytes.
2020-12-03 07:19:52,677 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:receiveRpcResponse(1191)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 got value #14
2020-12-03 07:19:52,677 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:close(1283)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: closed
2020-12-03 07:19:52,678 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1092)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: stopped, remaining connections 0
2020-12-03 07:19:52,678 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:close(3738)) - Socket Reader #1 for port 0: disconnecting client 127.0.0.1:49876. Number of active connections: 0
2020-12-03 07:19:52,678 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(97)) - stopping client from cache: org.apache.hadoop.ipc.Client@2584b82d
2020-12-03 07:19:52,678 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(103)) - removing client from cache: org.apache.hadoop.ipc.Client@2584b82d
2020-12-03 07:19:52,679 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(110)) - stopping actual client because no more references remain: org.apache.hadoop.ipc.Client@2584b82d
2020-12-03 07:19:52,679 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:stop(1340)) - Stopping client
2020-12-03 07:19:52,680 [Listener at 0.0.0.0/36744] INFO  block.TestBlockToken (TestBlockToken.java:testBlockTokenRpcLeak(407)) - Num open fds:163
2020-12-03 07:19:52,681 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:getClient(63)) - getting client out of cache: org.apache.hadoop.ipc.Client@66ea810
2020-12-03 07:19:52,682 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:<init>(497)) - The ping interval is 60000 ms.
2020-12-03 07:19:52,682 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(795)) - Connecting to /127.0.0.1:36744
2020-12-03 07:19:52,683 [IPC Server listener on 0] DEBUG ipc.Server (Server.java:register(3727)) - Server connection from 127.0.0.1:49880; # active connections: 1; # queued calls: 0
2020-12-03 07:19:52,683 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: NEGOTIATE

2020-12-03 07:19:52,683 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:52,684 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:create(175)) - Created SASL server with mechanism = DIGEST-MD5
2020-12-03 07:19:52,684 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49880
2020-12-03 07:19:52,684 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49880 Wrote 194 bytes.
2020-12-03 07:19:52,685 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:getServerToken(268)) - Get token info proto:interface org.apache.hadoop.hdfs.protocolPB.ClientDatanodeProtocolPB info:@org.apache.hadoop.security.token.TokenInfo(value=class org.apache.hadoop.hdfs.security.token.block.BlockTokenSelector)
2020-12-03 07:19:52,685 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:createSaslClient(251)) - Creating SASL DIGEST-MD5(TOKEN)  client to authenticate to service at default
2020-12-03 07:19:52,686 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:selectSaslClient(177)) - Use TOKEN authentication for protocol ClientDatanodeProtocolPB
2020-12-03 07:19:52,686 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(678)) - SASL client callback: setting username: CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=
2020-12-03 07:19:52,686 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(683)) - SASL client callback: setting userPassword
2020-12-03 07:19:52,686 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(688)) - SASL client callback: setting realm: default
2020-12-03 07:19:52,691 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: INITIATE
token: "charset=utf-8,username=\"CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=\",realm=\"default\",nonce=\"3up2pnfxZi5FquNCxubmP3sB6j/ib2D3fGpMeMAP\",nc=00000001,cnonce=\"X1yL2xFWe0n692eXIFfqobnYbNewxGBQEst3SPgU\",digest-uri=\"/default\",maxbuf=65536,response=a0de0e396b48e557bf5e74d50a4e0dc5,qop=auth"
auths {
  method: "TOKEN"
  mechanism: "DIGEST-MD5"
  protocol: ""
  serverId: "default"
}

2020-12-03 07:19:52,691 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:52,692 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processSaslToken(2112)) - Have read input token of size 298 for processing by saslServer.evaluateResponse()
2020-12-03 07:19:52,692 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(310)) - SASL server DIGEST-MD5 callback: setting password for client: root (auth:SIMPLE)
2020-12-03 07:19:52,693 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(328)) - SASL server DIGEST-MD5 callback: setting canonicalized client ID: root
2020-12-03 07:19:52,693 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:buildSaslResponse(2129)) - Will send SUCCESS token of size 40 from saslServer.
2020-12-03 07:19:52,693 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2000)) - SASL server context established. Negotiated QoP is auth
2020-12-03 07:19:52,694 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2005)) - SASL server successfully authenticated client: root (auth:SIMPLE)
2020-12-03 07:19:52,694 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:saslProcess(2008)) - Auth successful for root (auth:SIMPLE)
2020-12-03 07:19:52,694 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49880
2020-12-03 07:19:52,694 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49880 Wrote 64 bytes.
2020-12-03 07:19:52,697 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(837)) - Negotiated QOP is :auth
2020-12-03 07:19:52,698 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1074)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: starting, having connections 1
2020-12-03 07:19:52,699 [IPC Parameter Sending Thread #0] DEBUG ipc.Client (Client.java:run(1137)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 sending #15 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength
2020-12-03 07:19:52,700 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-3
2020-12-03 07:19:52,703 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:authorizeConnection(2750)) - Successfully authorized userInfo {
}
protocol: "org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol"

2020-12-03 07:19:52,704 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #15
2020-12-03 07:19:52,705 [IPC Server handler 0 on default port 36744] DEBUG ipc.Server (Server.java:run(2902)) - IPC Server handler 0 on default port 36744: Call#15 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49880 for RpcKind RPC_PROTOCOL_BUFFER
2020-12-03 07:19:52,705 [IPC Server handler 0 on default port 36744] INFO  ipc.Server (ProtobufRpcEngine.java:call(505)) - Call: connectionProtocolName=org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol, method=getReplicaVisibleLength
2020-12-03 07:19:52,706 [IPC Server handler 0 on default port 36744] INFO  block.TestBlockToken (TestBlockToken.java:answer(151)) - Got: block_token_identifier (expiryDate=1606980111387, keyId=57518194, userId=root, blockPoolId=-10, blockId=-108, access modes=[READ, WRITE, COPY, REPLACE], storageTypes= [DISK], storageIds= [])
2020-12-03 07:19:52,706 [IPC Server handler 0 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1615)) - IPC Server handler 0 on default port 36744: responding to Call#15 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49880
2020-12-03 07:19:52,706 [IPC Server handler 0 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1634)) - IPC Server handler 0 on default port 36744: responding to Call#15 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49880 Wrote 43 bytes.
2020-12-03 07:19:52,707 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:receiveRpcResponse(1191)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 got value #15
2020-12-03 07:19:52,708 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:close(1283)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: closed
2020-12-03 07:19:52,708 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1092)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: stopped, remaining connections 0
2020-12-03 07:19:52,708 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(97)) - stopping client from cache: org.apache.hadoop.ipc.Client@66ea810
2020-12-03 07:19:52,709 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(103)) - removing client from cache: org.apache.hadoop.ipc.Client@66ea810
2020-12-03 07:19:52,709 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(110)) - stopping actual client because no more references remain: org.apache.hadoop.ipc.Client@66ea810
2020-12-03 07:19:52,709 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:stop(1340)) - Stopping client
2020-12-03 07:19:52,712 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:close(3738)) - Socket Reader #1 for port 0: disconnecting client 127.0.0.1:49880. Number of active connections: 0
2020-12-03 07:19:52,713 [Listener at 0.0.0.0/36744] INFO  block.TestBlockToken (TestBlockToken.java:testBlockTokenRpcLeak(407)) - Num open fds:163
2020-12-03 07:19:52,715 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:getClient(63)) - getting client out of cache: org.apache.hadoop.ipc.Client@660acfb
2020-12-03 07:19:52,716 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:<init>(497)) - The ping interval is 60000 ms.
2020-12-03 07:19:52,716 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(795)) - Connecting to /127.0.0.1:36744
2020-12-03 07:19:52,717 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: NEGOTIATE

2020-12-03 07:19:52,718 [IPC Server listener on 0] DEBUG ipc.Server (Server.java:register(3727)) - Server connection from 127.0.0.1:49886; # active connections: 1; # queued calls: 0
2020-12-03 07:19:52,719 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:52,719 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:create(175)) - Created SASL server with mechanism = DIGEST-MD5
2020-12-03 07:19:52,720 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49886
2020-12-03 07:19:52,720 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49886 Wrote 194 bytes.
2020-12-03 07:19:52,724 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:getServerToken(268)) - Get token info proto:interface org.apache.hadoop.hdfs.protocolPB.ClientDatanodeProtocolPB info:@org.apache.hadoop.security.token.TokenInfo(value=class org.apache.hadoop.hdfs.security.token.block.BlockTokenSelector)
2020-12-03 07:19:52,724 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:createSaslClient(251)) - Creating SASL DIGEST-MD5(TOKEN)  client to authenticate to service at default
2020-12-03 07:19:52,725 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:selectSaslClient(177)) - Use TOKEN authentication for protocol ClientDatanodeProtocolPB
2020-12-03 07:19:52,725 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(678)) - SASL client callback: setting username: CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=
2020-12-03 07:19:52,725 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(683)) - SASL client callback: setting userPassword
2020-12-03 07:19:52,726 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(688)) - SASL client callback: setting realm: default
2020-12-03 07:19:52,727 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: INITIATE
token: "charset=utf-8,username=\"CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=\",realm=\"default\",nonce=\"j8qaBKSGpa7pJEEO5X22vBGz3ATWkczoGrgWwjvb\",nc=00000001,cnonce=\"TDztCfQQvlqgJDEzoK7KU7YUixuk5GQgMsv1TxE2\",digest-uri=\"/default\",maxbuf=65536,response=a59b9af27e9843fcd6ba4a6b58aba369,qop=auth"
auths {
  method: "TOKEN"
  mechanism: "DIGEST-MD5"
  protocol: ""
  serverId: "default"
}

2020-12-03 07:19:52,732 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:52,732 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processSaslToken(2112)) - Have read input token of size 298 for processing by saslServer.evaluateResponse()
2020-12-03 07:19:52,733 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(310)) - SASL server DIGEST-MD5 callback: setting password for client: root (auth:SIMPLE)
2020-12-03 07:19:52,733 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(328)) - SASL server DIGEST-MD5 callback: setting canonicalized client ID: root
2020-12-03 07:19:52,734 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:buildSaslResponse(2129)) - Will send SUCCESS token of size 40 from saslServer.
2020-12-03 07:19:52,734 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2000)) - SASL server context established. Negotiated QoP is auth
2020-12-03 07:19:52,734 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2005)) - SASL server successfully authenticated client: root (auth:SIMPLE)
2020-12-03 07:19:52,734 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:saslProcess(2008)) - Auth successful for root (auth:SIMPLE)
2020-12-03 07:19:52,735 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49886
2020-12-03 07:19:52,735 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49886 Wrote 64 bytes.
2020-12-03 07:19:52,735 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(837)) - Negotiated QOP is :auth
2020-12-03 07:19:52,736 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1074)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: starting, having connections 1
2020-12-03 07:19:52,739 [IPC Parameter Sending Thread #0] DEBUG ipc.Client (Client.java:run(1137)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 sending #16 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength
2020-12-03 07:19:52,740 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-3
2020-12-03 07:19:52,740 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:authorizeConnection(2750)) - Successfully authorized userInfo {
}
protocol: "org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol"

2020-12-03 07:19:52,740 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #16
2020-12-03 07:19:52,741 [IPC Server handler 1 on default port 36744] DEBUG ipc.Server (Server.java:run(2902)) - IPC Server handler 1 on default port 36744: Call#16 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49886 for RpcKind RPC_PROTOCOL_BUFFER
2020-12-03 07:19:52,741 [IPC Server handler 1 on default port 36744] INFO  ipc.Server (ProtobufRpcEngine.java:call(505)) - Call: connectionProtocolName=org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol, method=getReplicaVisibleLength
2020-12-03 07:19:52,742 [IPC Server handler 1 on default port 36744] INFO  block.TestBlockToken (TestBlockToken.java:answer(151)) - Got: block_token_identifier (expiryDate=1606980111387, keyId=57518194, userId=root, blockPoolId=-10, blockId=-108, access modes=[READ, WRITE, COPY, REPLACE], storageTypes= [DISK], storageIds= [])
2020-12-03 07:19:52,742 [IPC Server handler 1 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1615)) - IPC Server handler 1 on default port 36744: responding to Call#16 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49886
2020-12-03 07:19:52,742 [IPC Server handler 1 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1634)) - IPC Server handler 1 on default port 36744: responding to Call#16 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49886 Wrote 43 bytes.
2020-12-03 07:19:52,742 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:receiveRpcResponse(1191)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 got value #16
2020-12-03 07:19:52,743 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:close(1283)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: closed
2020-12-03 07:19:52,743 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(97)) - stopping client from cache: org.apache.hadoop.ipc.Client@660acfb
2020-12-03 07:19:52,743 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(103)) - removing client from cache: org.apache.hadoop.ipc.Client@660acfb
2020-12-03 07:19:52,743 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(110)) - stopping actual client because no more references remain: org.apache.hadoop.ipc.Client@660acfb
2020-12-03 07:19:52,743 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1092)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: stopped, remaining connections 0
2020-12-03 07:19:52,743 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:stop(1340)) - Stopping client
2020-12-03 07:19:52,744 [Listener at 0.0.0.0/36744] INFO  block.TestBlockToken (TestBlockToken.java:testBlockTokenRpcLeak(407)) - Num open fds:164
2020-12-03 07:19:52,746 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:getClient(63)) - getting client out of cache: org.apache.hadoop.ipc.Client@1224144a
2020-12-03 07:19:52,747 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:<init>(497)) - The ping interval is 60000 ms.
2020-12-03 07:19:52,747 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(795)) - Connecting to /127.0.0.1:36744
2020-12-03 07:19:52,748 [IPC Server listener on 0] DEBUG ipc.Server (Server.java:register(3727)) - Server connection from 127.0.0.1:49892; # active connections: 2; # queued calls: 0
2020-12-03 07:19:52,748 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:close(3738)) - Socket Reader #1 for port 0: disconnecting client 127.0.0.1:49886. Number of active connections: 1
2020-12-03 07:19:52,748 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: NEGOTIATE

2020-12-03 07:19:52,748 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:52,749 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:create(175)) - Created SASL server with mechanism = DIGEST-MD5
2020-12-03 07:19:52,749 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49892
2020-12-03 07:19:52,749 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49892 Wrote 194 bytes.
2020-12-03 07:19:52,749 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:getServerToken(268)) - Get token info proto:interface org.apache.hadoop.hdfs.protocolPB.ClientDatanodeProtocolPB info:@org.apache.hadoop.security.token.TokenInfo(value=class org.apache.hadoop.hdfs.security.token.block.BlockTokenSelector)
2020-12-03 07:19:52,750 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:createSaslClient(251)) - Creating SASL DIGEST-MD5(TOKEN)  client to authenticate to service at default
2020-12-03 07:19:52,750 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:selectSaslClient(177)) - Use TOKEN authentication for protocol ClientDatanodeProtocolPB
2020-12-03 07:19:52,751 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(678)) - SASL client callback: setting username: CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=
2020-12-03 07:19:52,751 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(683)) - SASL client callback: setting userPassword
2020-12-03 07:19:52,751 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(688)) - SASL client callback: setting realm: default
2020-12-03 07:19:52,752 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: INITIATE
token: "charset=utf-8,username=\"CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=\",realm=\"default\",nonce=\"EKIhbGFnLFZw2kOvHaTQedVKJOdAcSQSCKVe/fkB\",nc=00000001,cnonce=\"Lu2n/Y6/TaNDdTH0oWt1nXdvmLEnbOXcl2M28klX\",digest-uri=\"/default\",maxbuf=65536,response=f14f12baac53e61e73f5a561f075a4df,qop=auth"
auths {
  method: "TOKEN"
  mechanism: "DIGEST-MD5"
  protocol: ""
  serverId: "default"
}

2020-12-03 07:19:52,753 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:52,753 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processSaslToken(2112)) - Have read input token of size 298 for processing by saslServer.evaluateResponse()
2020-12-03 07:19:52,754 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(310)) - SASL server DIGEST-MD5 callback: setting password for client: root (auth:SIMPLE)
2020-12-03 07:19:52,754 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(328)) - SASL server DIGEST-MD5 callback: setting canonicalized client ID: root
2020-12-03 07:19:52,755 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:buildSaslResponse(2129)) - Will send SUCCESS token of size 40 from saslServer.
2020-12-03 07:19:52,755 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2000)) - SASL server context established. Negotiated QoP is auth
2020-12-03 07:19:52,755 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2005)) - SASL server successfully authenticated client: root (auth:SIMPLE)
2020-12-03 07:19:52,755 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:saslProcess(2008)) - Auth successful for root (auth:SIMPLE)
2020-12-03 07:19:52,755 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49892
2020-12-03 07:19:52,756 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49892 Wrote 64 bytes.
2020-12-03 07:19:52,756 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(837)) - Negotiated QOP is :auth
2020-12-03 07:19:52,757 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1074)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: starting, having connections 1
2020-12-03 07:19:52,759 [IPC Parameter Sending Thread #0] DEBUG ipc.Client (Client.java:run(1137)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 sending #17 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength
2020-12-03 07:19:52,760 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-3
2020-12-03 07:19:52,761 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:authorizeConnection(2750)) - Successfully authorized userInfo {
}
protocol: "org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol"

2020-12-03 07:19:52,761 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #17
2020-12-03 07:19:52,761 [IPC Server handler 3 on default port 36744] DEBUG ipc.Server (Server.java:run(2902)) - IPC Server handler 3 on default port 36744: Call#17 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49892 for RpcKind RPC_PROTOCOL_BUFFER
2020-12-03 07:19:52,761 [IPC Server handler 3 on default port 36744] INFO  ipc.Server (ProtobufRpcEngine.java:call(505)) - Call: connectionProtocolName=org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol, method=getReplicaVisibleLength
2020-12-03 07:19:52,762 [IPC Server handler 3 on default port 36744] INFO  block.TestBlockToken (TestBlockToken.java:answer(151)) - Got: block_token_identifier (expiryDate=1606980111387, keyId=57518194, userId=root, blockPoolId=-10, blockId=-108, access modes=[READ, WRITE, COPY, REPLACE], storageTypes= [DISK], storageIds= [])
2020-12-03 07:19:52,763 [IPC Server handler 3 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1615)) - IPC Server handler 3 on default port 36744: responding to Call#17 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49892
2020-12-03 07:19:52,763 [IPC Server handler 3 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1634)) - IPC Server handler 3 on default port 36744: responding to Call#17 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49892 Wrote 43 bytes.
2020-12-03 07:19:52,763 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:receiveRpcResponse(1191)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 got value #17
2020-12-03 07:19:52,763 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:close(1283)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: closed
2020-12-03 07:19:52,763 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1092)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: stopped, remaining connections 0
2020-12-03 07:19:52,763 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:close(3738)) - Socket Reader #1 for port 0: disconnecting client 127.0.0.1:49892. Number of active connections: 0
2020-12-03 07:19:52,763 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(97)) - stopping client from cache: org.apache.hadoop.ipc.Client@1224144a
2020-12-03 07:19:52,764 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(103)) - removing client from cache: org.apache.hadoop.ipc.Client@1224144a
2020-12-03 07:19:52,764 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(110)) - stopping actual client because no more references remain: org.apache.hadoop.ipc.Client@1224144a
2020-12-03 07:19:52,764 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:stop(1340)) - Stopping client
2020-12-03 07:19:52,765 [Listener at 0.0.0.0/36744] INFO  block.TestBlockToken (TestBlockToken.java:testBlockTokenRpcLeak(407)) - Num open fds:163
2020-12-03 07:19:52,767 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:getClient(63)) - getting client out of cache: org.apache.hadoop.ipc.Client@49b2a47d
2020-12-03 07:19:52,768 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:<init>(497)) - The ping interval is 60000 ms.
2020-12-03 07:19:52,768 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(795)) - Connecting to /127.0.0.1:36744
2020-12-03 07:19:52,769 [IPC Server listener on 0] DEBUG ipc.Server (Server.java:register(3727)) - Server connection from 127.0.0.1:49894; # active connections: 1; # queued calls: 0
2020-12-03 07:19:52,769 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: NEGOTIATE

2020-12-03 07:19:52,776 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:52,776 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:create(175)) - Created SASL server with mechanism = DIGEST-MD5
2020-12-03 07:19:52,776 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49894
2020-12-03 07:19:52,776 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49894 Wrote 194 bytes.
2020-12-03 07:19:52,777 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:getServerToken(268)) - Get token info proto:interface org.apache.hadoop.hdfs.protocolPB.ClientDatanodeProtocolPB info:@org.apache.hadoop.security.token.TokenInfo(value=class org.apache.hadoop.hdfs.security.token.block.BlockTokenSelector)
2020-12-03 07:19:52,777 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:createSaslClient(251)) - Creating SASL DIGEST-MD5(TOKEN)  client to authenticate to service at default
2020-12-03 07:19:52,778 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:selectSaslClient(177)) - Use TOKEN authentication for protocol ClientDatanodeProtocolPB
2020-12-03 07:19:52,779 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(678)) - SASL client callback: setting username: CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=
2020-12-03 07:19:52,779 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(683)) - SASL client callback: setting userPassword
2020-12-03 07:19:52,779 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(688)) - SASL client callback: setting realm: default
2020-12-03 07:19:52,795 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: INITIATE
token: "charset=utf-8,username=\"CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=\",realm=\"default\",nonce=\"k8tuJayhfH6Cb+c5QAKiTaHmP7WBBMDkWwxbK4Ae\",nc=00000001,cnonce=\"W+teCUUmZe+Q0GeeyJnvH+fo48LOx+9Ky+uLhYvM\",digest-uri=\"/default\",maxbuf=65536,response=87aa6e1fa4c383edc730f25e2c40faac,qop=auth"
auths {
  method: "TOKEN"
  mechanism: "DIGEST-MD5"
  protocol: ""
  serverId: "default"
}

2020-12-03 07:19:52,800 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:52,800 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processSaslToken(2112)) - Have read input token of size 298 for processing by saslServer.evaluateResponse()
2020-12-03 07:19:52,801 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(310)) - SASL server DIGEST-MD5 callback: setting password for client: root (auth:SIMPLE)
2020-12-03 07:19:52,802 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(328)) - SASL server DIGEST-MD5 callback: setting canonicalized client ID: root
2020-12-03 07:19:52,802 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:buildSaslResponse(2129)) - Will send SUCCESS token of size 40 from saslServer.
2020-12-03 07:19:52,802 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2000)) - SASL server context established. Negotiated QoP is auth
2020-12-03 07:19:52,802 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2005)) - SASL server successfully authenticated client: root (auth:SIMPLE)
2020-12-03 07:19:52,803 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:saslProcess(2008)) - Auth successful for root (auth:SIMPLE)
2020-12-03 07:19:52,803 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49894
2020-12-03 07:19:52,803 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49894 Wrote 64 bytes.
2020-12-03 07:19:52,805 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(837)) - Negotiated QOP is :auth
2020-12-03 07:19:52,807 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1074)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: starting, having connections 1
2020-12-03 07:19:52,811 [IPC Parameter Sending Thread #0] DEBUG ipc.Client (Client.java:run(1137)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 sending #18 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength
2020-12-03 07:19:52,815 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-3
2020-12-03 07:19:52,815 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:authorizeConnection(2750)) - Successfully authorized userInfo {
}
protocol: "org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol"

2020-12-03 07:19:52,816 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #18
2020-12-03 07:19:52,817 [IPC Server handler 2 on default port 36744] DEBUG ipc.Server (Server.java:run(2902)) - IPC Server handler 2 on default port 36744: Call#18 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49894 for RpcKind RPC_PROTOCOL_BUFFER
2020-12-03 07:19:52,818 [IPC Server handler 2 on default port 36744] INFO  ipc.Server (ProtobufRpcEngine.java:call(505)) - Call: connectionProtocolName=org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol, method=getReplicaVisibleLength
2020-12-03 07:19:52,818 [IPC Server handler 2 on default port 36744] INFO  block.TestBlockToken (TestBlockToken.java:answer(151)) - Got: block_token_identifier (expiryDate=1606980111387, keyId=57518194, userId=root, blockPoolId=-10, blockId=-108, access modes=[READ, WRITE, COPY, REPLACE], storageTypes= [DISK], storageIds= [])
2020-12-03 07:19:52,819 [IPC Server handler 2 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1615)) - IPC Server handler 2 on default port 36744: responding to Call#18 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49894
2020-12-03 07:19:52,819 [IPC Server handler 2 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1634)) - IPC Server handler 2 on default port 36744: responding to Call#18 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49894 Wrote 43 bytes.
2020-12-03 07:19:52,819 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:receiveRpcResponse(1191)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 got value #18
2020-12-03 07:19:52,820 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:close(1283)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: closed
2020-12-03 07:19:52,820 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1092)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: stopped, remaining connections 0
2020-12-03 07:19:52,820 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:close(3738)) - Socket Reader #1 for port 0: disconnecting client 127.0.0.1:49894. Number of active connections: 0
2020-12-03 07:19:52,822 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(97)) - stopping client from cache: org.apache.hadoop.ipc.Client@49b2a47d
2020-12-03 07:19:52,822 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(103)) - removing client from cache: org.apache.hadoop.ipc.Client@49b2a47d
2020-12-03 07:19:52,822 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(110)) - stopping actual client because no more references remain: org.apache.hadoop.ipc.Client@49b2a47d
2020-12-03 07:19:52,822 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:stop(1340)) - Stopping client
2020-12-03 07:19:52,823 [Listener at 0.0.0.0/36744] INFO  block.TestBlockToken (TestBlockToken.java:testBlockTokenRpcLeak(407)) - Num open fds:163
2020-12-03 07:19:52,825 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:getClient(63)) - getting client out of cache: org.apache.hadoop.ipc.Client@4470fbd6
2020-12-03 07:19:52,825 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:<init>(497)) - The ping interval is 60000 ms.
2020-12-03 07:19:52,825 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(795)) - Connecting to /127.0.0.1:36744
2020-12-03 07:19:52,826 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: NEGOTIATE

2020-12-03 07:19:52,827 [IPC Server listener on 0] DEBUG ipc.Server (Server.java:register(3727)) - Server connection from 127.0.0.1:49904; # active connections: 1; # queued calls: 0
2020-12-03 07:19:52,828 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:52,828 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:create(175)) - Created SASL server with mechanism = DIGEST-MD5
2020-12-03 07:19:52,828 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49904
2020-12-03 07:19:52,829 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49904 Wrote 194 bytes.
2020-12-03 07:19:52,829 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:getServerToken(268)) - Get token info proto:interface org.apache.hadoop.hdfs.protocolPB.ClientDatanodeProtocolPB info:@org.apache.hadoop.security.token.TokenInfo(value=class org.apache.hadoop.hdfs.security.token.block.BlockTokenSelector)
2020-12-03 07:19:52,830 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:createSaslClient(251)) - Creating SASL DIGEST-MD5(TOKEN)  client to authenticate to service at default
2020-12-03 07:19:52,830 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:selectSaslClient(177)) - Use TOKEN authentication for protocol ClientDatanodeProtocolPB
2020-12-03 07:19:52,831 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(678)) - SASL client callback: setting username: CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=
2020-12-03 07:19:52,831 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(683)) - SASL client callback: setting userPassword
2020-12-03 07:19:52,831 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(688)) - SASL client callback: setting realm: default
2020-12-03 07:19:52,833 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: INITIATE
token: "charset=utf-8,username=\"CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=\",realm=\"default\",nonce=\"BgWHZ2HFrXvmmVWz1S2ckFRGY/ek6pjMTkpqQ5oD\",nc=00000001,cnonce=\"KvbyTzWYfJxUsxMFZY7U3WBtf36vKOKkCPJjMOQV\",digest-uri=\"/default\",maxbuf=65536,response=2e3364a8cf763b57fe42059cdfd89528,qop=auth"
auths {
  method: "TOKEN"
  mechanism: "DIGEST-MD5"
  protocol: ""
  serverId: "default"
}

2020-12-03 07:19:52,833 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:52,833 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processSaslToken(2112)) - Have read input token of size 298 for processing by saslServer.evaluateResponse()
2020-12-03 07:19:52,834 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(310)) - SASL server DIGEST-MD5 callback: setting password for client: root (auth:SIMPLE)
2020-12-03 07:19:52,835 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(328)) - SASL server DIGEST-MD5 callback: setting canonicalized client ID: root
2020-12-03 07:19:52,835 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:buildSaslResponse(2129)) - Will send SUCCESS token of size 40 from saslServer.
2020-12-03 07:19:52,835 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2000)) - SASL server context established. Negotiated QoP is auth
2020-12-03 07:19:52,836 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2005)) - SASL server successfully authenticated client: root (auth:SIMPLE)
2020-12-03 07:19:52,836 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:saslProcess(2008)) - Auth successful for root (auth:SIMPLE)
2020-12-03 07:19:52,836 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49904
2020-12-03 07:19:52,836 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49904 Wrote 64 bytes.
2020-12-03 07:19:52,838 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(837)) - Negotiated QOP is :auth
2020-12-03 07:19:52,843 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1074)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: starting, having connections 1
2020-12-03 07:19:52,843 [IPC Parameter Sending Thread #0] DEBUG ipc.Client (Client.java:run(1137)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 sending #19 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength
2020-12-03 07:19:52,844 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-3
2020-12-03 07:19:52,845 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:authorizeConnection(2750)) - Successfully authorized userInfo {
}
protocol: "org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol"

2020-12-03 07:19:52,845 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #19
2020-12-03 07:19:52,847 [IPC Server handler 4 on default port 36744] DEBUG ipc.Server (Server.java:run(2902)) - IPC Server handler 4 on default port 36744: Call#19 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49904 for RpcKind RPC_PROTOCOL_BUFFER
2020-12-03 07:19:52,847 [IPC Server handler 4 on default port 36744] INFO  ipc.Server (ProtobufRpcEngine.java:call(505)) - Call: connectionProtocolName=org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol, method=getReplicaVisibleLength
2020-12-03 07:19:52,848 [IPC Server handler 4 on default port 36744] INFO  block.TestBlockToken (TestBlockToken.java:answer(151)) - Got: block_token_identifier (expiryDate=1606980111387, keyId=57518194, userId=root, blockPoolId=-10, blockId=-108, access modes=[READ, WRITE, COPY, REPLACE], storageTypes= [DISK], storageIds= [])
2020-12-03 07:19:52,848 [IPC Server handler 4 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1615)) - IPC Server handler 4 on default port 36744: responding to Call#19 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49904
2020-12-03 07:19:52,849 [IPC Server handler 4 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1634)) - IPC Server handler 4 on default port 36744: responding to Call#19 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49904 Wrote 43 bytes.
2020-12-03 07:19:52,856 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:receiveRpcResponse(1191)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 got value #19
2020-12-03 07:19:52,856 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:close(1283)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: closed
2020-12-03 07:19:52,857 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1092)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: stopped, remaining connections 0
2020-12-03 07:19:52,857 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:close(3738)) - Socket Reader #1 for port 0: disconnecting client 127.0.0.1:49904. Number of active connections: 0
2020-12-03 07:19:52,858 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(97)) - stopping client from cache: org.apache.hadoop.ipc.Client@4470fbd6
2020-12-03 07:19:52,858 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(103)) - removing client from cache: org.apache.hadoop.ipc.Client@4470fbd6
2020-12-03 07:19:52,858 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(110)) - stopping actual client because no more references remain: org.apache.hadoop.ipc.Client@4470fbd6
2020-12-03 07:19:52,858 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:stop(1340)) - Stopping client
2020-12-03 07:19:52,859 [Listener at 0.0.0.0/36744] INFO  block.TestBlockToken (TestBlockToken.java:testBlockTokenRpcLeak(407)) - Num open fds:163
2020-12-03 07:19:52,860 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:getClient(63)) - getting client out of cache: org.apache.hadoop.ipc.Client@24959ca4
2020-12-03 07:19:52,861 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:<init>(497)) - The ping interval is 60000 ms.
2020-12-03 07:19:52,861 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(795)) - Connecting to /127.0.0.1:36744
2020-12-03 07:19:52,862 [IPC Server listener on 0] DEBUG ipc.Server (Server.java:register(3727)) - Server connection from 127.0.0.1:49910; # active connections: 1; # queued calls: 0
2020-12-03 07:19:52,862 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: NEGOTIATE

2020-12-03 07:19:52,865 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:52,866 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:create(175)) - Created SASL server with mechanism = DIGEST-MD5
2020-12-03 07:19:52,866 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49910
2020-12-03 07:19:52,866 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49910 Wrote 194 bytes.
2020-12-03 07:19:52,867 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:getServerToken(268)) - Get token info proto:interface org.apache.hadoop.hdfs.protocolPB.ClientDatanodeProtocolPB info:@org.apache.hadoop.security.token.TokenInfo(value=class org.apache.hadoop.hdfs.security.token.block.BlockTokenSelector)
2020-12-03 07:19:52,868 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:createSaslClient(251)) - Creating SASL DIGEST-MD5(TOKEN)  client to authenticate to service at default
2020-12-03 07:19:52,869 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:selectSaslClient(177)) - Use TOKEN authentication for protocol ClientDatanodeProtocolPB
2020-12-03 07:19:52,869 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(678)) - SASL client callback: setting username: CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=
2020-12-03 07:19:52,869 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(683)) - SASL client callback: setting userPassword
2020-12-03 07:19:52,869 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(688)) - SASL client callback: setting realm: default
2020-12-03 07:19:52,870 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: INITIATE
token: "charset=utf-8,username=\"CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=\",realm=\"default\",nonce=\"8zfxQBNIkwDkn41zrqMxvgOauhygkZC4vfh47nEG\",nc=00000001,cnonce=\"jVn/QguxxxE2imDtp0cW0OE+0p+7bZHqccRLAmZg\",digest-uri=\"/default\",maxbuf=65536,response=24cb2d24f02bfdb6979619985c4c58c1,qop=auth"
auths {
  method: "TOKEN"
  mechanism: "DIGEST-MD5"
  protocol: ""
  serverId: "default"
}

2020-12-03 07:19:52,871 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:52,871 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processSaslToken(2112)) - Have read input token of size 298 for processing by saslServer.evaluateResponse()
2020-12-03 07:19:52,872 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(310)) - SASL server DIGEST-MD5 callback: setting password for client: root (auth:SIMPLE)
2020-12-03 07:19:52,872 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(328)) - SASL server DIGEST-MD5 callback: setting canonicalized client ID: root
2020-12-03 07:19:52,872 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:buildSaslResponse(2129)) - Will send SUCCESS token of size 40 from saslServer.
2020-12-03 07:19:52,872 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2000)) - SASL server context established. Negotiated QoP is auth
2020-12-03 07:19:52,873 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2005)) - SASL server successfully authenticated client: root (auth:SIMPLE)
2020-12-03 07:19:52,873 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:saslProcess(2008)) - Auth successful for root (auth:SIMPLE)
2020-12-03 07:19:52,873 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49910
2020-12-03 07:19:52,873 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49910 Wrote 64 bytes.
2020-12-03 07:19:52,876 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(837)) - Negotiated QOP is :auth
2020-12-03 07:19:52,883 [IPC Parameter Sending Thread #0] DEBUG ipc.Client (Client.java:run(1137)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 sending #20 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength
2020-12-03 07:19:52,884 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1074)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: starting, having connections 1
2020-12-03 07:19:52,885 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-3
2020-12-03 07:19:52,886 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:authorizeConnection(2750)) - Successfully authorized userInfo {
}
protocol: "org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol"

2020-12-03 07:19:52,886 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #20
2020-12-03 07:19:52,886 [IPC Server handler 0 on default port 36744] DEBUG ipc.Server (Server.java:run(2902)) - IPC Server handler 0 on default port 36744: Call#20 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49910 for RpcKind RPC_PROTOCOL_BUFFER
2020-12-03 07:19:52,886 [IPC Server handler 0 on default port 36744] INFO  ipc.Server (ProtobufRpcEngine.java:call(505)) - Call: connectionProtocolName=org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol, method=getReplicaVisibleLength
2020-12-03 07:19:52,887 [IPC Server handler 0 on default port 36744] INFO  block.TestBlockToken (TestBlockToken.java:answer(151)) - Got: block_token_identifier (expiryDate=1606980111387, keyId=57518194, userId=root, blockPoolId=-10, blockId=-108, access modes=[READ, WRITE, COPY, REPLACE], storageTypes= [DISK], storageIds= [])
2020-12-03 07:19:52,887 [IPC Server handler 0 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1615)) - IPC Server handler 0 on default port 36744: responding to Call#20 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49910
2020-12-03 07:19:52,888 [IPC Server handler 0 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1634)) - IPC Server handler 0 on default port 36744: responding to Call#20 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49910 Wrote 43 bytes.
2020-12-03 07:19:52,888 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:receiveRpcResponse(1191)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 got value #20
2020-12-03 07:19:52,888 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:close(1283)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: closed
2020-12-03 07:19:52,888 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(97)) - stopping client from cache: org.apache.hadoop.ipc.Client@24959ca4
2020-12-03 07:19:52,888 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1092)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: stopped, remaining connections 0
2020-12-03 07:19:52,888 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(103)) - removing client from cache: org.apache.hadoop.ipc.Client@24959ca4
2020-12-03 07:19:52,889 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(110)) - stopping actual client because no more references remain: org.apache.hadoop.ipc.Client@24959ca4
2020-12-03 07:19:52,889 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:stop(1340)) - Stopping client
2020-12-03 07:19:52,889 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:close(3738)) - Socket Reader #1 for port 0: disconnecting client 127.0.0.1:49910. Number of active connections: 0
2020-12-03 07:19:52,890 [Listener at 0.0.0.0/36744] INFO  block.TestBlockToken (TestBlockToken.java:testBlockTokenRpcLeak(407)) - Num open fds:164
2020-12-03 07:19:52,892 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:getClient(63)) - getting client out of cache: org.apache.hadoop.ipc.Client@2438dcd
2020-12-03 07:19:52,892 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:<init>(497)) - The ping interval is 60000 ms.
2020-12-03 07:19:52,893 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(795)) - Connecting to /127.0.0.1:36744
2020-12-03 07:19:52,893 [IPC Server listener on 0] DEBUG ipc.Server (Server.java:register(3727)) - Server connection from 127.0.0.1:49914; # active connections: 1; # queued calls: 0
2020-12-03 07:19:52,894 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: NEGOTIATE

2020-12-03 07:19:52,894 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:52,895 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:create(175)) - Created SASL server with mechanism = DIGEST-MD5
2020-12-03 07:19:52,895 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49914
2020-12-03 07:19:52,895 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49914 Wrote 194 bytes.
2020-12-03 07:19:52,896 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:getServerToken(268)) - Get token info proto:interface org.apache.hadoop.hdfs.protocolPB.ClientDatanodeProtocolPB info:@org.apache.hadoop.security.token.TokenInfo(value=class org.apache.hadoop.hdfs.security.token.block.BlockTokenSelector)
2020-12-03 07:19:52,896 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:createSaslClient(251)) - Creating SASL DIGEST-MD5(TOKEN)  client to authenticate to service at default
2020-12-03 07:19:52,897 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:selectSaslClient(177)) - Use TOKEN authentication for protocol ClientDatanodeProtocolPB
2020-12-03 07:19:52,897 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(678)) - SASL client callback: setting username: CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=
2020-12-03 07:19:52,897 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(683)) - SASL client callback: setting userPassword
2020-12-03 07:19:52,898 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(688)) - SASL client callback: setting realm: default
2020-12-03 07:19:52,899 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: INITIATE
token: "charset=utf-8,username=\"CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=\",realm=\"default\",nonce=\"+/lURJdMCjey3Nw2F23IVqPmqgI7grmzHo8YpRa9\",nc=00000001,cnonce=\"KOSlpbnALiThaUP5VG89lkc+bfn30NcU5/RfHBkK\",digest-uri=\"/default\",maxbuf=65536,response=1935f7d295da4c1e55991c8bbd321879,qop=auth"
auths {
  method: "TOKEN"
  mechanism: "DIGEST-MD5"
  protocol: ""
  serverId: "default"
}

2020-12-03 07:19:52,899 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:52,899 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processSaslToken(2112)) - Have read input token of size 298 for processing by saslServer.evaluateResponse()
2020-12-03 07:19:52,900 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(310)) - SASL server DIGEST-MD5 callback: setting password for client: root (auth:SIMPLE)
2020-12-03 07:19:52,901 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(328)) - SASL server DIGEST-MD5 callback: setting canonicalized client ID: root
2020-12-03 07:19:52,901 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:buildSaslResponse(2129)) - Will send SUCCESS token of size 40 from saslServer.
2020-12-03 07:19:52,901 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2000)) - SASL server context established. Negotiated QoP is auth
2020-12-03 07:19:52,902 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2005)) - SASL server successfully authenticated client: root (auth:SIMPLE)
2020-12-03 07:19:52,902 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:saslProcess(2008)) - Auth successful for root (auth:SIMPLE)
2020-12-03 07:19:52,902 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49914
2020-12-03 07:19:52,902 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49914 Wrote 64 bytes.
2020-12-03 07:19:52,903 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(837)) - Negotiated QOP is :auth
2020-12-03 07:19:52,903 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1074)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: starting, having connections 1
2020-12-03 07:19:52,903 [IPC Parameter Sending Thread #0] DEBUG ipc.Client (Client.java:run(1137)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 sending #21 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength
2020-12-03 07:19:52,904 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-3
2020-12-03 07:19:52,904 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:authorizeConnection(2750)) - Successfully authorized userInfo {
}
protocol: "org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol"

2020-12-03 07:19:52,904 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #21
2020-12-03 07:19:52,905 [IPC Server handler 1 on default port 36744] DEBUG ipc.Server (Server.java:run(2902)) - IPC Server handler 1 on default port 36744: Call#21 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49914 for RpcKind RPC_PROTOCOL_BUFFER
2020-12-03 07:19:52,905 [IPC Server handler 1 on default port 36744] INFO  ipc.Server (ProtobufRpcEngine.java:call(505)) - Call: connectionProtocolName=org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol, method=getReplicaVisibleLength
2020-12-03 07:19:52,906 [IPC Server handler 1 on default port 36744] INFO  block.TestBlockToken (TestBlockToken.java:answer(151)) - Got: block_token_identifier (expiryDate=1606980111387, keyId=57518194, userId=root, blockPoolId=-10, blockId=-108, access modes=[READ, WRITE, COPY, REPLACE], storageTypes= [DISK], storageIds= [])
2020-12-03 07:19:52,906 [IPC Server handler 1 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1615)) - IPC Server handler 1 on default port 36744: responding to Call#21 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49914
2020-12-03 07:19:52,907 [IPC Server handler 1 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1634)) - IPC Server handler 1 on default port 36744: responding to Call#21 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49914 Wrote 43 bytes.
2020-12-03 07:19:52,907 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:receiveRpcResponse(1191)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 got value #21
2020-12-03 07:19:52,907 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:close(1283)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: closed
2020-12-03 07:19:52,907 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1092)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: stopped, remaining connections 0
2020-12-03 07:19:52,907 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(97)) - stopping client from cache: org.apache.hadoop.ipc.Client@2438dcd
2020-12-03 07:19:52,908 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(103)) - removing client from cache: org.apache.hadoop.ipc.Client@2438dcd
2020-12-03 07:19:52,908 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(110)) - stopping actual client because no more references remain: org.apache.hadoop.ipc.Client@2438dcd
2020-12-03 07:19:52,908 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:stop(1340)) - Stopping client
2020-12-03 07:19:52,909 [Listener at 0.0.0.0/36744] INFO  block.TestBlockToken (TestBlockToken.java:testBlockTokenRpcLeak(407)) - Num open fds:164
2020-12-03 07:19:52,909 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:close(3738)) - Socket Reader #1 for port 0: disconnecting client 127.0.0.1:49914. Number of active connections: 0
2020-12-03 07:19:52,910 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:getClient(63)) - getting client out of cache: org.apache.hadoop.ipc.Client@1a5b6f42
2020-12-03 07:19:52,911 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:<init>(497)) - The ping interval is 60000 ms.
2020-12-03 07:19:52,911 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(795)) - Connecting to /127.0.0.1:36744
2020-12-03 07:19:52,912 [IPC Server listener on 0] DEBUG ipc.Server (Server.java:register(3727)) - Server connection from 127.0.0.1:49918; # active connections: 1; # queued calls: 0
2020-12-03 07:19:52,912 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: NEGOTIATE

2020-12-03 07:19:52,913 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:52,913 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:create(175)) - Created SASL server with mechanism = DIGEST-MD5
2020-12-03 07:19:52,914 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49918
2020-12-03 07:19:52,914 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49918 Wrote 194 bytes.
2020-12-03 07:19:52,914 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:getServerToken(268)) - Get token info proto:interface org.apache.hadoop.hdfs.protocolPB.ClientDatanodeProtocolPB info:@org.apache.hadoop.security.token.TokenInfo(value=class org.apache.hadoop.hdfs.security.token.block.BlockTokenSelector)
2020-12-03 07:19:52,915 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:createSaslClient(251)) - Creating SASL DIGEST-MD5(TOKEN)  client to authenticate to service at default
2020-12-03 07:19:52,916 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:selectSaslClient(177)) - Use TOKEN authentication for protocol ClientDatanodeProtocolPB
2020-12-03 07:19:52,916 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(678)) - SASL client callback: setting username: CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=
2020-12-03 07:19:52,916 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(683)) - SASL client callback: setting userPassword
2020-12-03 07:19:52,916 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(688)) - SASL client callback: setting realm: default
2020-12-03 07:19:52,917 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: INITIATE
token: "charset=utf-8,username=\"CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=\",realm=\"default\",nonce=\"K/8f+/VBSOdTgAjTG5U//2cSqRhx/MGKsXGCjlg3\",nc=00000001,cnonce=\"QcNU1ShIfFjZp0JlP6UiLC+U4Qu++PXp+z/exT2a\",digest-uri=\"/default\",maxbuf=65536,response=337a286af06f39966f7e5bb4eb64dc4b,qop=auth"
auths {
  method: "TOKEN"
  mechanism: "DIGEST-MD5"
  protocol: ""
  serverId: "default"
}

2020-12-03 07:19:52,918 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:52,918 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processSaslToken(2112)) - Have read input token of size 298 for processing by saslServer.evaluateResponse()
2020-12-03 07:19:52,919 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(310)) - SASL server DIGEST-MD5 callback: setting password for client: root (auth:SIMPLE)
2020-12-03 07:19:52,919 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(328)) - SASL server DIGEST-MD5 callback: setting canonicalized client ID: root
2020-12-03 07:19:52,920 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:buildSaslResponse(2129)) - Will send SUCCESS token of size 40 from saslServer.
2020-12-03 07:19:52,920 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2000)) - SASL server context established. Negotiated QoP is auth
2020-12-03 07:19:52,920 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2005)) - SASL server successfully authenticated client: root (auth:SIMPLE)
2020-12-03 07:19:52,920 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:saslProcess(2008)) - Auth successful for root (auth:SIMPLE)
2020-12-03 07:19:52,920 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49918
2020-12-03 07:19:52,921 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49918 Wrote 64 bytes.
2020-12-03 07:19:52,921 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(837)) - Negotiated QOP is :auth
2020-12-03 07:19:52,921 [IPC Parameter Sending Thread #0] DEBUG ipc.Client (Client.java:run(1137)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 sending #22 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength
2020-12-03 07:19:52,922 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-3
2020-12-03 07:19:52,923 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:authorizeConnection(2750)) - Successfully authorized userInfo {
}
protocol: "org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol"

2020-12-03 07:19:52,923 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #22
2020-12-03 07:19:52,923 [IPC Server handler 3 on default port 36744] DEBUG ipc.Server (Server.java:run(2902)) - IPC Server handler 3 on default port 36744: Call#22 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49918 for RpcKind RPC_PROTOCOL_BUFFER
2020-12-03 07:19:52,923 [IPC Server handler 3 on default port 36744] INFO  ipc.Server (ProtobufRpcEngine.java:call(505)) - Call: connectionProtocolName=org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol, method=getReplicaVisibleLength
2020-12-03 07:19:53,038 [IPC Server handler 3 on default port 36744] INFO  block.TestBlockToken (TestBlockToken.java:answer(151)) - Got: block_token_identifier (expiryDate=1606980111387, keyId=57518194, userId=root, blockPoolId=-10, blockId=-108, access modes=[READ, WRITE, COPY, REPLACE], storageTypes= [DISK], storageIds= [])
2020-12-03 07:19:53,039 [IPC Server handler 3 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1615)) - IPC Server handler 3 on default port 36744: responding to Call#22 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49918
2020-12-03 07:19:53,039 [IPC Server handler 3 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1634)) - IPC Server handler 3 on default port 36744: responding to Call#22 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49918 Wrote 43 bytes.
2020-12-03 07:19:53,044 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1074)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: starting, having connections 1
2020-12-03 07:19:53,045 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:receiveRpcResponse(1191)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 got value #22
2020-12-03 07:19:53,045 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:close(1283)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: closed
2020-12-03 07:19:53,045 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:close(3738)) - Socket Reader #1 for port 0: disconnecting client 127.0.0.1:49918. Number of active connections: 0
2020-12-03 07:19:53,045 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1092)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: stopped, remaining connections 0
2020-12-03 07:19:53,045 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(97)) - stopping client from cache: org.apache.hadoop.ipc.Client@1a5b6f42
2020-12-03 07:19:53,046 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(103)) - removing client from cache: org.apache.hadoop.ipc.Client@1a5b6f42
2020-12-03 07:19:53,046 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(110)) - stopping actual client because no more references remain: org.apache.hadoop.ipc.Client@1a5b6f42
2020-12-03 07:19:53,046 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:stop(1340)) - Stopping client
2020-12-03 07:19:53,047 [Listener at 0.0.0.0/36744] INFO  block.TestBlockToken (TestBlockToken.java:testBlockTokenRpcLeak(407)) - Num open fds:163
2020-12-03 07:19:53,048 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:getClient(63)) - getting client out of cache: org.apache.hadoop.ipc.Client@74287ea3
2020-12-03 07:19:53,049 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:<init>(497)) - The ping interval is 60000 ms.
2020-12-03 07:19:53,049 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(795)) - Connecting to /127.0.0.1:36744
2020-12-03 07:19:53,049 [IPC Server listener on 0] DEBUG ipc.Server (Server.java:register(3727)) - Server connection from 127.0.0.1:49930; # active connections: 1; # queued calls: 0
2020-12-03 07:19:53,050 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: NEGOTIATE

2020-12-03 07:19:53,050 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:53,050 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:create(175)) - Created SASL server with mechanism = DIGEST-MD5
2020-12-03 07:19:53,051 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49930
2020-12-03 07:19:53,051 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49930 Wrote 194 bytes.
2020-12-03 07:19:53,051 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:getServerToken(268)) - Get token info proto:interface org.apache.hadoop.hdfs.protocolPB.ClientDatanodeProtocolPB info:@org.apache.hadoop.security.token.TokenInfo(value=class org.apache.hadoop.hdfs.security.token.block.BlockTokenSelector)
2020-12-03 07:19:53,052 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:createSaslClient(251)) - Creating SASL DIGEST-MD5(TOKEN)  client to authenticate to service at default
2020-12-03 07:19:53,052 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:selectSaslClient(177)) - Use TOKEN authentication for protocol ClientDatanodeProtocolPB
2020-12-03 07:19:53,053 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(678)) - SASL client callback: setting username: CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=
2020-12-03 07:19:53,053 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(683)) - SASL client callback: setting userPassword
2020-12-03 07:19:53,053 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(688)) - SASL client callback: setting realm: default
2020-12-03 07:19:53,054 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: INITIATE
token: "charset=utf-8,username=\"CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=\",realm=\"default\",nonce=\"S76L/hexmGkdgHTwNg0hr72Hon/OOhFIOuKyHiEe\",nc=00000001,cnonce=\"xouhyX5yLCqiERGUL8TTGgvYzc3h9PoApAMrZad/\",digest-uri=\"/default\",maxbuf=65536,response=1fa38247b822b0cbcb9685df78b696e9,qop=auth"
auths {
  method: "TOKEN"
  mechanism: "DIGEST-MD5"
  protocol: ""
  serverId: "default"
}

2020-12-03 07:19:53,054 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:53,054 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processSaslToken(2112)) - Have read input token of size 298 for processing by saslServer.evaluateResponse()
2020-12-03 07:19:53,055 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(310)) - SASL server DIGEST-MD5 callback: setting password for client: root (auth:SIMPLE)
2020-12-03 07:19:53,056 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(328)) - SASL server DIGEST-MD5 callback: setting canonicalized client ID: root
2020-12-03 07:19:53,056 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:buildSaslResponse(2129)) - Will send SUCCESS token of size 40 from saslServer.
2020-12-03 07:19:53,056 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2000)) - SASL server context established. Negotiated QoP is auth
2020-12-03 07:19:53,057 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2005)) - SASL server successfully authenticated client: root (auth:SIMPLE)
2020-12-03 07:19:53,057 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:saslProcess(2008)) - Auth successful for root (auth:SIMPLE)
2020-12-03 07:19:53,057 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49930
2020-12-03 07:19:53,057 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49930 Wrote 64 bytes.
2020-12-03 07:19:53,058 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(837)) - Negotiated QOP is :auth
2020-12-03 07:19:53,058 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1074)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: starting, having connections 1
2020-12-03 07:19:53,058 [IPC Parameter Sending Thread #0] DEBUG ipc.Client (Client.java:run(1137)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 sending #23 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength
2020-12-03 07:19:53,059 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-3
2020-12-03 07:19:53,059 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:authorizeConnection(2750)) - Successfully authorized userInfo {
}
protocol: "org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol"

2020-12-03 07:19:53,059 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #23
2020-12-03 07:19:53,059 [IPC Server handler 2 on default port 36744] DEBUG ipc.Server (Server.java:run(2902)) - IPC Server handler 2 on default port 36744: Call#23 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49930 for RpcKind RPC_PROTOCOL_BUFFER
2020-12-03 07:19:53,060 [IPC Server handler 2 on default port 36744] INFO  ipc.Server (ProtobufRpcEngine.java:call(505)) - Call: connectionProtocolName=org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol, method=getReplicaVisibleLength
2020-12-03 07:19:53,060 [IPC Server handler 2 on default port 36744] INFO  block.TestBlockToken (TestBlockToken.java:answer(151)) - Got: block_token_identifier (expiryDate=1606980111387, keyId=57518194, userId=root, blockPoolId=-10, blockId=-108, access modes=[READ, WRITE, COPY, REPLACE], storageTypes= [DISK], storageIds= [])
2020-12-03 07:19:53,061 [IPC Server handler 2 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1615)) - IPC Server handler 2 on default port 36744: responding to Call#23 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49930
2020-12-03 07:19:53,061 [IPC Server handler 2 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1634)) - IPC Server handler 2 on default port 36744: responding to Call#23 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49930 Wrote 43 bytes.
2020-12-03 07:19:53,061 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:receiveRpcResponse(1191)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 got value #23
2020-12-03 07:19:53,061 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(97)) - stopping client from cache: org.apache.hadoop.ipc.Client@74287ea3
2020-12-03 07:19:53,061 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:close(1283)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: closed
2020-12-03 07:19:53,061 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:close(3738)) - Socket Reader #1 for port 0: disconnecting client 127.0.0.1:49930. Number of active connections: 0
2020-12-03 07:19:53,061 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(103)) - removing client from cache: org.apache.hadoop.ipc.Client@74287ea3
2020-12-03 07:19:53,062 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1092)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: stopped, remaining connections 0
2020-12-03 07:19:53,062 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(110)) - stopping actual client because no more references remain: org.apache.hadoop.ipc.Client@74287ea3
2020-12-03 07:19:53,062 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:stop(1340)) - Stopping client
2020-12-03 07:19:53,063 [Listener at 0.0.0.0/36744] INFO  block.TestBlockToken (TestBlockToken.java:testBlockTokenRpcLeak(407)) - Num open fds:163
2020-12-03 07:19:53,065 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:getClient(63)) - getting client out of cache: org.apache.hadoop.ipc.Client@22f59fa
2020-12-03 07:19:53,065 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:<init>(497)) - The ping interval is 60000 ms.
2020-12-03 07:19:53,066 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(795)) - Connecting to /127.0.0.1:36744
2020-12-03 07:19:53,066 [IPC Server listener on 0] DEBUG ipc.Server (Server.java:register(3727)) - Server connection from 127.0.0.1:49934; # active connections: 1; # queued calls: 0
2020-12-03 07:19:53,066 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: NEGOTIATE

2020-12-03 07:19:53,067 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:53,067 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:create(175)) - Created SASL server with mechanism = DIGEST-MD5
2020-12-03 07:19:53,067 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49934
2020-12-03 07:19:53,068 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49934 Wrote 194 bytes.
2020-12-03 07:19:53,068 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:getServerToken(268)) - Get token info proto:interface org.apache.hadoop.hdfs.protocolPB.ClientDatanodeProtocolPB info:@org.apache.hadoop.security.token.TokenInfo(value=class org.apache.hadoop.hdfs.security.token.block.BlockTokenSelector)
2020-12-03 07:19:53,068 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:createSaslClient(251)) - Creating SASL DIGEST-MD5(TOKEN)  client to authenticate to service at default
2020-12-03 07:19:53,068 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:selectSaslClient(177)) - Use TOKEN authentication for protocol ClientDatanodeProtocolPB
2020-12-03 07:19:53,069 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(678)) - SASL client callback: setting username: CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=
2020-12-03 07:19:53,069 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(683)) - SASL client callback: setting userPassword
2020-12-03 07:19:53,069 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(688)) - SASL client callback: setting realm: default
2020-12-03 07:19:53,070 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: INITIATE
token: "charset=utf-8,username=\"CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=\",realm=\"default\",nonce=\"XGE1Gw3xvGdqQBLLDDRPnlvkBEJ84NWG+ViV0wXP\",nc=00000001,cnonce=\"DpkaflXUnm08tJvLdDucPLZ09uM3RfxQnpYZVy8j\",digest-uri=\"/default\",maxbuf=65536,response=87b3c51f3347dfba867ee4a36729b921,qop=auth"
auths {
  method: "TOKEN"
  mechanism: "DIGEST-MD5"
  protocol: ""
  serverId: "default"
}

2020-12-03 07:19:53,070 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:53,070 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processSaslToken(2112)) - Have read input token of size 298 for processing by saslServer.evaluateResponse()
2020-12-03 07:19:53,071 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(310)) - SASL server DIGEST-MD5 callback: setting password for client: root (auth:SIMPLE)
2020-12-03 07:19:53,072 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(328)) - SASL server DIGEST-MD5 callback: setting canonicalized client ID: root
2020-12-03 07:19:53,072 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:buildSaslResponse(2129)) - Will send SUCCESS token of size 40 from saslServer.
2020-12-03 07:19:53,072 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2000)) - SASL server context established. Negotiated QoP is auth
2020-12-03 07:19:53,072 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2005)) - SASL server successfully authenticated client: root (auth:SIMPLE)
2020-12-03 07:19:53,072 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:saslProcess(2008)) - Auth successful for root (auth:SIMPLE)
2020-12-03 07:19:53,073 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49934
2020-12-03 07:19:53,073 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49934 Wrote 64 bytes.
2020-12-03 07:19:53,074 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(837)) - Negotiated QOP is :auth
2020-12-03 07:19:53,074 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1074)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: starting, having connections 1
2020-12-03 07:19:53,074 [IPC Parameter Sending Thread #0] DEBUG ipc.Client (Client.java:run(1137)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 sending #24 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength
2020-12-03 07:19:53,077 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-3
2020-12-03 07:19:53,078 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:authorizeConnection(2750)) - Successfully authorized userInfo {
}
protocol: "org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol"

2020-12-03 07:19:53,078 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #24
2020-12-03 07:19:53,078 [IPC Server handler 4 on default port 36744] DEBUG ipc.Server (Server.java:run(2902)) - IPC Server handler 4 on default port 36744: Call#24 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49934 for RpcKind RPC_PROTOCOL_BUFFER
2020-12-03 07:19:53,079 [IPC Server handler 4 on default port 36744] INFO  ipc.Server (ProtobufRpcEngine.java:call(505)) - Call: connectionProtocolName=org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol, method=getReplicaVisibleLength
2020-12-03 07:19:53,079 [IPC Server handler 4 on default port 36744] INFO  block.TestBlockToken (TestBlockToken.java:answer(151)) - Got: block_token_identifier (expiryDate=1606980111387, keyId=57518194, userId=root, blockPoolId=-10, blockId=-108, access modes=[READ, WRITE, COPY, REPLACE], storageTypes= [DISK], storageIds= [])
2020-12-03 07:19:53,080 [IPC Server handler 4 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1615)) - IPC Server handler 4 on default port 36744: responding to Call#24 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49934
2020-12-03 07:19:53,080 [IPC Server handler 4 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1634)) - IPC Server handler 4 on default port 36744: responding to Call#24 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49934 Wrote 43 bytes.
2020-12-03 07:19:53,080 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:receiveRpcResponse(1191)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 got value #24
2020-12-03 07:19:53,081 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(97)) - stopping client from cache: org.apache.hadoop.ipc.Client@22f59fa
2020-12-03 07:19:53,081 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:close(3738)) - Socket Reader #1 for port 0: disconnecting client 127.0.0.1:49934. Number of active connections: 0
2020-12-03 07:19:53,081 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:close(1283)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: closed
2020-12-03 07:19:53,081 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1092)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: stopped, remaining connections 0
2020-12-03 07:19:53,081 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(103)) - removing client from cache: org.apache.hadoop.ipc.Client@22f59fa
2020-12-03 07:19:53,082 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(110)) - stopping actual client because no more references remain: org.apache.hadoop.ipc.Client@22f59fa
2020-12-03 07:19:53,082 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:stop(1340)) - Stopping client
2020-12-03 07:19:53,083 [Listener at 0.0.0.0/36744] INFO  block.TestBlockToken (TestBlockToken.java:testBlockTokenRpcLeak(407)) - Num open fds:163
2020-12-03 07:19:53,085 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:getClient(63)) - getting client out of cache: org.apache.hadoop.ipc.Client@9cb8225
2020-12-03 07:19:53,085 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:<init>(497)) - The ping interval is 60000 ms.
2020-12-03 07:19:53,086 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(795)) - Connecting to /127.0.0.1:36744
2020-12-03 07:19:53,086 [IPC Server listener on 0] DEBUG ipc.Server (Server.java:register(3727)) - Server connection from 127.0.0.1:49938; # active connections: 1; # queued calls: 0
2020-12-03 07:19:53,087 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: NEGOTIATE

2020-12-03 07:19:53,087 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:53,087 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:create(175)) - Created SASL server with mechanism = DIGEST-MD5
2020-12-03 07:19:53,088 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49938
2020-12-03 07:19:53,088 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49938 Wrote 194 bytes.
2020-12-03 07:19:53,088 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:getServerToken(268)) - Get token info proto:interface org.apache.hadoop.hdfs.protocolPB.ClientDatanodeProtocolPB info:@org.apache.hadoop.security.token.TokenInfo(value=class org.apache.hadoop.hdfs.security.token.block.BlockTokenSelector)
2020-12-03 07:19:53,089 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:createSaslClient(251)) - Creating SASL DIGEST-MD5(TOKEN)  client to authenticate to service at default
2020-12-03 07:19:53,090 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:selectSaslClient(177)) - Use TOKEN authentication for protocol ClientDatanodeProtocolPB
2020-12-03 07:19:53,090 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(678)) - SASL client callback: setting username: CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=
2020-12-03 07:19:53,090 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(683)) - SASL client callback: setting userPassword
2020-12-03 07:19:53,090 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(688)) - SASL client callback: setting realm: default
2020-12-03 07:19:53,091 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: INITIATE
token: "charset=utf-8,username=\"CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=\",realm=\"default\",nonce=\"OekPOAdVnWxEXmzg1AItXDXB2/tiZpVVs/MfG8Z7\",nc=00000001,cnonce=\"s7pqwOtvB94HiJdkggw7rp+bhL3K36+1degFl97n\",digest-uri=\"/default\",maxbuf=65536,response=bb8e201fb3ea7babf7c828ab9d3fc7cd,qop=auth"
auths {
  method: "TOKEN"
  mechanism: "DIGEST-MD5"
  protocol: ""
  serverId: "default"
}

2020-12-03 07:19:53,096 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:53,096 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processSaslToken(2112)) - Have read input token of size 298 for processing by saslServer.evaluateResponse()
2020-12-03 07:19:53,099 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(310)) - SASL server DIGEST-MD5 callback: setting password for client: root (auth:SIMPLE)
2020-12-03 07:19:53,100 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(328)) - SASL server DIGEST-MD5 callback: setting canonicalized client ID: root
2020-12-03 07:19:53,100 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:buildSaslResponse(2129)) - Will send SUCCESS token of size 40 from saslServer.
2020-12-03 07:19:53,100 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2000)) - SASL server context established. Negotiated QoP is auth
2020-12-03 07:19:53,101 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2005)) - SASL server successfully authenticated client: root (auth:SIMPLE)
2020-12-03 07:19:53,101 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:saslProcess(2008)) - Auth successful for root (auth:SIMPLE)
2020-12-03 07:19:53,101 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49938
2020-12-03 07:19:53,101 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49938 Wrote 64 bytes.
2020-12-03 07:19:53,102 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(837)) - Negotiated QOP is :auth
2020-12-03 07:19:53,109 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1074)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: starting, having connections 1
2020-12-03 07:19:53,109 [IPC Parameter Sending Thread #0] DEBUG ipc.Client (Client.java:run(1137)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 sending #25 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength
2020-12-03 07:19:53,110 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-3
2020-12-03 07:19:53,110 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:authorizeConnection(2750)) - Successfully authorized userInfo {
}
protocol: "org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol"

2020-12-03 07:19:53,110 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #25
2020-12-03 07:19:53,110 [IPC Server handler 0 on default port 36744] DEBUG ipc.Server (Server.java:run(2902)) - IPC Server handler 0 on default port 36744: Call#25 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49938 for RpcKind RPC_PROTOCOL_BUFFER
2020-12-03 07:19:53,111 [IPC Server handler 0 on default port 36744] INFO  ipc.Server (ProtobufRpcEngine.java:call(505)) - Call: connectionProtocolName=org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol, method=getReplicaVisibleLength
2020-12-03 07:19:53,111 [IPC Server handler 0 on default port 36744] INFO  block.TestBlockToken (TestBlockToken.java:answer(151)) - Got: block_token_identifier (expiryDate=1606980111387, keyId=57518194, userId=root, blockPoolId=-10, blockId=-108, access modes=[READ, WRITE, COPY, REPLACE], storageTypes= [DISK], storageIds= [])
2020-12-03 07:19:53,112 [IPC Server handler 0 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1615)) - IPC Server handler 0 on default port 36744: responding to Call#25 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49938
2020-12-03 07:19:53,112 [IPC Server handler 0 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1634)) - IPC Server handler 0 on default port 36744: responding to Call#25 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49938 Wrote 43 bytes.
2020-12-03 07:19:53,112 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:receiveRpcResponse(1191)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 got value #25
2020-12-03 07:19:53,113 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:close(1283)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: closed
2020-12-03 07:19:53,113 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1092)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: stopped, remaining connections 0
2020-12-03 07:19:53,113 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:close(3738)) - Socket Reader #1 for port 0: disconnecting client 127.0.0.1:49938. Number of active connections: 0
2020-12-03 07:19:53,115 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(97)) - stopping client from cache: org.apache.hadoop.ipc.Client@9cb8225
2020-12-03 07:19:53,116 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(103)) - removing client from cache: org.apache.hadoop.ipc.Client@9cb8225
2020-12-03 07:19:53,116 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(110)) - stopping actual client because no more references remain: org.apache.hadoop.ipc.Client@9cb8225
2020-12-03 07:19:53,117 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:stop(1340)) - Stopping client
2020-12-03 07:19:53,118 [Listener at 0.0.0.0/36744] INFO  block.TestBlockToken (TestBlockToken.java:testBlockTokenRpcLeak(407)) - Num open fds:163
2020-12-03 07:19:53,119 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:getClient(63)) - getting client out of cache: org.apache.hadoop.ipc.Client@3e62d773
2020-12-03 07:19:53,120 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:<init>(497)) - The ping interval is 60000 ms.
2020-12-03 07:19:53,120 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(795)) - Connecting to /127.0.0.1:36744
2020-12-03 07:19:53,121 [IPC Server listener on 0] DEBUG ipc.Server (Server.java:register(3727)) - Server connection from 127.0.0.1:49942; # active connections: 1; # queued calls: 0
2020-12-03 07:19:53,121 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: NEGOTIATE

2020-12-03 07:19:53,121 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:53,122 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:create(175)) - Created SASL server with mechanism = DIGEST-MD5
2020-12-03 07:19:53,122 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49942
2020-12-03 07:19:53,122 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49942 Wrote 194 bytes.
2020-12-03 07:19:53,122 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:getServerToken(268)) - Get token info proto:interface org.apache.hadoop.hdfs.protocolPB.ClientDatanodeProtocolPB info:@org.apache.hadoop.security.token.TokenInfo(value=class org.apache.hadoop.hdfs.security.token.block.BlockTokenSelector)
2020-12-03 07:19:53,123 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:createSaslClient(251)) - Creating SASL DIGEST-MD5(TOKEN)  client to authenticate to service at default
2020-12-03 07:19:53,124 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:selectSaslClient(177)) - Use TOKEN authentication for protocol ClientDatanodeProtocolPB
2020-12-03 07:19:53,124 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(678)) - SASL client callback: setting username: CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=
2020-12-03 07:19:53,124 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(683)) - SASL client callback: setting userPassword
2020-12-03 07:19:53,125 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(688)) - SASL client callback: setting realm: default
2020-12-03 07:19:53,125 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: INITIATE
token: "charset=utf-8,username=\"CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=\",realm=\"default\",nonce=\"R7urNzFzxoMOcUFtuSUf1/P5BGalxEEdqmCz9xEV\",nc=00000001,cnonce=\"xFI/95yGitqwAf09H3sSR4KCtRjr5T0WKXrW0xGE\",digest-uri=\"/default\",maxbuf=65536,response=2151c5630f7d51e9f0e57ebcc46adc4c,qop=auth"
auths {
  method: "TOKEN"
  mechanism: "DIGEST-MD5"
  protocol: ""
  serverId: "default"
}

2020-12-03 07:19:53,126 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:53,126 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processSaslToken(2112)) - Have read input token of size 298 for processing by saslServer.evaluateResponse()
2020-12-03 07:19:53,127 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(310)) - SASL server DIGEST-MD5 callback: setting password for client: root (auth:SIMPLE)
2020-12-03 07:19:53,127 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(328)) - SASL server DIGEST-MD5 callback: setting canonicalized client ID: root
2020-12-03 07:19:53,128 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:buildSaslResponse(2129)) - Will send SUCCESS token of size 40 from saslServer.
2020-12-03 07:19:53,128 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2000)) - SASL server context established. Negotiated QoP is auth
2020-12-03 07:19:53,128 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2005)) - SASL server successfully authenticated client: root (auth:SIMPLE)
2020-12-03 07:19:53,128 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:saslProcess(2008)) - Auth successful for root (auth:SIMPLE)
2020-12-03 07:19:53,129 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49942
2020-12-03 07:19:53,129 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49942 Wrote 64 bytes.
2020-12-03 07:19:53,129 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(837)) - Negotiated QOP is :auth
2020-12-03 07:19:53,130 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1074)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: starting, having connections 1
2020-12-03 07:19:53,131 [IPC Parameter Sending Thread #0] DEBUG ipc.Client (Client.java:run(1137)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 sending #26 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength
2020-12-03 07:19:53,131 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-3
2020-12-03 07:19:53,131 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:authorizeConnection(2750)) - Successfully authorized userInfo {
}
protocol: "org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol"

2020-12-03 07:19:53,131 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #26
2020-12-03 07:19:53,134 [IPC Server handler 1 on default port 36744] DEBUG ipc.Server (Server.java:run(2902)) - IPC Server handler 1 on default port 36744: Call#26 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49942 for RpcKind RPC_PROTOCOL_BUFFER
2020-12-03 07:19:53,134 [IPC Server handler 1 on default port 36744] INFO  ipc.Server (ProtobufRpcEngine.java:call(505)) - Call: connectionProtocolName=org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol, method=getReplicaVisibleLength
2020-12-03 07:19:53,135 [IPC Server handler 1 on default port 36744] INFO  block.TestBlockToken (TestBlockToken.java:answer(151)) - Got: block_token_identifier (expiryDate=1606980111387, keyId=57518194, userId=root, blockPoolId=-10, blockId=-108, access modes=[READ, WRITE, COPY, REPLACE], storageTypes= [DISK], storageIds= [])
2020-12-03 07:19:53,135 [IPC Server handler 1 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1615)) - IPC Server handler 1 on default port 36744: responding to Call#26 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49942
2020-12-03 07:19:53,135 [IPC Server handler 1 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1634)) - IPC Server handler 1 on default port 36744: responding to Call#26 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49942 Wrote 43 bytes.
2020-12-03 07:19:53,136 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:receiveRpcResponse(1191)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 got value #26
2020-12-03 07:19:53,136 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:close(1283)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: closed
2020-12-03 07:19:53,136 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1092)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: stopped, remaining connections 0
2020-12-03 07:19:53,136 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:close(3738)) - Socket Reader #1 for port 0: disconnecting client 127.0.0.1:49942. Number of active connections: 0
2020-12-03 07:19:53,143 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(97)) - stopping client from cache: org.apache.hadoop.ipc.Client@3e62d773
2020-12-03 07:19:53,143 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(103)) - removing client from cache: org.apache.hadoop.ipc.Client@3e62d773
2020-12-03 07:19:53,143 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(110)) - stopping actual client because no more references remain: org.apache.hadoop.ipc.Client@3e62d773
2020-12-03 07:19:53,144 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:stop(1340)) - Stopping client
2020-12-03 07:19:53,147 [Listener at 0.0.0.0/36744] INFO  block.TestBlockToken (TestBlockToken.java:testBlockTokenRpcLeak(407)) - Num open fds:163
2020-12-03 07:19:53,149 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:getClient(63)) - getting client out of cache: org.apache.hadoop.ipc.Client@3cce57c7
2020-12-03 07:19:53,149 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:<init>(497)) - The ping interval is 60000 ms.
2020-12-03 07:19:53,150 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(795)) - Connecting to /127.0.0.1:36744
2020-12-03 07:19:53,151 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: NEGOTIATE

2020-12-03 07:19:53,152 [IPC Server listener on 0] DEBUG ipc.Server (Server.java:register(3727)) - Server connection from 127.0.0.1:49946; # active connections: 1; # queued calls: 0
2020-12-03 07:19:53,153 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:53,153 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:create(175)) - Created SASL server with mechanism = DIGEST-MD5
2020-12-03 07:19:53,153 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49946
2020-12-03 07:19:53,154 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49946 Wrote 194 bytes.
2020-12-03 07:19:53,154 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:getServerToken(268)) - Get token info proto:interface org.apache.hadoop.hdfs.protocolPB.ClientDatanodeProtocolPB info:@org.apache.hadoop.security.token.TokenInfo(value=class org.apache.hadoop.hdfs.security.token.block.BlockTokenSelector)
2020-12-03 07:19:53,154 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:createSaslClient(251)) - Creating SASL DIGEST-MD5(TOKEN)  client to authenticate to service at default
2020-12-03 07:19:53,155 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:selectSaslClient(177)) - Use TOKEN authentication for protocol ClientDatanodeProtocolPB
2020-12-03 07:19:53,155 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(678)) - SASL client callback: setting username: CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=
2020-12-03 07:19:53,155 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(683)) - SASL client callback: setting userPassword
2020-12-03 07:19:53,156 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(688)) - SASL client callback: setting realm: default
2020-12-03 07:19:53,156 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: INITIATE
token: "charset=utf-8,username=\"CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=\",realm=\"default\",nonce=\"A63Y/fquTTeP18Swjavcmzf3GH6AtHDvrGvxrggM\",nc=00000001,cnonce=\"eOwedktDJz73vaVLVxVcuqw5CP2PinnHR48NYlT9\",digest-uri=\"/default\",maxbuf=65536,response=f38511c328e2b4277afd1e4acf63fcf2,qop=auth"
auths {
  method: "TOKEN"
  mechanism: "DIGEST-MD5"
  protocol: ""
  serverId: "default"
}

2020-12-03 07:19:53,157 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:53,157 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processSaslToken(2112)) - Have read input token of size 298 for processing by saslServer.evaluateResponse()
2020-12-03 07:19:53,158 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(310)) - SASL server DIGEST-MD5 callback: setting password for client: root (auth:SIMPLE)
2020-12-03 07:19:53,158 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(328)) - SASL server DIGEST-MD5 callback: setting canonicalized client ID: root
2020-12-03 07:19:53,159 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:buildSaslResponse(2129)) - Will send SUCCESS token of size 40 from saslServer.
2020-12-03 07:19:53,159 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2000)) - SASL server context established. Negotiated QoP is auth
2020-12-03 07:19:53,159 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2005)) - SASL server successfully authenticated client: root (auth:SIMPLE)
2020-12-03 07:19:53,159 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:saslProcess(2008)) - Auth successful for root (auth:SIMPLE)
2020-12-03 07:19:53,159 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49946
2020-12-03 07:19:53,160 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49946 Wrote 64 bytes.
2020-12-03 07:19:53,160 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(837)) - Negotiated QOP is :auth
2020-12-03 07:19:53,160 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1074)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: starting, having connections 1
2020-12-03 07:19:53,160 [IPC Parameter Sending Thread #0] DEBUG ipc.Client (Client.java:run(1137)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 sending #27 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength
2020-12-03 07:19:53,161 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-3
2020-12-03 07:19:53,161 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:authorizeConnection(2750)) - Successfully authorized userInfo {
}
protocol: "org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol"

2020-12-03 07:19:53,161 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #27
2020-12-03 07:19:53,161 [IPC Server handler 3 on default port 36744] DEBUG ipc.Server (Server.java:run(2902)) - IPC Server handler 3 on default port 36744: Call#27 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49946 for RpcKind RPC_PROTOCOL_BUFFER
2020-12-03 07:19:53,162 [IPC Server handler 3 on default port 36744] INFO  ipc.Server (ProtobufRpcEngine.java:call(505)) - Call: connectionProtocolName=org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol, method=getReplicaVisibleLength
2020-12-03 07:19:53,162 [IPC Server handler 3 on default port 36744] INFO  block.TestBlockToken (TestBlockToken.java:answer(151)) - Got: block_token_identifier (expiryDate=1606980111387, keyId=57518194, userId=root, blockPoolId=-10, blockId=-108, access modes=[READ, WRITE, COPY, REPLACE], storageTypes= [DISK], storageIds= [])
2020-12-03 07:19:53,163 [IPC Server handler 3 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1615)) - IPC Server handler 3 on default port 36744: responding to Call#27 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49946
2020-12-03 07:19:53,163 [IPC Server handler 3 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1634)) - IPC Server handler 3 on default port 36744: responding to Call#27 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49946 Wrote 43 bytes.
2020-12-03 07:19:53,163 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:receiveRpcResponse(1191)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 got value #27
2020-12-03 07:19:53,163 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(97)) - stopping client from cache: org.apache.hadoop.ipc.Client@3cce57c7
2020-12-03 07:19:53,163 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:close(3738)) - Socket Reader #1 for port 0: disconnecting client 127.0.0.1:49946. Number of active connections: 0
2020-12-03 07:19:53,163 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:close(1283)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: closed
2020-12-03 07:19:53,163 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(103)) - removing client from cache: org.apache.hadoop.ipc.Client@3cce57c7
2020-12-03 07:19:53,164 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1092)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: stopped, remaining connections 0
2020-12-03 07:19:53,164 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(110)) - stopping actual client because no more references remain: org.apache.hadoop.ipc.Client@3cce57c7
2020-12-03 07:19:53,164 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:stop(1340)) - Stopping client
2020-12-03 07:19:53,165 [Listener at 0.0.0.0/36744] INFO  block.TestBlockToken (TestBlockToken.java:testBlockTokenRpcLeak(407)) - Num open fds:163
2020-12-03 07:19:53,166 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:getClient(63)) - getting client out of cache: org.apache.hadoop.ipc.Client@2ca26d77
2020-12-03 07:19:53,167 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:<init>(497)) - The ping interval is 60000 ms.
2020-12-03 07:19:53,167 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(795)) - Connecting to /127.0.0.1:36744
2020-12-03 07:19:53,167 [IPC Server listener on 0] DEBUG ipc.Server (Server.java:register(3727)) - Server connection from 127.0.0.1:49950; # active connections: 1; # queued calls: 0
2020-12-03 07:19:53,168 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: NEGOTIATE

2020-12-03 07:19:53,168 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:53,168 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:create(175)) - Created SASL server with mechanism = DIGEST-MD5
2020-12-03 07:19:53,169 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49950
2020-12-03 07:19:53,169 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49950 Wrote 194 bytes.
2020-12-03 07:19:53,169 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:getServerToken(268)) - Get token info proto:interface org.apache.hadoop.hdfs.protocolPB.ClientDatanodeProtocolPB info:@org.apache.hadoop.security.token.TokenInfo(value=class org.apache.hadoop.hdfs.security.token.block.BlockTokenSelector)
2020-12-03 07:19:53,169 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:createSaslClient(251)) - Creating SASL DIGEST-MD5(TOKEN)  client to authenticate to service at default
2020-12-03 07:19:53,170 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:selectSaslClient(177)) - Use TOKEN authentication for protocol ClientDatanodeProtocolPB
2020-12-03 07:19:53,170 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(678)) - SASL client callback: setting username: CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=
2020-12-03 07:19:53,170 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(683)) - SASL client callback: setting userPassword
2020-12-03 07:19:53,170 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(688)) - SASL client callback: setting realm: default
2020-12-03 07:19:53,171 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: INITIATE
token: "charset=utf-8,username=\"CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=\",realm=\"default\",nonce=\"Rt9DojNSBei0i6X3a4G147sZZenXNkUy1qDHLhZA\",nc=00000001,cnonce=\"GknX32zqnCxKvz7c0U1llf9Cg4Yumt34I1TasJ1F\",digest-uri=\"/default\",maxbuf=65536,response=0426d50a89d067d851bb222ec4cac201,qop=auth"
auths {
  method: "TOKEN"
  mechanism: "DIGEST-MD5"
  protocol: ""
  serverId: "default"
}

2020-12-03 07:19:53,171 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:53,171 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processSaslToken(2112)) - Have read input token of size 298 for processing by saslServer.evaluateResponse()
2020-12-03 07:19:53,172 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(310)) - SASL server DIGEST-MD5 callback: setting password for client: root (auth:SIMPLE)
2020-12-03 07:19:53,172 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(328)) - SASL server DIGEST-MD5 callback: setting canonicalized client ID: root
2020-12-03 07:19:53,173 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:buildSaslResponse(2129)) - Will send SUCCESS token of size 40 from saslServer.
2020-12-03 07:19:53,173 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2000)) - SASL server context established. Negotiated QoP is auth
2020-12-03 07:19:53,173 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2005)) - SASL server successfully authenticated client: root (auth:SIMPLE)
2020-12-03 07:19:53,173 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:saslProcess(2008)) - Auth successful for root (auth:SIMPLE)
2020-12-03 07:19:53,173 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49950
2020-12-03 07:19:53,174 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49950 Wrote 64 bytes.
2020-12-03 07:19:53,174 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(837)) - Negotiated QOP is :auth
2020-12-03 07:19:53,175 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1074)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: starting, having connections 1
2020-12-03 07:19:53,175 [IPC Parameter Sending Thread #0] DEBUG ipc.Client (Client.java:run(1137)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 sending #28 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength
2020-12-03 07:19:53,175 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-3
2020-12-03 07:19:53,175 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:authorizeConnection(2750)) - Successfully authorized userInfo {
}
protocol: "org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol"

2020-12-03 07:19:53,175 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #28
2020-12-03 07:19:53,176 [IPC Server handler 2 on default port 36744] DEBUG ipc.Server (Server.java:run(2902)) - IPC Server handler 2 on default port 36744: Call#28 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49950 for RpcKind RPC_PROTOCOL_BUFFER
2020-12-03 07:19:53,176 [IPC Server handler 2 on default port 36744] INFO  ipc.Server (ProtobufRpcEngine.java:call(505)) - Call: connectionProtocolName=org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol, method=getReplicaVisibleLength
2020-12-03 07:19:53,177 [IPC Server handler 2 on default port 36744] INFO  block.TestBlockToken (TestBlockToken.java:answer(151)) - Got: block_token_identifier (expiryDate=1606980111387, keyId=57518194, userId=root, blockPoolId=-10, blockId=-108, access modes=[READ, WRITE, COPY, REPLACE], storageTypes= [DISK], storageIds= [])
2020-12-03 07:19:53,177 [IPC Server handler 2 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1615)) - IPC Server handler 2 on default port 36744: responding to Call#28 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49950
2020-12-03 07:19:53,177 [IPC Server handler 2 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1634)) - IPC Server handler 2 on default port 36744: responding to Call#28 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49950 Wrote 43 bytes.
2020-12-03 07:19:53,177 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:receiveRpcResponse(1191)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 got value #28
2020-12-03 07:19:53,177 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(97)) - stopping client from cache: org.apache.hadoop.ipc.Client@2ca26d77
2020-12-03 07:19:53,177 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:close(3738)) - Socket Reader #1 for port 0: disconnecting client 127.0.0.1:49950. Number of active connections: 0
2020-12-03 07:19:53,177 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:close(1283)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: closed
2020-12-03 07:19:53,178 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1092)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: stopped, remaining connections 0
2020-12-03 07:19:53,178 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(103)) - removing client from cache: org.apache.hadoop.ipc.Client@2ca26d77
2020-12-03 07:19:53,178 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(110)) - stopping actual client because no more references remain: org.apache.hadoop.ipc.Client@2ca26d77
2020-12-03 07:19:53,178 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:stop(1340)) - Stopping client
2020-12-03 07:19:53,179 [Listener at 0.0.0.0/36744] INFO  block.TestBlockToken (TestBlockToken.java:testBlockTokenRpcLeak(407)) - Num open fds:163
2020-12-03 07:19:53,181 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:getClient(63)) - getting client out of cache: org.apache.hadoop.ipc.Client@35a3d49f
2020-12-03 07:19:53,181 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:<init>(497)) - The ping interval is 60000 ms.
2020-12-03 07:19:53,181 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(795)) - Connecting to /127.0.0.1:36744
2020-12-03 07:19:53,182 [IPC Server listener on 0] DEBUG ipc.Server (Server.java:register(3727)) - Server connection from 127.0.0.1:49952; # active connections: 1; # queued calls: 0
2020-12-03 07:19:53,182 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: NEGOTIATE

2020-12-03 07:19:53,183 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:53,183 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:create(175)) - Created SASL server with mechanism = DIGEST-MD5
2020-12-03 07:19:53,184 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49952
2020-12-03 07:19:53,184 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49952 Wrote 194 bytes.
2020-12-03 07:19:53,184 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:getServerToken(268)) - Get token info proto:interface org.apache.hadoop.hdfs.protocolPB.ClientDatanodeProtocolPB info:@org.apache.hadoop.security.token.TokenInfo(value=class org.apache.hadoop.hdfs.security.token.block.BlockTokenSelector)
2020-12-03 07:19:53,185 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:createSaslClient(251)) - Creating SASL DIGEST-MD5(TOKEN)  client to authenticate to service at default
2020-12-03 07:19:53,185 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:selectSaslClient(177)) - Use TOKEN authentication for protocol ClientDatanodeProtocolPB
2020-12-03 07:19:53,186 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(678)) - SASL client callback: setting username: CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=
2020-12-03 07:19:53,186 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(683)) - SASL client callback: setting userPassword
2020-12-03 07:19:53,186 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(688)) - SASL client callback: setting realm: default
2020-12-03 07:19:53,187 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: INITIATE
token: "charset=utf-8,username=\"CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=\",realm=\"default\",nonce=\"qm4rltCz3PkeHJuDO1rS809bLW388xa0WQhJWa/k\",nc=00000001,cnonce=\"OtcMqrYEN0EqoaRtdBsND2/cEsuajU6XXXunkf/I\",digest-uri=\"/default\",maxbuf=65536,response=bc9988a2572336d7e9bde2eaa6d7e96f,qop=auth"
auths {
  method: "TOKEN"
  mechanism: "DIGEST-MD5"
  protocol: ""
  serverId: "default"
}

2020-12-03 07:19:53,192 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:53,192 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processSaslToken(2112)) - Have read input token of size 298 for processing by saslServer.evaluateResponse()
2020-12-03 07:19:53,193 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(310)) - SASL server DIGEST-MD5 callback: setting password for client: root (auth:SIMPLE)
2020-12-03 07:19:53,193 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(328)) - SASL server DIGEST-MD5 callback: setting canonicalized client ID: root
2020-12-03 07:19:53,193 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:buildSaslResponse(2129)) - Will send SUCCESS token of size 40 from saslServer.
2020-12-03 07:19:53,194 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2000)) - SASL server context established. Negotiated QoP is auth
2020-12-03 07:19:53,194 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2005)) - SASL server successfully authenticated client: root (auth:SIMPLE)
2020-12-03 07:19:53,194 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:saslProcess(2008)) - Auth successful for root (auth:SIMPLE)
2020-12-03 07:19:53,194 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49952
2020-12-03 07:19:53,194 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49952 Wrote 64 bytes.
2020-12-03 07:19:53,195 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(837)) - Negotiated QOP is :auth
2020-12-03 07:19:53,197 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1074)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: starting, having connections 1
2020-12-03 07:19:53,199 [IPC Parameter Sending Thread #0] DEBUG ipc.Client (Client.java:run(1137)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 sending #29 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength
2020-12-03 07:19:53,200 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-3
2020-12-03 07:19:53,200 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:authorizeConnection(2750)) - Successfully authorized userInfo {
}
protocol: "org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol"

2020-12-03 07:19:53,201 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #29
2020-12-03 07:19:53,202 [IPC Server handler 4 on default port 36744] DEBUG ipc.Server (Server.java:run(2902)) - IPC Server handler 4 on default port 36744: Call#29 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49952 for RpcKind RPC_PROTOCOL_BUFFER
2020-12-03 07:19:53,202 [IPC Server handler 4 on default port 36744] INFO  ipc.Server (ProtobufRpcEngine.java:call(505)) - Call: connectionProtocolName=org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol, method=getReplicaVisibleLength
2020-12-03 07:19:53,203 [IPC Server handler 4 on default port 36744] INFO  block.TestBlockToken (TestBlockToken.java:answer(151)) - Got: block_token_identifier (expiryDate=1606980111387, keyId=57518194, userId=root, blockPoolId=-10, blockId=-108, access modes=[READ, WRITE, COPY, REPLACE], storageTypes= [DISK], storageIds= [])
2020-12-03 07:19:53,203 [IPC Server handler 4 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1615)) - IPC Server handler 4 on default port 36744: responding to Call#29 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49952
2020-12-03 07:19:53,204 [IPC Server handler 4 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1634)) - IPC Server handler 4 on default port 36744: responding to Call#29 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49952 Wrote 43 bytes.
2020-12-03 07:19:53,204 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:receiveRpcResponse(1191)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 got value #29
2020-12-03 07:19:53,204 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:close(1283)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: closed
2020-12-03 07:19:53,204 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1092)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: stopped, remaining connections 0
2020-12-03 07:19:53,204 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(97)) - stopping client from cache: org.apache.hadoop.ipc.Client@35a3d49f
2020-12-03 07:19:53,205 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(103)) - removing client from cache: org.apache.hadoop.ipc.Client@35a3d49f
2020-12-03 07:19:53,205 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(110)) - stopping actual client because no more references remain: org.apache.hadoop.ipc.Client@35a3d49f
2020-12-03 07:19:53,205 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:stop(1340)) - Stopping client
2020-12-03 07:19:53,206 [Listener at 0.0.0.0/36744] INFO  block.TestBlockToken (TestBlockToken.java:testBlockTokenRpcLeak(407)) - Num open fds:164
2020-12-03 07:19:53,207 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:getClient(63)) - getting client out of cache: org.apache.hadoop.ipc.Client@77659b30
2020-12-03 07:19:53,208 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:close(3738)) - Socket Reader #1 for port 0: disconnecting client 127.0.0.1:49952. Number of active connections: 0
2020-12-03 07:19:53,208 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:<init>(497)) - The ping interval is 60000 ms.
2020-12-03 07:19:53,208 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(795)) - Connecting to /127.0.0.1:36744
2020-12-03 07:19:53,209 [IPC Server listener on 0] DEBUG ipc.Server (Server.java:register(3727)) - Server connection from 127.0.0.1:49954; # active connections: 1; # queued calls: 0
2020-12-03 07:19:53,209 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: NEGOTIATE

2020-12-03 07:19:53,210 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:53,210 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:create(175)) - Created SASL server with mechanism = DIGEST-MD5
2020-12-03 07:19:53,211 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49954
2020-12-03 07:19:53,211 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49954 Wrote 194 bytes.
2020-12-03 07:19:53,211 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:getServerToken(268)) - Get token info proto:interface org.apache.hadoop.hdfs.protocolPB.ClientDatanodeProtocolPB info:@org.apache.hadoop.security.token.TokenInfo(value=class org.apache.hadoop.hdfs.security.token.block.BlockTokenSelector)
2020-12-03 07:19:53,212 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:createSaslClient(251)) - Creating SASL DIGEST-MD5(TOKEN)  client to authenticate to service at default
2020-12-03 07:19:53,212 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:selectSaslClient(177)) - Use TOKEN authentication for protocol ClientDatanodeProtocolPB
2020-12-03 07:19:53,213 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(678)) - SASL client callback: setting username: CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=
2020-12-03 07:19:53,213 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(683)) - SASL client callback: setting userPassword
2020-12-03 07:19:53,213 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(688)) - SASL client callback: setting realm: default
2020-12-03 07:19:53,214 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: INITIATE
token: "charset=utf-8,username=\"CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=\",realm=\"default\",nonce=\"70L/tn6ncgLj58//vjkdSgEKllW7KCPeUNvD+n78\",nc=00000001,cnonce=\"5sbNiW+Q4vwWWtdhznwglDMThhmuwHjrBtHmNgyS\",digest-uri=\"/default\",maxbuf=65536,response=d4838b87ed992ec0fbfa04de10f79709,qop=auth"
auths {
  method: "TOKEN"
  mechanism: "DIGEST-MD5"
  protocol: ""
  serverId: "default"
}

2020-12-03 07:19:53,215 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:53,215 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processSaslToken(2112)) - Have read input token of size 298 for processing by saslServer.evaluateResponse()
2020-12-03 07:19:53,216 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(310)) - SASL server DIGEST-MD5 callback: setting password for client: root (auth:SIMPLE)
2020-12-03 07:19:53,217 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(328)) - SASL server DIGEST-MD5 callback: setting canonicalized client ID: root
2020-12-03 07:19:53,217 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:buildSaslResponse(2129)) - Will send SUCCESS token of size 40 from saslServer.
2020-12-03 07:19:53,217 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2000)) - SASL server context established. Negotiated QoP is auth
2020-12-03 07:19:53,217 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2005)) - SASL server successfully authenticated client: root (auth:SIMPLE)
2020-12-03 07:19:53,218 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:saslProcess(2008)) - Auth successful for root (auth:SIMPLE)
2020-12-03 07:19:53,218 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49954
2020-12-03 07:19:53,218 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49954 Wrote 64 bytes.
2020-12-03 07:19:53,218 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(837)) - Negotiated QOP is :auth
2020-12-03 07:19:53,219 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1074)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: starting, having connections 1
2020-12-03 07:19:53,219 [IPC Parameter Sending Thread #0] DEBUG ipc.Client (Client.java:run(1137)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 sending #30 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength
2020-12-03 07:19:53,220 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-3
2020-12-03 07:19:53,220 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:authorizeConnection(2750)) - Successfully authorized userInfo {
}
protocol: "org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol"

2020-12-03 07:19:53,220 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #30
2020-12-03 07:19:53,221 [IPC Server handler 0 on default port 36744] DEBUG ipc.Server (Server.java:run(2902)) - IPC Server handler 0 on default port 36744: Call#30 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49954 for RpcKind RPC_PROTOCOL_BUFFER
2020-12-03 07:19:53,221 [IPC Server handler 0 on default port 36744] INFO  ipc.Server (ProtobufRpcEngine.java:call(505)) - Call: connectionProtocolName=org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol, method=getReplicaVisibleLength
2020-12-03 07:19:53,222 [IPC Server handler 0 on default port 36744] INFO  block.TestBlockToken (TestBlockToken.java:answer(151)) - Got: block_token_identifier (expiryDate=1606980111387, keyId=57518194, userId=root, blockPoolId=-10, blockId=-108, access modes=[READ, WRITE, COPY, REPLACE], storageTypes= [DISK], storageIds= [])
2020-12-03 07:19:53,222 [IPC Server handler 0 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1615)) - IPC Server handler 0 on default port 36744: responding to Call#30 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49954
2020-12-03 07:19:53,222 [IPC Server handler 0 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1634)) - IPC Server handler 0 on default port 36744: responding to Call#30 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49954 Wrote 43 bytes.
2020-12-03 07:19:53,222 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:receiveRpcResponse(1191)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 got value #30
2020-12-03 07:19:53,222 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:close(1283)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: closed
2020-12-03 07:19:53,223 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1092)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: stopped, remaining connections 0
2020-12-03 07:19:53,223 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(97)) - stopping client from cache: org.apache.hadoop.ipc.Client@77659b30
2020-12-03 07:19:53,223 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(103)) - removing client from cache: org.apache.hadoop.ipc.Client@77659b30
2020-12-03 07:19:53,223 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(110)) - stopping actual client because no more references remain: org.apache.hadoop.ipc.Client@77659b30
2020-12-03 07:19:53,223 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:stop(1340)) - Stopping client
2020-12-03 07:19:53,223 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:close(3738)) - Socket Reader #1 for port 0: disconnecting client 127.0.0.1:49954. Number of active connections: 0
2020-12-03 07:19:53,224 [Listener at 0.0.0.0/36744] INFO  block.TestBlockToken (TestBlockToken.java:testBlockTokenRpcLeak(407)) - Num open fds:164
2020-12-03 07:19:53,226 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:getClient(63)) - getting client out of cache: org.apache.hadoop.ipc.Client@dc9876b
2020-12-03 07:19:53,226 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:<init>(497)) - The ping interval is 60000 ms.
2020-12-03 07:19:53,227 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(795)) - Connecting to /127.0.0.1:36744
2020-12-03 07:19:53,227 [IPC Server listener on 0] DEBUG ipc.Server (Server.java:register(3727)) - Server connection from 127.0.0.1:49958; # active connections: 1; # queued calls: 0
2020-12-03 07:19:53,228 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: NEGOTIATE

2020-12-03 07:19:53,229 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:53,229 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:create(175)) - Created SASL server with mechanism = DIGEST-MD5
2020-12-03 07:19:53,229 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49958
2020-12-03 07:19:53,230 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49958 Wrote 194 bytes.
2020-12-03 07:19:53,230 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:getServerToken(268)) - Get token info proto:interface org.apache.hadoop.hdfs.protocolPB.ClientDatanodeProtocolPB info:@org.apache.hadoop.security.token.TokenInfo(value=class org.apache.hadoop.hdfs.security.token.block.BlockTokenSelector)
2020-12-03 07:19:53,230 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:createSaslClient(251)) - Creating SASL DIGEST-MD5(TOKEN)  client to authenticate to service at default
2020-12-03 07:19:53,231 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:selectSaslClient(177)) - Use TOKEN authentication for protocol ClientDatanodeProtocolPB
2020-12-03 07:19:53,231 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(678)) - SASL client callback: setting username: CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=
2020-12-03 07:19:53,232 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(683)) - SASL client callback: setting userPassword
2020-12-03 07:19:53,232 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(688)) - SASL client callback: setting realm: default
2020-12-03 07:19:53,233 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: INITIATE
token: "charset=utf-8,username=\"CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=\",realm=\"default\",nonce=\"1DXqi7BUJtGOKv4njpIbnX+nWgS78ichTEtW5oy6\",nc=00000001,cnonce=\"MaJbJmktFmpE3zEX6PvjjBQw4artO6tIvuBKSEDK\",digest-uri=\"/default\",maxbuf=65536,response=ba95f20991b527745126a7e3bc6f4d4f,qop=auth"
auths {
  method: "TOKEN"
  mechanism: "DIGEST-MD5"
  protocol: ""
  serverId: "default"
}

2020-12-03 07:19:53,233 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:53,234 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processSaslToken(2112)) - Have read input token of size 298 for processing by saslServer.evaluateResponse()
2020-12-03 07:19:53,235 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(310)) - SASL server DIGEST-MD5 callback: setting password for client: root (auth:SIMPLE)
2020-12-03 07:19:53,235 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(328)) - SASL server DIGEST-MD5 callback: setting canonicalized client ID: root
2020-12-03 07:19:53,235 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:buildSaslResponse(2129)) - Will send SUCCESS token of size 40 from saslServer.
2020-12-03 07:19:53,236 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2000)) - SASL server context established. Negotiated QoP is auth
2020-12-03 07:19:53,236 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2005)) - SASL server successfully authenticated client: root (auth:SIMPLE)
2020-12-03 07:19:53,236 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:saslProcess(2008)) - Auth successful for root (auth:SIMPLE)
2020-12-03 07:19:53,236 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49958
2020-12-03 07:19:53,237 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49958 Wrote 64 bytes.
2020-12-03 07:19:53,240 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(837)) - Negotiated QOP is :auth
2020-12-03 07:19:53,245 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1074)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: starting, having connections 1
2020-12-03 07:19:53,245 [IPC Parameter Sending Thread #0] DEBUG ipc.Client (Client.java:run(1137)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 sending #31 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength
2020-12-03 07:19:53,246 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-3
2020-12-03 07:19:53,246 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:authorizeConnection(2750)) - Successfully authorized userInfo {
}
protocol: "org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol"

2020-12-03 07:19:53,246 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #31
2020-12-03 07:19:53,247 [IPC Server handler 1 on default port 36744] DEBUG ipc.Server (Server.java:run(2902)) - IPC Server handler 1 on default port 36744: Call#31 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49958 for RpcKind RPC_PROTOCOL_BUFFER
2020-12-03 07:19:53,247 [IPC Server handler 1 on default port 36744] INFO  ipc.Server (ProtobufRpcEngine.java:call(505)) - Call: connectionProtocolName=org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol, method=getReplicaVisibleLength
2020-12-03 07:19:53,247 [IPC Server handler 1 on default port 36744] INFO  block.TestBlockToken (TestBlockToken.java:answer(151)) - Got: block_token_identifier (expiryDate=1606980111387, keyId=57518194, userId=root, blockPoolId=-10, blockId=-108, access modes=[READ, WRITE, COPY, REPLACE], storageTypes= [DISK], storageIds= [])
2020-12-03 07:19:53,248 [IPC Server handler 1 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1615)) - IPC Server handler 1 on default port 36744: responding to Call#31 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49958
2020-12-03 07:19:53,248 [IPC Server handler 1 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1634)) - IPC Server handler 1 on default port 36744: responding to Call#31 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49958 Wrote 43 bytes.
2020-12-03 07:19:53,251 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:receiveRpcResponse(1191)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 got value #31
2020-12-03 07:19:53,251 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:close(1283)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: closed
2020-12-03 07:19:53,251 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(97)) - stopping client from cache: org.apache.hadoop.ipc.Client@dc9876b
2020-12-03 07:19:53,252 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(103)) - removing client from cache: org.apache.hadoop.ipc.Client@dc9876b
2020-12-03 07:19:53,252 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(110)) - stopping actual client because no more references remain: org.apache.hadoop.ipc.Client@dc9876b
2020-12-03 07:19:53,252 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:stop(1340)) - Stopping client
2020-12-03 07:19:53,252 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1092)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: stopped, remaining connections 0
2020-12-03 07:19:53,253 [Listener at 0.0.0.0/36744] INFO  block.TestBlockToken (TestBlockToken.java:testBlockTokenRpcLeak(407)) - Num open fds:164
2020-12-03 07:19:53,252 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:close(3738)) - Socket Reader #1 for port 0: disconnecting client 127.0.0.1:49958. Number of active connections: 0
2020-12-03 07:19:53,254 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:getClient(63)) - getting client out of cache: org.apache.hadoop.ipc.Client@3eb91815
2020-12-03 07:19:53,255 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:<init>(497)) - The ping interval is 60000 ms.
2020-12-03 07:19:53,255 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(795)) - Connecting to /127.0.0.1:36744
2020-12-03 07:19:53,256 [IPC Server listener on 0] DEBUG ipc.Server (Server.java:register(3727)) - Server connection from 127.0.0.1:49962; # active connections: 1; # queued calls: 0
2020-12-03 07:19:53,256 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: NEGOTIATE

2020-12-03 07:19:53,257 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:53,257 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:create(175)) - Created SASL server with mechanism = DIGEST-MD5
2020-12-03 07:19:53,257 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49962
2020-12-03 07:19:53,257 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49962 Wrote 194 bytes.
2020-12-03 07:19:53,258 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:getServerToken(268)) - Get token info proto:interface org.apache.hadoop.hdfs.protocolPB.ClientDatanodeProtocolPB info:@org.apache.hadoop.security.token.TokenInfo(value=class org.apache.hadoop.hdfs.security.token.block.BlockTokenSelector)
2020-12-03 07:19:53,258 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:createSaslClient(251)) - Creating SASL DIGEST-MD5(TOKEN)  client to authenticate to service at default
2020-12-03 07:19:53,258 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:selectSaslClient(177)) - Use TOKEN authentication for protocol ClientDatanodeProtocolPB
2020-12-03 07:19:53,259 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(678)) - SASL client callback: setting username: CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=
2020-12-03 07:19:53,259 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(683)) - SASL client callback: setting userPassword
2020-12-03 07:19:53,259 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(688)) - SASL client callback: setting realm: default
2020-12-03 07:19:53,260 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: INITIATE
token: "charset=utf-8,username=\"CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=\",realm=\"default\",nonce=\"XMnXfTD5fUWvPqlG31F0RVZ5XIr0wBibitdYLAAX\",nc=00000001,cnonce=\"NTnCkTC5TY8fYiE7yKrCCpVWERL7V0aBDtCMV/ZQ\",digest-uri=\"/default\",maxbuf=65536,response=f764f0189bb6cff82bb095969a446201,qop=auth"
auths {
  method: "TOKEN"
  mechanism: "DIGEST-MD5"
  protocol: ""
  serverId: "default"
}

2020-12-03 07:19:53,261 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:53,261 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processSaslToken(2112)) - Have read input token of size 298 for processing by saslServer.evaluateResponse()
2020-12-03 07:19:53,262 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(310)) - SASL server DIGEST-MD5 callback: setting password for client: root (auth:SIMPLE)
2020-12-03 07:19:53,262 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(328)) - SASL server DIGEST-MD5 callback: setting canonicalized client ID: root
2020-12-03 07:19:53,262 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:buildSaslResponse(2129)) - Will send SUCCESS token of size 40 from saslServer.
2020-12-03 07:19:53,263 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2000)) - SASL server context established. Negotiated QoP is auth
2020-12-03 07:19:53,263 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2005)) - SASL server successfully authenticated client: root (auth:SIMPLE)
2020-12-03 07:19:53,263 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:saslProcess(2008)) - Auth successful for root (auth:SIMPLE)
2020-12-03 07:19:53,263 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49962
2020-12-03 07:19:53,263 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49962 Wrote 64 bytes.
2020-12-03 07:19:53,264 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(837)) - Negotiated QOP is :auth
2020-12-03 07:19:53,264 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1074)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: starting, having connections 1
2020-12-03 07:19:53,264 [IPC Parameter Sending Thread #0] DEBUG ipc.Client (Client.java:run(1137)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 sending #32 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength
2020-12-03 07:19:53,265 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-3
2020-12-03 07:19:53,265 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:authorizeConnection(2750)) - Successfully authorized userInfo {
}
protocol: "org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol"

2020-12-03 07:19:53,265 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #32
2020-12-03 07:19:53,265 [IPC Server handler 3 on default port 36744] DEBUG ipc.Server (Server.java:run(2902)) - IPC Server handler 3 on default port 36744: Call#32 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49962 for RpcKind RPC_PROTOCOL_BUFFER
2020-12-03 07:19:53,266 [IPC Server handler 3 on default port 36744] INFO  ipc.Server (ProtobufRpcEngine.java:call(505)) - Call: connectionProtocolName=org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol, method=getReplicaVisibleLength
2020-12-03 07:19:53,266 [IPC Server handler 3 on default port 36744] INFO  block.TestBlockToken (TestBlockToken.java:answer(151)) - Got: block_token_identifier (expiryDate=1606980111387, keyId=57518194, userId=root, blockPoolId=-10, blockId=-108, access modes=[READ, WRITE, COPY, REPLACE], storageTypes= [DISK], storageIds= [])
2020-12-03 07:19:53,267 [IPC Server handler 3 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1615)) - IPC Server handler 3 on default port 36744: responding to Call#32 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49962
2020-12-03 07:19:53,267 [IPC Server handler 3 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1634)) - IPC Server handler 3 on default port 36744: responding to Call#32 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49962 Wrote 43 bytes.
2020-12-03 07:19:53,267 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:receiveRpcResponse(1191)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 got value #32
2020-12-03 07:19:53,267 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(97)) - stopping client from cache: org.apache.hadoop.ipc.Client@3eb91815
2020-12-03 07:19:53,267 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:close(1283)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: closed
2020-12-03 07:19:53,267 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:close(3738)) - Socket Reader #1 for port 0: disconnecting client 127.0.0.1:49962. Number of active connections: 0
2020-12-03 07:19:53,268 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1092)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: stopped, remaining connections 0
2020-12-03 07:19:53,268 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(103)) - removing client from cache: org.apache.hadoop.ipc.Client@3eb91815
2020-12-03 07:19:53,268 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(110)) - stopping actual client because no more references remain: org.apache.hadoop.ipc.Client@3eb91815
2020-12-03 07:19:53,268 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:stop(1340)) - Stopping client
2020-12-03 07:19:53,269 [Listener at 0.0.0.0/36744] INFO  block.TestBlockToken (TestBlockToken.java:testBlockTokenRpcLeak(407)) - Num open fds:163
2020-12-03 07:19:53,270 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:getClient(63)) - getting client out of cache: org.apache.hadoop.ipc.Client@14f232c4
2020-12-03 07:19:53,270 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:<init>(497)) - The ping interval is 60000 ms.
2020-12-03 07:19:53,271 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(795)) - Connecting to /127.0.0.1:36744
2020-12-03 07:19:53,271 [IPC Server listener on 0] DEBUG ipc.Server (Server.java:register(3727)) - Server connection from 127.0.0.1:49964; # active connections: 1; # queued calls: 0
2020-12-03 07:19:53,271 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: NEGOTIATE

2020-12-03 07:19:53,272 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:53,272 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:create(175)) - Created SASL server with mechanism = DIGEST-MD5
2020-12-03 07:19:53,272 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49964
2020-12-03 07:19:53,273 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49964 Wrote 194 bytes.
2020-12-03 07:19:53,273 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:getServerToken(268)) - Get token info proto:interface org.apache.hadoop.hdfs.protocolPB.ClientDatanodeProtocolPB info:@org.apache.hadoop.security.token.TokenInfo(value=class org.apache.hadoop.hdfs.security.token.block.BlockTokenSelector)
2020-12-03 07:19:53,273 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:createSaslClient(251)) - Creating SASL DIGEST-MD5(TOKEN)  client to authenticate to service at default
2020-12-03 07:19:53,274 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:selectSaslClient(177)) - Use TOKEN authentication for protocol ClientDatanodeProtocolPB
2020-12-03 07:19:53,274 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(678)) - SASL client callback: setting username: CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=
2020-12-03 07:19:53,274 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(683)) - SASL client callback: setting userPassword
2020-12-03 07:19:53,274 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(688)) - SASL client callback: setting realm: default
2020-12-03 07:19:53,275 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: INITIATE
token: "charset=utf-8,username=\"CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=\",realm=\"default\",nonce=\"B4DY/Kx8IOofrDrHuB51xBL8Ni8pz/QnZPA1gUw0\",nc=00000001,cnonce=\"FTPwO+89HsfHjAtIMGZ6+zSLEx6fFitsTrCSDePM\",digest-uri=\"/default\",maxbuf=65536,response=5979561e32140feb218bf28a63302cab,qop=auth"
auths {
  method: "TOKEN"
  mechanism: "DIGEST-MD5"
  protocol: ""
  serverId: "default"
}

2020-12-03 07:19:53,280 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:53,280 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processSaslToken(2112)) - Have read input token of size 298 for processing by saslServer.evaluateResponse()
2020-12-03 07:19:53,281 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(310)) - SASL server DIGEST-MD5 callback: setting password for client: root (auth:SIMPLE)
2020-12-03 07:19:53,282 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(328)) - SASL server DIGEST-MD5 callback: setting canonicalized client ID: root
2020-12-03 07:19:53,282 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:buildSaslResponse(2129)) - Will send SUCCESS token of size 40 from saslServer.
2020-12-03 07:19:53,282 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2000)) - SASL server context established. Negotiated QoP is auth
2020-12-03 07:19:53,283 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2005)) - SASL server successfully authenticated client: root (auth:SIMPLE)
2020-12-03 07:19:53,283 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:saslProcess(2008)) - Auth successful for root (auth:SIMPLE)
2020-12-03 07:19:53,283 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49964
2020-12-03 07:19:53,283 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49964 Wrote 64 bytes.
2020-12-03 07:19:53,283 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(837)) - Negotiated QOP is :auth
2020-12-03 07:19:53,284 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1074)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: starting, having connections 1
2020-12-03 07:19:53,285 [IPC Parameter Sending Thread #0] DEBUG ipc.Client (Client.java:run(1137)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 sending #33 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength
2020-12-03 07:19:53,285 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-3
2020-12-03 07:19:53,285 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:authorizeConnection(2750)) - Successfully authorized userInfo {
}
protocol: "org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol"

2020-12-03 07:19:53,286 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #33
2020-12-03 07:19:53,286 [IPC Server handler 2 on default port 36744] DEBUG ipc.Server (Server.java:run(2902)) - IPC Server handler 2 on default port 36744: Call#33 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49964 for RpcKind RPC_PROTOCOL_BUFFER
2020-12-03 07:19:53,286 [IPC Server handler 2 on default port 36744] INFO  ipc.Server (ProtobufRpcEngine.java:call(505)) - Call: connectionProtocolName=org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol, method=getReplicaVisibleLength
2020-12-03 07:19:53,287 [IPC Server handler 2 on default port 36744] INFO  block.TestBlockToken (TestBlockToken.java:answer(151)) - Got: block_token_identifier (expiryDate=1606980111387, keyId=57518194, userId=root, blockPoolId=-10, blockId=-108, access modes=[READ, WRITE, COPY, REPLACE], storageTypes= [DISK], storageIds= [])
2020-12-03 07:19:53,287 [IPC Server handler 2 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1615)) - IPC Server handler 2 on default port 36744: responding to Call#33 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49964
2020-12-03 07:19:53,287 [IPC Server handler 2 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1634)) - IPC Server handler 2 on default port 36744: responding to Call#33 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49964 Wrote 43 bytes.
2020-12-03 07:19:53,287 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:receiveRpcResponse(1191)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 got value #33
2020-12-03 07:19:53,288 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:close(1283)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: closed
2020-12-03 07:19:53,288 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1092)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: stopped, remaining connections 0
2020-12-03 07:19:53,288 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:close(3738)) - Socket Reader #1 for port 0: disconnecting client 127.0.0.1:49964. Number of active connections: 0
2020-12-03 07:19:53,288 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(97)) - stopping client from cache: org.apache.hadoop.ipc.Client@14f232c4
2020-12-03 07:19:53,288 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(103)) - removing client from cache: org.apache.hadoop.ipc.Client@14f232c4
2020-12-03 07:19:53,289 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(110)) - stopping actual client because no more references remain: org.apache.hadoop.ipc.Client@14f232c4
2020-12-03 07:19:53,289 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:stop(1340)) - Stopping client
2020-12-03 07:19:53,290 [Listener at 0.0.0.0/36744] INFO  block.TestBlockToken (TestBlockToken.java:testBlockTokenRpcLeak(407)) - Num open fds:163
2020-12-03 07:19:53,291 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:getClient(63)) - getting client out of cache: org.apache.hadoop.ipc.Client@3336e6b6
2020-12-03 07:19:53,291 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:<init>(497)) - The ping interval is 60000 ms.
2020-12-03 07:19:53,292 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(795)) - Connecting to /127.0.0.1:36744
2020-12-03 07:19:53,292 [IPC Server listener on 0] DEBUG ipc.Server (Server.java:register(3727)) - Server connection from 127.0.0.1:49968; # active connections: 1; # queued calls: 0
2020-12-03 07:19:53,292 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: NEGOTIATE

2020-12-03 07:19:53,293 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:53,293 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:create(175)) - Created SASL server with mechanism = DIGEST-MD5
2020-12-03 07:19:53,293 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49968
2020-12-03 07:19:53,294 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49968 Wrote 194 bytes.
2020-12-03 07:19:53,294 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:getServerToken(268)) - Get token info proto:interface org.apache.hadoop.hdfs.protocolPB.ClientDatanodeProtocolPB info:@org.apache.hadoop.security.token.TokenInfo(value=class org.apache.hadoop.hdfs.security.token.block.BlockTokenSelector)
2020-12-03 07:19:53,294 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:createSaslClient(251)) - Creating SASL DIGEST-MD5(TOKEN)  client to authenticate to service at default
2020-12-03 07:19:53,295 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:selectSaslClient(177)) - Use TOKEN authentication for protocol ClientDatanodeProtocolPB
2020-12-03 07:19:53,295 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(678)) - SASL client callback: setting username: CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=
2020-12-03 07:19:53,295 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(683)) - SASL client callback: setting userPassword
2020-12-03 07:19:53,296 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(688)) - SASL client callback: setting realm: default
2020-12-03 07:19:53,296 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: INITIATE
token: "charset=utf-8,username=\"CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=\",realm=\"default\",nonce=\"pri2krax1iLW879uxO5QbbjjGx45VW9eRryALAdJ\",nc=00000001,cnonce=\"mnFUtE0PM02k8p23f9N8oLh8bsLlD9BD1uI1hbOC\",digest-uri=\"/default\",maxbuf=65536,response=479621082e1b353d46741b42455bcb51,qop=auth"
auths {
  method: "TOKEN"
  mechanism: "DIGEST-MD5"
  protocol: ""
  serverId: "default"
}

2020-12-03 07:19:53,297 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:53,297 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processSaslToken(2112)) - Have read input token of size 298 for processing by saslServer.evaluateResponse()
2020-12-03 07:19:53,298 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(310)) - SASL server DIGEST-MD5 callback: setting password for client: root (auth:SIMPLE)
2020-12-03 07:19:53,298 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(328)) - SASL server DIGEST-MD5 callback: setting canonicalized client ID: root
2020-12-03 07:19:53,299 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:buildSaslResponse(2129)) - Will send SUCCESS token of size 40 from saslServer.
2020-12-03 07:19:53,299 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2000)) - SASL server context established. Negotiated QoP is auth
2020-12-03 07:19:53,299 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2005)) - SASL server successfully authenticated client: root (auth:SIMPLE)
2020-12-03 07:19:53,299 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:saslProcess(2008)) - Auth successful for root (auth:SIMPLE)
2020-12-03 07:19:53,299 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49968
2020-12-03 07:19:53,299 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49968 Wrote 64 bytes.
2020-12-03 07:19:53,300 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(837)) - Negotiated QOP is :auth
2020-12-03 07:19:53,300 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1074)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: starting, having connections 1
2020-12-03 07:19:53,300 [IPC Parameter Sending Thread #0] DEBUG ipc.Client (Client.java:run(1137)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 sending #34 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength
2020-12-03 07:19:53,301 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-3
2020-12-03 07:19:53,301 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:authorizeConnection(2750)) - Successfully authorized userInfo {
}
protocol: "org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol"

2020-12-03 07:19:53,301 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #34
2020-12-03 07:19:53,301 [IPC Server handler 4 on default port 36744] DEBUG ipc.Server (Server.java:run(2902)) - IPC Server handler 4 on default port 36744: Call#34 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49968 for RpcKind RPC_PROTOCOL_BUFFER
2020-12-03 07:19:53,301 [IPC Server handler 4 on default port 36744] INFO  ipc.Server (ProtobufRpcEngine.java:call(505)) - Call: connectionProtocolName=org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol, method=getReplicaVisibleLength
2020-12-03 07:19:53,302 [IPC Server handler 4 on default port 36744] INFO  block.TestBlockToken (TestBlockToken.java:answer(151)) - Got: block_token_identifier (expiryDate=1606980111387, keyId=57518194, userId=root, blockPoolId=-10, blockId=-108, access modes=[READ, WRITE, COPY, REPLACE], storageTypes= [DISK], storageIds= [])
2020-12-03 07:19:53,302 [IPC Server handler 4 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1615)) - IPC Server handler 4 on default port 36744: responding to Call#34 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49968
2020-12-03 07:19:53,303 [IPC Server handler 4 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1634)) - IPC Server handler 4 on default port 36744: responding to Call#34 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49968 Wrote 43 bytes.
2020-12-03 07:19:53,303 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:receiveRpcResponse(1191)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 got value #34
2020-12-03 07:19:53,303 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:close(1283)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: closed
2020-12-03 07:19:53,303 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:close(3738)) - Socket Reader #1 for port 0: disconnecting client 127.0.0.1:49968. Number of active connections: 0
2020-12-03 07:19:53,303 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1092)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: stopped, remaining connections 0
2020-12-03 07:19:53,304 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(97)) - stopping client from cache: org.apache.hadoop.ipc.Client@3336e6b6
2020-12-03 07:19:53,304 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(103)) - removing client from cache: org.apache.hadoop.ipc.Client@3336e6b6
2020-12-03 07:19:53,305 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(110)) - stopping actual client because no more references remain: org.apache.hadoop.ipc.Client@3336e6b6
2020-12-03 07:19:53,305 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:stop(1340)) - Stopping client
2020-12-03 07:19:53,306 [Listener at 0.0.0.0/36744] INFO  block.TestBlockToken (TestBlockToken.java:testBlockTokenRpcLeak(407)) - Num open fds:163
2020-12-03 07:19:53,307 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:getClient(63)) - getting client out of cache: org.apache.hadoop.ipc.Client@44be0077
2020-12-03 07:19:53,307 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:<init>(497)) - The ping interval is 60000 ms.
2020-12-03 07:19:53,308 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(795)) - Connecting to /127.0.0.1:36744
2020-12-03 07:19:53,309 [IPC Server listener on 0] DEBUG ipc.Server (Server.java:register(3727)) - Server connection from 127.0.0.1:49972; # active connections: 1; # queued calls: 0
2020-12-03 07:19:53,309 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: NEGOTIATE

2020-12-03 07:19:53,309 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:53,309 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:create(175)) - Created SASL server with mechanism = DIGEST-MD5
2020-12-03 07:19:53,310 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49972
2020-12-03 07:19:53,310 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49972 Wrote 194 bytes.
2020-12-03 07:19:53,310 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:getServerToken(268)) - Get token info proto:interface org.apache.hadoop.hdfs.protocolPB.ClientDatanodeProtocolPB info:@org.apache.hadoop.security.token.TokenInfo(value=class org.apache.hadoop.hdfs.security.token.block.BlockTokenSelector)
2020-12-03 07:19:53,310 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:createSaslClient(251)) - Creating SASL DIGEST-MD5(TOKEN)  client to authenticate to service at default
2020-12-03 07:19:53,311 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:selectSaslClient(177)) - Use TOKEN authentication for protocol ClientDatanodeProtocolPB
2020-12-03 07:19:53,311 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(678)) - SASL client callback: setting username: CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=
2020-12-03 07:19:53,312 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(683)) - SASL client callback: setting userPassword
2020-12-03 07:19:53,312 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(688)) - SASL client callback: setting realm: default
2020-12-03 07:19:53,313 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: INITIATE
token: "charset=utf-8,username=\"CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=\",realm=\"default\",nonce=\"kwjpNXSAudBy8YcHhDPcTbOmS2wJ5kuHnVC0ZFWV\",nc=00000001,cnonce=\"tTfbJwDiTZpNcSFNxj6su09y+vJHQIU2E1UI5pht\",digest-uri=\"/default\",maxbuf=65536,response=ab57e9f0f167f9d8cc5337485a18a7a2,qop=auth"
auths {
  method: "TOKEN"
  mechanism: "DIGEST-MD5"
  protocol: ""
  serverId: "default"
}

2020-12-03 07:19:53,313 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:53,313 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processSaslToken(2112)) - Have read input token of size 298 for processing by saslServer.evaluateResponse()
2020-12-03 07:19:53,314 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(310)) - SASL server DIGEST-MD5 callback: setting password for client: root (auth:SIMPLE)
2020-12-03 07:19:53,314 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(328)) - SASL server DIGEST-MD5 callback: setting canonicalized client ID: root
2020-12-03 07:19:53,314 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:buildSaslResponse(2129)) - Will send SUCCESS token of size 40 from saslServer.
2020-12-03 07:19:53,314 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2000)) - SASL server context established. Negotiated QoP is auth
2020-12-03 07:19:53,315 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2005)) - SASL server successfully authenticated client: root (auth:SIMPLE)
2020-12-03 07:19:53,315 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:saslProcess(2008)) - Auth successful for root (auth:SIMPLE)
2020-12-03 07:19:53,315 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49972
2020-12-03 07:19:53,315 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49972 Wrote 64 bytes.
2020-12-03 07:19:53,316 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(837)) - Negotiated QOP is :auth
2020-12-03 07:19:53,316 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1074)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: starting, having connections 1
2020-12-03 07:19:53,316 [IPC Parameter Sending Thread #0] DEBUG ipc.Client (Client.java:run(1137)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 sending #35 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength
2020-12-03 07:19:53,317 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-3
2020-12-03 07:19:53,317 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:authorizeConnection(2750)) - Successfully authorized userInfo {
}
protocol: "org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol"

2020-12-03 07:19:53,317 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #35
2020-12-03 07:19:53,317 [IPC Server handler 0 on default port 36744] DEBUG ipc.Server (Server.java:run(2902)) - IPC Server handler 0 on default port 36744: Call#35 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49972 for RpcKind RPC_PROTOCOL_BUFFER
2020-12-03 07:19:53,318 [IPC Server handler 0 on default port 36744] INFO  ipc.Server (ProtobufRpcEngine.java:call(505)) - Call: connectionProtocolName=org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol, method=getReplicaVisibleLength
2020-12-03 07:19:53,318 [IPC Server handler 0 on default port 36744] INFO  block.TestBlockToken (TestBlockToken.java:answer(151)) - Got: block_token_identifier (expiryDate=1606980111387, keyId=57518194, userId=root, blockPoolId=-10, blockId=-108, access modes=[READ, WRITE, COPY, REPLACE], storageTypes= [DISK], storageIds= [])
2020-12-03 07:19:53,319 [IPC Server handler 0 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1615)) - IPC Server handler 0 on default port 36744: responding to Call#35 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49972
2020-12-03 07:19:53,319 [IPC Server handler 0 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1634)) - IPC Server handler 0 on default port 36744: responding to Call#35 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49972 Wrote 43 bytes.
2020-12-03 07:19:53,319 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:receiveRpcResponse(1191)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 got value #35
2020-12-03 07:19:53,319 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:close(1283)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: closed
2020-12-03 07:19:53,319 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:close(3738)) - Socket Reader #1 for port 0: disconnecting client 127.0.0.1:49972. Number of active connections: 0
2020-12-03 07:19:53,319 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(97)) - stopping client from cache: org.apache.hadoop.ipc.Client@44be0077
2020-12-03 07:19:53,320 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1092)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: stopped, remaining connections 0
2020-12-03 07:19:53,320 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(103)) - removing client from cache: org.apache.hadoop.ipc.Client@44be0077
2020-12-03 07:19:53,320 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(110)) - stopping actual client because no more references remain: org.apache.hadoop.ipc.Client@44be0077
2020-12-03 07:19:53,321 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:stop(1340)) - Stopping client
2020-12-03 07:19:53,321 [Listener at 0.0.0.0/36744] INFO  block.TestBlockToken (TestBlockToken.java:testBlockTokenRpcLeak(407)) - Num open fds:163
2020-12-03 07:19:53,322 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:getClient(63)) - getting client out of cache: org.apache.hadoop.ipc.Client@560348e6
2020-12-03 07:19:53,323 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:<init>(497)) - The ping interval is 60000 ms.
2020-12-03 07:19:53,323 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(795)) - Connecting to /127.0.0.1:36744
2020-12-03 07:19:53,324 [IPC Server listener on 0] DEBUG ipc.Server (Server.java:register(3727)) - Server connection from 127.0.0.1:49976; # active connections: 1; # queued calls: 0
2020-12-03 07:19:53,324 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: NEGOTIATE

2020-12-03 07:19:53,324 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:53,324 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:create(175)) - Created SASL server with mechanism = DIGEST-MD5
2020-12-03 07:19:53,325 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49976
2020-12-03 07:19:53,325 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49976 Wrote 194 bytes.
2020-12-03 07:19:53,325 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:getServerToken(268)) - Get token info proto:interface org.apache.hadoop.hdfs.protocolPB.ClientDatanodeProtocolPB info:@org.apache.hadoop.security.token.TokenInfo(value=class org.apache.hadoop.hdfs.security.token.block.BlockTokenSelector)
2020-12-03 07:19:53,325 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:createSaslClient(251)) - Creating SASL DIGEST-MD5(TOKEN)  client to authenticate to service at default
2020-12-03 07:19:53,326 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:selectSaslClient(177)) - Use TOKEN authentication for protocol ClientDatanodeProtocolPB
2020-12-03 07:19:53,326 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(678)) - SASL client callback: setting username: CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=
2020-12-03 07:19:53,326 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(683)) - SASL client callback: setting userPassword
2020-12-03 07:19:53,326 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(688)) - SASL client callback: setting realm: default
2020-12-03 07:19:53,327 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: INITIATE
token: "charset=utf-8,username=\"CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=\",realm=\"default\",nonce=\"fqmuzKt54445n+JUAGh2XwEUN20ixnpQUa7pRB10\",nc=00000001,cnonce=\"L1yhg3we+zqjPtgN9QeC67pU4KH23GNyGOW/hfGF\",digest-uri=\"/default\",maxbuf=65536,response=c2389fe983aaaa7ce3092a0d8399c706,qop=auth"
auths {
  method: "TOKEN"
  mechanism: "DIGEST-MD5"
  protocol: ""
  serverId: "default"
}

2020-12-03 07:19:53,327 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:53,328 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processSaslToken(2112)) - Have read input token of size 298 for processing by saslServer.evaluateResponse()
2020-12-03 07:19:53,328 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(310)) - SASL server DIGEST-MD5 callback: setting password for client: root (auth:SIMPLE)
2020-12-03 07:19:53,329 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(328)) - SASL server DIGEST-MD5 callback: setting canonicalized client ID: root
2020-12-03 07:19:53,329 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:buildSaslResponse(2129)) - Will send SUCCESS token of size 40 from saslServer.
2020-12-03 07:19:53,329 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2000)) - SASL server context established. Negotiated QoP is auth
2020-12-03 07:19:53,329 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2005)) - SASL server successfully authenticated client: root (auth:SIMPLE)
2020-12-03 07:19:53,329 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:saslProcess(2008)) - Auth successful for root (auth:SIMPLE)
2020-12-03 07:19:53,329 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49976
2020-12-03 07:19:53,330 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49976 Wrote 64 bytes.
2020-12-03 07:19:53,330 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(837)) - Negotiated QOP is :auth
2020-12-03 07:19:53,330 [IPC Parameter Sending Thread #0] DEBUG ipc.Client (Client.java:run(1137)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 sending #36 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength
2020-12-03 07:19:53,330 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1074)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: starting, having connections 1
2020-12-03 07:19:53,331 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-3
2020-12-03 07:19:53,331 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:authorizeConnection(2750)) - Successfully authorized userInfo {
}
protocol: "org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol"

2020-12-03 07:19:53,331 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #36
2020-12-03 07:19:53,331 [IPC Server handler 1 on default port 36744] DEBUG ipc.Server (Server.java:run(2902)) - IPC Server handler 1 on default port 36744: Call#36 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49976 for RpcKind RPC_PROTOCOL_BUFFER
2020-12-03 07:19:53,332 [IPC Server handler 1 on default port 36744] INFO  ipc.Server (ProtobufRpcEngine.java:call(505)) - Call: connectionProtocolName=org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol, method=getReplicaVisibleLength
2020-12-03 07:19:53,332 [IPC Server handler 1 on default port 36744] INFO  block.TestBlockToken (TestBlockToken.java:answer(151)) - Got: block_token_identifier (expiryDate=1606980111387, keyId=57518194, userId=root, blockPoolId=-10, blockId=-108, access modes=[READ, WRITE, COPY, REPLACE], storageTypes= [DISK], storageIds= [])
2020-12-03 07:19:53,333 [IPC Server handler 1 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1615)) - IPC Server handler 1 on default port 36744: responding to Call#36 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49976
2020-12-03 07:19:53,333 [IPC Server handler 1 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1634)) - IPC Server handler 1 on default port 36744: responding to Call#36 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49976 Wrote 43 bytes.
2020-12-03 07:19:53,333 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:receiveRpcResponse(1191)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 got value #36
2020-12-03 07:19:53,334 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:close(1283)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: closed
2020-12-03 07:19:53,334 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:close(3738)) - Socket Reader #1 for port 0: disconnecting client 127.0.0.1:49976. Number of active connections: 0
2020-12-03 07:19:53,334 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(97)) - stopping client from cache: org.apache.hadoop.ipc.Client@560348e6
2020-12-03 07:19:53,334 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(103)) - removing client from cache: org.apache.hadoop.ipc.Client@560348e6
2020-12-03 07:19:53,334 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1092)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: stopped, remaining connections 0
2020-12-03 07:19:53,334 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(110)) - stopping actual client because no more references remain: org.apache.hadoop.ipc.Client@560348e6
2020-12-03 07:19:53,335 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:stop(1340)) - Stopping client
2020-12-03 07:19:53,335 [Listener at 0.0.0.0/36744] INFO  block.TestBlockToken (TestBlockToken.java:testBlockTokenRpcLeak(407)) - Num open fds:163
2020-12-03 07:19:53,336 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:getClient(63)) - getting client out of cache: org.apache.hadoop.ipc.Client@2cb2fc20
2020-12-03 07:19:53,337 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:<init>(497)) - The ping interval is 60000 ms.
2020-12-03 07:19:53,337 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(795)) - Connecting to /127.0.0.1:36744
2020-12-03 07:19:53,337 [IPC Server listener on 0] DEBUG ipc.Server (Server.java:register(3727)) - Server connection from 127.0.0.1:49980; # active connections: 1; # queued calls: 0
2020-12-03 07:19:53,337 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: NEGOTIATE

2020-12-03 07:19:53,338 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:53,338 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:create(175)) - Created SASL server with mechanism = DIGEST-MD5
2020-12-03 07:19:53,338 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49980
2020-12-03 07:19:53,339 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49980 Wrote 194 bytes.
2020-12-03 07:19:53,339 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:getServerToken(268)) - Get token info proto:interface org.apache.hadoop.hdfs.protocolPB.ClientDatanodeProtocolPB info:@org.apache.hadoop.security.token.TokenInfo(value=class org.apache.hadoop.hdfs.security.token.block.BlockTokenSelector)
2020-12-03 07:19:53,339 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:createSaslClient(251)) - Creating SASL DIGEST-MD5(TOKEN)  client to authenticate to service at default
2020-12-03 07:19:53,340 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:selectSaslClient(177)) - Use TOKEN authentication for protocol ClientDatanodeProtocolPB
2020-12-03 07:19:53,340 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(678)) - SASL client callback: setting username: CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=
2020-12-03 07:19:53,340 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(683)) - SASL client callback: setting userPassword
2020-12-03 07:19:53,340 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(688)) - SASL client callback: setting realm: default
2020-12-03 07:19:53,341 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: INITIATE
token: "charset=utf-8,username=\"CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=\",realm=\"default\",nonce=\"XZSK27e3ElUQFjob7ZDac2ZbMRN7hYTboowu4mK/\",nc=00000001,cnonce=\"tbTdd4LlN1mAPiNQ4FvQc1yFEFpENrKKR4HQI7lr\",digest-uri=\"/default\",maxbuf=65536,response=b1697690a474453ad7ea65ef94c0770d,qop=auth"
auths {
  method: "TOKEN"
  mechanism: "DIGEST-MD5"
  protocol: ""
  serverId: "default"
}

2020-12-03 07:19:53,341 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:53,341 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processSaslToken(2112)) - Have read input token of size 298 for processing by saslServer.evaluateResponse()
2020-12-03 07:19:53,342 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(310)) - SASL server DIGEST-MD5 callback: setting password for client: root (auth:SIMPLE)
2020-12-03 07:19:53,342 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(328)) - SASL server DIGEST-MD5 callback: setting canonicalized client ID: root
2020-12-03 07:19:53,342 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:buildSaslResponse(2129)) - Will send SUCCESS token of size 40 from saslServer.
2020-12-03 07:19:53,343 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2000)) - SASL server context established. Negotiated QoP is auth
2020-12-03 07:19:53,343 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2005)) - SASL server successfully authenticated client: root (auth:SIMPLE)
2020-12-03 07:19:53,343 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:saslProcess(2008)) - Auth successful for root (auth:SIMPLE)
2020-12-03 07:19:53,343 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49980
2020-12-03 07:19:53,343 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49980 Wrote 64 bytes.
2020-12-03 07:19:53,344 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(837)) - Negotiated QOP is :auth
2020-12-03 07:19:53,344 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1074)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: starting, having connections 1
2020-12-03 07:19:53,344 [IPC Parameter Sending Thread #0] DEBUG ipc.Client (Client.java:run(1137)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 sending #37 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength
2020-12-03 07:19:53,345 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-3
2020-12-03 07:19:53,345 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:authorizeConnection(2750)) - Successfully authorized userInfo {
}
protocol: "org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol"

2020-12-03 07:19:53,345 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #37
2020-12-03 07:19:53,345 [IPC Server handler 3 on default port 36744] DEBUG ipc.Server (Server.java:run(2902)) - IPC Server handler 3 on default port 36744: Call#37 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49980 for RpcKind RPC_PROTOCOL_BUFFER
2020-12-03 07:19:53,346 [IPC Server handler 3 on default port 36744] INFO  ipc.Server (ProtobufRpcEngine.java:call(505)) - Call: connectionProtocolName=org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol, method=getReplicaVisibleLength
2020-12-03 07:19:53,346 [IPC Server handler 3 on default port 36744] INFO  block.TestBlockToken (TestBlockToken.java:answer(151)) - Got: block_token_identifier (expiryDate=1606980111387, keyId=57518194, userId=root, blockPoolId=-10, blockId=-108, access modes=[READ, WRITE, COPY, REPLACE], storageTypes= [DISK], storageIds= [])
2020-12-03 07:19:53,347 [IPC Server handler 3 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1615)) - IPC Server handler 3 on default port 36744: responding to Call#37 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49980
2020-12-03 07:19:53,347 [IPC Server handler 3 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1634)) - IPC Server handler 3 on default port 36744: responding to Call#37 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49980 Wrote 43 bytes.
2020-12-03 07:19:53,347 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:receiveRpcResponse(1191)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 got value #37
2020-12-03 07:19:53,347 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(97)) - stopping client from cache: org.apache.hadoop.ipc.Client@2cb2fc20
2020-12-03 07:19:53,347 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:close(3738)) - Socket Reader #1 for port 0: disconnecting client 127.0.0.1:49980. Number of active connections: 0
2020-12-03 07:19:53,347 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:close(1283)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: closed
2020-12-03 07:19:53,349 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1092)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: stopped, remaining connections 0
2020-12-03 07:19:53,347 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(103)) - removing client from cache: org.apache.hadoop.ipc.Client@2cb2fc20
2020-12-03 07:19:53,349 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(110)) - stopping actual client because no more references remain: org.apache.hadoop.ipc.Client@2cb2fc20
2020-12-03 07:19:53,349 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:stop(1340)) - Stopping client
2020-12-03 07:19:53,350 [Listener at 0.0.0.0/36744] INFO  block.TestBlockToken (TestBlockToken.java:testBlockTokenRpcLeak(407)) - Num open fds:163
2020-12-03 07:19:53,351 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:getClient(63)) - getting client out of cache: org.apache.hadoop.ipc.Client@3224a577
2020-12-03 07:19:53,352 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:<init>(497)) - The ping interval is 60000 ms.
2020-12-03 07:19:53,352 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(795)) - Connecting to /127.0.0.1:36744
2020-12-03 07:19:53,353 [IPC Server listener on 0] DEBUG ipc.Server (Server.java:register(3727)) - Server connection from 127.0.0.1:49982; # active connections: 1; # queued calls: 0
2020-12-03 07:19:53,353 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: NEGOTIATE

2020-12-03 07:19:53,354 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:53,354 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:create(175)) - Created SASL server with mechanism = DIGEST-MD5
2020-12-03 07:19:53,354 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49982
2020-12-03 07:19:53,355 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49982 Wrote 194 bytes.
2020-12-03 07:19:53,355 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:getServerToken(268)) - Get token info proto:interface org.apache.hadoop.hdfs.protocolPB.ClientDatanodeProtocolPB info:@org.apache.hadoop.security.token.TokenInfo(value=class org.apache.hadoop.hdfs.security.token.block.BlockTokenSelector)
2020-12-03 07:19:53,355 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:createSaslClient(251)) - Creating SASL DIGEST-MD5(TOKEN)  client to authenticate to service at default
2020-12-03 07:19:53,356 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:selectSaslClient(177)) - Use TOKEN authentication for protocol ClientDatanodeProtocolPB
2020-12-03 07:19:53,356 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(678)) - SASL client callback: setting username: CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=
2020-12-03 07:19:53,356 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(683)) - SASL client callback: setting userPassword
2020-12-03 07:19:53,357 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(688)) - SASL client callback: setting realm: default
2020-12-03 07:19:53,357 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: INITIATE
token: "charset=utf-8,username=\"CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=\",realm=\"default\",nonce=\"IXonkLfVhfZMliTATRUDBJ2SNBvxkh0yK8ehVhPO\",nc=00000001,cnonce=\"72ILZWiiVvShKMQurmP/fcSVcLBm1AekqKV2UoWH\",digest-uri=\"/default\",maxbuf=65536,response=04624f26605643d0e6e6db12757ef610,qop=auth"
auths {
  method: "TOKEN"
  mechanism: "DIGEST-MD5"
  protocol: ""
  serverId: "default"
}

2020-12-03 07:19:53,360 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:53,360 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processSaslToken(2112)) - Have read input token of size 298 for processing by saslServer.evaluateResponse()
2020-12-03 07:19:53,361 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(310)) - SASL server DIGEST-MD5 callback: setting password for client: root (auth:SIMPLE)
2020-12-03 07:19:53,362 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(328)) - SASL server DIGEST-MD5 callback: setting canonicalized client ID: root
2020-12-03 07:19:53,362 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:buildSaslResponse(2129)) - Will send SUCCESS token of size 40 from saslServer.
2020-12-03 07:19:53,362 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2000)) - SASL server context established. Negotiated QoP is auth
2020-12-03 07:19:53,362 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2005)) - SASL server successfully authenticated client: root (auth:SIMPLE)
2020-12-03 07:19:53,363 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:saslProcess(2008)) - Auth successful for root (auth:SIMPLE)
2020-12-03 07:19:53,363 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49982
2020-12-03 07:19:53,363 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49982 Wrote 64 bytes.
2020-12-03 07:19:53,365 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(837)) - Negotiated QOP is :auth
2020-12-03 07:19:53,366 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1074)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: starting, having connections 1
2020-12-03 07:19:53,366 [IPC Parameter Sending Thread #0] DEBUG ipc.Client (Client.java:run(1137)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 sending #38 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength
2020-12-03 07:19:53,366 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-3
2020-12-03 07:19:53,367 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:authorizeConnection(2750)) - Successfully authorized userInfo {
}
protocol: "org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol"

2020-12-03 07:19:53,367 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #38
2020-12-03 07:19:53,367 [IPC Server handler 2 on default port 36744] DEBUG ipc.Server (Server.java:run(2902)) - IPC Server handler 2 on default port 36744: Call#38 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49982 for RpcKind RPC_PROTOCOL_BUFFER
2020-12-03 07:19:53,367 [IPC Server handler 2 on default port 36744] INFO  ipc.Server (ProtobufRpcEngine.java:call(505)) - Call: connectionProtocolName=org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol, method=getReplicaVisibleLength
2020-12-03 07:19:53,368 [IPC Server handler 2 on default port 36744] INFO  block.TestBlockToken (TestBlockToken.java:answer(151)) - Got: block_token_identifier (expiryDate=1606980111387, keyId=57518194, userId=root, blockPoolId=-10, blockId=-108, access modes=[READ, WRITE, COPY, REPLACE], storageTypes= [DISK], storageIds= [])
2020-12-03 07:19:53,368 [IPC Server handler 2 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1615)) - IPC Server handler 2 on default port 36744: responding to Call#38 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49982
2020-12-03 07:19:53,368 [IPC Server handler 2 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1634)) - IPC Server handler 2 on default port 36744: responding to Call#38 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49982 Wrote 43 bytes.
2020-12-03 07:19:53,368 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:receiveRpcResponse(1191)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 got value #38
2020-12-03 07:19:53,369 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:close(1283)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: closed
2020-12-03 07:19:53,369 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1092)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: stopped, remaining connections 0
2020-12-03 07:19:53,369 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:close(3738)) - Socket Reader #1 for port 0: disconnecting client 127.0.0.1:49982. Number of active connections: 0
2020-12-03 07:19:53,369 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(97)) - stopping client from cache: org.apache.hadoop.ipc.Client@3224a577
2020-12-03 07:19:53,369 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(103)) - removing client from cache: org.apache.hadoop.ipc.Client@3224a577
2020-12-03 07:19:53,369 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(110)) - stopping actual client because no more references remain: org.apache.hadoop.ipc.Client@3224a577
2020-12-03 07:19:53,370 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:stop(1340)) - Stopping client
2020-12-03 07:19:53,370 [Listener at 0.0.0.0/36744] INFO  block.TestBlockToken (TestBlockToken.java:testBlockTokenRpcLeak(407)) - Num open fds:163
2020-12-03 07:19:53,372 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:getClient(63)) - getting client out of cache: org.apache.hadoop.ipc.Client@651aed93
2020-12-03 07:19:53,372 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:<init>(497)) - The ping interval is 60000 ms.
2020-12-03 07:19:53,372 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(795)) - Connecting to /127.0.0.1:36744
2020-12-03 07:19:53,373 [IPC Server listener on 0] DEBUG ipc.Server (Server.java:register(3727)) - Server connection from 127.0.0.1:49988; # active connections: 1; # queued calls: 0
2020-12-03 07:19:53,373 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: NEGOTIATE

2020-12-03 07:19:53,374 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:53,374 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:create(175)) - Created SASL server with mechanism = DIGEST-MD5
2020-12-03 07:19:53,374 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49988
2020-12-03 07:19:53,374 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49988 Wrote 194 bytes.
2020-12-03 07:19:53,375 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:getServerToken(268)) - Get token info proto:interface org.apache.hadoop.hdfs.protocolPB.ClientDatanodeProtocolPB info:@org.apache.hadoop.security.token.TokenInfo(value=class org.apache.hadoop.hdfs.security.token.block.BlockTokenSelector)
2020-12-03 07:19:53,375 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:createSaslClient(251)) - Creating SASL DIGEST-MD5(TOKEN)  client to authenticate to service at default
2020-12-03 07:19:53,376 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:selectSaslClient(177)) - Use TOKEN authentication for protocol ClientDatanodeProtocolPB
2020-12-03 07:19:53,376 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(678)) - SASL client callback: setting username: CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=
2020-12-03 07:19:53,376 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(683)) - SASL client callback: setting userPassword
2020-12-03 07:19:53,376 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(688)) - SASL client callback: setting realm: default
2020-12-03 07:19:53,377 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: INITIATE
token: "charset=utf-8,username=\"CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=\",realm=\"default\",nonce=\"wGTMinpsxX/ViTPET+NePNUicP/T72ohXJGvn4QB\",nc=00000001,cnonce=\"Armq/YgVtseTeve+5dq1QfAOV6UG5y323ATyo2zH\",digest-uri=\"/default\",maxbuf=65536,response=a8fa033f4e170012d02e5d2becdb8db9,qop=auth"
auths {
  method: "TOKEN"
  mechanism: "DIGEST-MD5"
  protocol: ""
  serverId: "default"
}

2020-12-03 07:19:53,377 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:53,378 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processSaslToken(2112)) - Have read input token of size 298 for processing by saslServer.evaluateResponse()
2020-12-03 07:19:53,380 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(310)) - SASL server DIGEST-MD5 callback: setting password for client: root (auth:SIMPLE)
2020-12-03 07:19:53,380 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(328)) - SASL server DIGEST-MD5 callback: setting canonicalized client ID: root
2020-12-03 07:19:53,381 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:buildSaslResponse(2129)) - Will send SUCCESS token of size 40 from saslServer.
2020-12-03 07:19:53,381 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2000)) - SASL server context established. Negotiated QoP is auth
2020-12-03 07:19:53,381 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2005)) - SASL server successfully authenticated client: root (auth:SIMPLE)
2020-12-03 07:19:53,381 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:saslProcess(2008)) - Auth successful for root (auth:SIMPLE)
2020-12-03 07:19:53,381 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49988
2020-12-03 07:19:53,382 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49988 Wrote 64 bytes.
2020-12-03 07:19:53,382 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(837)) - Negotiated QOP is :auth
2020-12-03 07:19:53,383 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1074)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: starting, having connections 1
2020-12-03 07:19:53,383 [IPC Parameter Sending Thread #0] DEBUG ipc.Client (Client.java:run(1137)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 sending #39 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength
2020-12-03 07:19:53,383 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-3
2020-12-03 07:19:53,383 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:authorizeConnection(2750)) - Successfully authorized userInfo {
}
protocol: "org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol"

2020-12-03 07:19:53,383 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #39
2020-12-03 07:19:53,384 [IPC Server handler 4 on default port 36744] DEBUG ipc.Server (Server.java:run(2902)) - IPC Server handler 4 on default port 36744: Call#39 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49988 for RpcKind RPC_PROTOCOL_BUFFER
2020-12-03 07:19:53,384 [IPC Server handler 4 on default port 36744] INFO  ipc.Server (ProtobufRpcEngine.java:call(505)) - Call: connectionProtocolName=org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol, method=getReplicaVisibleLength
2020-12-03 07:19:53,385 [IPC Server handler 4 on default port 36744] INFO  block.TestBlockToken (TestBlockToken.java:answer(151)) - Got: block_token_identifier (expiryDate=1606980111387, keyId=57518194, userId=root, blockPoolId=-10, blockId=-108, access modes=[READ, WRITE, COPY, REPLACE], storageTypes= [DISK], storageIds= [])
2020-12-03 07:19:53,385 [IPC Server handler 4 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1615)) - IPC Server handler 4 on default port 36744: responding to Call#39 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49988
2020-12-03 07:19:53,385 [IPC Server handler 4 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1634)) - IPC Server handler 4 on default port 36744: responding to Call#39 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49988 Wrote 43 bytes.
2020-12-03 07:19:53,385 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:receiveRpcResponse(1191)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 got value #39
2020-12-03 07:19:53,386 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:close(1283)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: closed
2020-12-03 07:19:53,386 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1092)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: stopped, remaining connections 0
2020-12-03 07:19:53,386 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:close(3738)) - Socket Reader #1 for port 0: disconnecting client 127.0.0.1:49988. Number of active connections: 0
2020-12-03 07:19:53,386 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(97)) - stopping client from cache: org.apache.hadoop.ipc.Client@651aed93
2020-12-03 07:19:53,387 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(103)) - removing client from cache: org.apache.hadoop.ipc.Client@651aed93
2020-12-03 07:19:53,387 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(110)) - stopping actual client because no more references remain: org.apache.hadoop.ipc.Client@651aed93
2020-12-03 07:19:53,387 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:stop(1340)) - Stopping client
2020-12-03 07:19:53,388 [Listener at 0.0.0.0/36744] INFO  block.TestBlockToken (TestBlockToken.java:testBlockTokenRpcLeak(407)) - Num open fds:163
2020-12-03 07:19:53,389 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:getClient(63)) - getting client out of cache: org.apache.hadoop.ipc.Client@1cb346ea
2020-12-03 07:19:53,389 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:<init>(497)) - The ping interval is 60000 ms.
2020-12-03 07:19:53,389 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(795)) - Connecting to /127.0.0.1:36744
2020-12-03 07:19:53,390 [IPC Server listener on 0] DEBUG ipc.Server (Server.java:register(3727)) - Server connection from 127.0.0.1:49992; # active connections: 1; # queued calls: 0
2020-12-03 07:19:53,390 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: NEGOTIATE

2020-12-03 07:19:53,391 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:53,391 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:create(175)) - Created SASL server with mechanism = DIGEST-MD5
2020-12-03 07:19:53,391 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49992
2020-12-03 07:19:53,391 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49992 Wrote 194 bytes.
2020-12-03 07:19:53,392 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:getServerToken(268)) - Get token info proto:interface org.apache.hadoop.hdfs.protocolPB.ClientDatanodeProtocolPB info:@org.apache.hadoop.security.token.TokenInfo(value=class org.apache.hadoop.hdfs.security.token.block.BlockTokenSelector)
2020-12-03 07:19:53,392 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:createSaslClient(251)) - Creating SASL DIGEST-MD5(TOKEN)  client to authenticate to service at default
2020-12-03 07:19:53,392 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:selectSaslClient(177)) - Use TOKEN authentication for protocol ClientDatanodeProtocolPB
2020-12-03 07:19:53,392 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(678)) - SASL client callback: setting username: CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=
2020-12-03 07:19:53,393 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(683)) - SASL client callback: setting userPassword
2020-12-03 07:19:53,393 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(688)) - SASL client callback: setting realm: default
2020-12-03 07:19:53,393 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: INITIATE
token: "charset=utf-8,username=\"CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=\",realm=\"default\",nonce=\"RGFmDmU3eeINavfECnYEH4/Z9UtbaSJDW3vuioLk\",nc=00000001,cnonce=\"2uHvyiPbBOXaEyys6Q3/3Y0/Qf9bNS7Hf/zZch04\",digest-uri=\"/default\",maxbuf=65536,response=7f961eb16edd6afcc6780a65fa8dfea1,qop=auth"
auths {
  method: "TOKEN"
  mechanism: "DIGEST-MD5"
  protocol: ""
  serverId: "default"
}

2020-12-03 07:19:53,394 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:53,394 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processSaslToken(2112)) - Have read input token of size 298 for processing by saslServer.evaluateResponse()
2020-12-03 07:19:53,395 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(310)) - SASL server DIGEST-MD5 callback: setting password for client: root (auth:SIMPLE)
2020-12-03 07:19:53,395 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(328)) - SASL server DIGEST-MD5 callback: setting canonicalized client ID: root
2020-12-03 07:19:53,395 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:buildSaslResponse(2129)) - Will send SUCCESS token of size 40 from saslServer.
2020-12-03 07:19:53,395 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2000)) - SASL server context established. Negotiated QoP is auth
2020-12-03 07:19:53,396 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2005)) - SASL server successfully authenticated client: root (auth:SIMPLE)
2020-12-03 07:19:53,396 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:saslProcess(2008)) - Auth successful for root (auth:SIMPLE)
2020-12-03 07:19:53,396 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49992
2020-12-03 07:19:53,396 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49992 Wrote 64 bytes.
2020-12-03 07:19:53,397 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(837)) - Negotiated QOP is :auth
2020-12-03 07:19:53,397 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1074)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: starting, having connections 1
2020-12-03 07:19:53,398 [IPC Parameter Sending Thread #0] DEBUG ipc.Client (Client.java:run(1137)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 sending #40 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength
2020-12-03 07:19:53,398 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-3
2020-12-03 07:19:53,398 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:authorizeConnection(2750)) - Successfully authorized userInfo {
}
protocol: "org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol"

2020-12-03 07:19:53,399 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #40
2020-12-03 07:19:53,399 [IPC Server handler 0 on default port 36744] DEBUG ipc.Server (Server.java:run(2902)) - IPC Server handler 0 on default port 36744: Call#40 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49992 for RpcKind RPC_PROTOCOL_BUFFER
2020-12-03 07:19:53,399 [IPC Server handler 0 on default port 36744] INFO  ipc.Server (ProtobufRpcEngine.java:call(505)) - Call: connectionProtocolName=org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol, method=getReplicaVisibleLength
2020-12-03 07:19:53,399 [IPC Server handler 0 on default port 36744] INFO  block.TestBlockToken (TestBlockToken.java:answer(151)) - Got: block_token_identifier (expiryDate=1606980111387, keyId=57518194, userId=root, blockPoolId=-10, blockId=-108, access modes=[READ, WRITE, COPY, REPLACE], storageTypes= [DISK], storageIds= [])
2020-12-03 07:19:53,400 [IPC Server handler 0 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1615)) - IPC Server handler 0 on default port 36744: responding to Call#40 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49992
2020-12-03 07:19:53,400 [IPC Server handler 0 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1634)) - IPC Server handler 0 on default port 36744: responding to Call#40 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49992 Wrote 43 bytes.
2020-12-03 07:19:53,400 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:receiveRpcResponse(1191)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 got value #40
2020-12-03 07:19:53,400 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:close(1283)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: closed
2020-12-03 07:19:53,401 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1092)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: stopped, remaining connections 0
2020-12-03 07:19:53,404 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(97)) - stopping client from cache: org.apache.hadoop.ipc.Client@1cb346ea
2020-12-03 07:19:53,404 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(103)) - removing client from cache: org.apache.hadoop.ipc.Client@1cb346ea
2020-12-03 07:19:53,404 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(110)) - stopping actual client because no more references remain: org.apache.hadoop.ipc.Client@1cb346ea
2020-12-03 07:19:53,404 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:stop(1340)) - Stopping client
2020-12-03 07:19:53,405 [Listener at 0.0.0.0/36744] INFO  block.TestBlockToken (TestBlockToken.java:testBlockTokenRpcLeak(407)) - Num open fds:164
2020-12-03 07:19:53,407 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:getClient(63)) - getting client out of cache: org.apache.hadoop.ipc.Client@59e2d8e3
2020-12-03 07:19:53,400 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:close(3738)) - Socket Reader #1 for port 0: disconnecting client 127.0.0.1:49992. Number of active connections: 0
2020-12-03 07:19:53,407 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:<init>(497)) - The ping interval is 60000 ms.
2020-12-03 07:19:53,408 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(795)) - Connecting to /127.0.0.1:36744
2020-12-03 07:19:53,409 [IPC Server listener on 0] DEBUG ipc.Server (Server.java:register(3727)) - Server connection from 127.0.0.1:49994; # active connections: 1; # queued calls: 0
2020-12-03 07:19:53,409 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: NEGOTIATE

2020-12-03 07:19:53,410 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:53,410 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:create(175)) - Created SASL server with mechanism = DIGEST-MD5
2020-12-03 07:19:53,410 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49994
2020-12-03 07:19:53,410 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49994 Wrote 194 bytes.
2020-12-03 07:19:53,411 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:getServerToken(268)) - Get token info proto:interface org.apache.hadoop.hdfs.protocolPB.ClientDatanodeProtocolPB info:@org.apache.hadoop.security.token.TokenInfo(value=class org.apache.hadoop.hdfs.security.token.block.BlockTokenSelector)
2020-12-03 07:19:53,411 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:createSaslClient(251)) - Creating SASL DIGEST-MD5(TOKEN)  client to authenticate to service at default
2020-12-03 07:19:53,412 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:selectSaslClient(177)) - Use TOKEN authentication for protocol ClientDatanodeProtocolPB
2020-12-03 07:19:53,412 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(678)) - SASL client callback: setting username: CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=
2020-12-03 07:19:53,412 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(683)) - SASL client callback: setting userPassword
2020-12-03 07:19:53,413 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(688)) - SASL client callback: setting realm: default
2020-12-03 07:19:53,414 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: INITIATE
token: "charset=utf-8,username=\"CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=\",realm=\"default\",nonce=\"Me5YIzseN2Z97WUDfNSPSJ4Qsjb8xDMcYoxD/hmm\",nc=00000001,cnonce=\"LVz15Hek7XB5YszaqCZVRExJWz+7cCHP7MQP6IEm\",digest-uri=\"/default\",maxbuf=65536,response=0942243fa39f814f0b948aa839db573c,qop=auth"
auths {
  method: "TOKEN"
  mechanism: "DIGEST-MD5"
  protocol: ""
  serverId: "default"
}

2020-12-03 07:19:53,414 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:53,415 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processSaslToken(2112)) - Have read input token of size 298 for processing by saslServer.evaluateResponse()
2020-12-03 07:19:53,416 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(310)) - SASL server DIGEST-MD5 callback: setting password for client: root (auth:SIMPLE)
2020-12-03 07:19:53,416 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(328)) - SASL server DIGEST-MD5 callback: setting canonicalized client ID: root
2020-12-03 07:19:53,416 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:buildSaslResponse(2129)) - Will send SUCCESS token of size 40 from saslServer.
2020-12-03 07:19:53,417 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2000)) - SASL server context established. Negotiated QoP is auth
2020-12-03 07:19:53,417 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2005)) - SASL server successfully authenticated client: root (auth:SIMPLE)
2020-12-03 07:19:53,417 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:saslProcess(2008)) - Auth successful for root (auth:SIMPLE)
2020-12-03 07:19:53,417 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49994
2020-12-03 07:19:53,418 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49994 Wrote 64 bytes.
2020-12-03 07:19:53,418 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(837)) - Negotiated QOP is :auth
2020-12-03 07:19:53,419 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1074)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: starting, having connections 1
2020-12-03 07:19:53,420 [IPC Parameter Sending Thread #0] DEBUG ipc.Client (Client.java:run(1137)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 sending #41 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength
2020-12-03 07:19:53,420 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-3
2020-12-03 07:19:53,421 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:authorizeConnection(2750)) - Successfully authorized userInfo {
}
protocol: "org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol"

2020-12-03 07:19:53,421 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #41
2020-12-03 07:19:53,421 [IPC Server handler 1 on default port 36744] DEBUG ipc.Server (Server.java:run(2902)) - IPC Server handler 1 on default port 36744: Call#41 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49994 for RpcKind RPC_PROTOCOL_BUFFER
2020-12-03 07:19:53,421 [IPC Server handler 1 on default port 36744] INFO  ipc.Server (ProtobufRpcEngine.java:call(505)) - Call: connectionProtocolName=org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol, method=getReplicaVisibleLength
2020-12-03 07:19:53,422 [IPC Server handler 1 on default port 36744] INFO  block.TestBlockToken (TestBlockToken.java:answer(151)) - Got: block_token_identifier (expiryDate=1606980111387, keyId=57518194, userId=root, blockPoolId=-10, blockId=-108, access modes=[READ, WRITE, COPY, REPLACE], storageTypes= [DISK], storageIds= [])
2020-12-03 07:19:53,422 [IPC Server handler 1 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1615)) - IPC Server handler 1 on default port 36744: responding to Call#41 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49994
2020-12-03 07:19:53,422 [IPC Server handler 1 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1634)) - IPC Server handler 1 on default port 36744: responding to Call#41 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49994 Wrote 43 bytes.
2020-12-03 07:19:53,422 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:receiveRpcResponse(1191)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 got value #41
2020-12-03 07:19:53,423 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:close(1283)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: closed
2020-12-03 07:19:53,423 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1092)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: stopped, remaining connections 0
2020-12-03 07:19:53,423 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(97)) - stopping client from cache: org.apache.hadoop.ipc.Client@59e2d8e3
2020-12-03 07:19:53,424 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(103)) - removing client from cache: org.apache.hadoop.ipc.Client@59e2d8e3
2020-12-03 07:19:53,424 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(110)) - stopping actual client because no more references remain: org.apache.hadoop.ipc.Client@59e2d8e3
2020-12-03 07:19:53,424 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:stop(1340)) - Stopping client
2020-12-03 07:19:53,423 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:close(3738)) - Socket Reader #1 for port 0: disconnecting client 127.0.0.1:49994. Number of active connections: 0
2020-12-03 07:19:53,425 [Listener at 0.0.0.0/36744] INFO  block.TestBlockToken (TestBlockToken.java:testBlockTokenRpcLeak(407)) - Num open fds:163
2020-12-03 07:19:53,427 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:getClient(63)) - getting client out of cache: org.apache.hadoop.ipc.Client@5d99c6b5
2020-12-03 07:19:53,427 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:<init>(497)) - The ping interval is 60000 ms.
2020-12-03 07:19:53,429 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(795)) - Connecting to /127.0.0.1:36744
2020-12-03 07:19:53,429 [IPC Server listener on 0] DEBUG ipc.Server (Server.java:register(3727)) - Server connection from 127.0.0.1:49998; # active connections: 1; # queued calls: 0
2020-12-03 07:19:53,430 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: NEGOTIATE

2020-12-03 07:19:53,430 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:53,430 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:create(175)) - Created SASL server with mechanism = DIGEST-MD5
2020-12-03 07:19:53,431 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49998
2020-12-03 07:19:53,431 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49998 Wrote 194 bytes.
2020-12-03 07:19:53,431 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:getServerToken(268)) - Get token info proto:interface org.apache.hadoop.hdfs.protocolPB.ClientDatanodeProtocolPB info:@org.apache.hadoop.security.token.TokenInfo(value=class org.apache.hadoop.hdfs.security.token.block.BlockTokenSelector)
2020-12-03 07:19:53,432 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:createSaslClient(251)) - Creating SASL DIGEST-MD5(TOKEN)  client to authenticate to service at default
2020-12-03 07:19:53,433 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:selectSaslClient(177)) - Use TOKEN authentication for protocol ClientDatanodeProtocolPB
2020-12-03 07:19:53,433 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(678)) - SASL client callback: setting username: CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=
2020-12-03 07:19:53,433 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(683)) - SASL client callback: setting userPassword
2020-12-03 07:19:53,433 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(688)) - SASL client callback: setting realm: default
2020-12-03 07:19:53,434 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: INITIATE
token: "charset=utf-8,username=\"CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=\",realm=\"default\",nonce=\"rV/Oag/N2JD7/VKXqUDjmyOEOJDu1ipV0xhtXp+O\",nc=00000001,cnonce=\"LL3UWxizUcJHtJnSDsAy81h3qZZWGhjo8BvGlEo1\",digest-uri=\"/default\",maxbuf=65536,response=246476aaef9efb515c1393b5bfdb6203,qop=auth"
auths {
  method: "TOKEN"
  mechanism: "DIGEST-MD5"
  protocol: ""
  serverId: "default"
}

2020-12-03 07:19:53,435 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:53,435 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processSaslToken(2112)) - Have read input token of size 298 for processing by saslServer.evaluateResponse()
2020-12-03 07:19:53,440 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(310)) - SASL server DIGEST-MD5 callback: setting password for client: root (auth:SIMPLE)
2020-12-03 07:19:53,441 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(328)) - SASL server DIGEST-MD5 callback: setting canonicalized client ID: root
2020-12-03 07:19:53,441 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:buildSaslResponse(2129)) - Will send SUCCESS token of size 40 from saslServer.
2020-12-03 07:19:53,441 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2000)) - SASL server context established. Negotiated QoP is auth
2020-12-03 07:19:53,442 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2005)) - SASL server successfully authenticated client: root (auth:SIMPLE)
2020-12-03 07:19:53,442 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:saslProcess(2008)) - Auth successful for root (auth:SIMPLE)
2020-12-03 07:19:53,442 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49998
2020-12-03 07:19:53,447 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:49998 Wrote 64 bytes.
2020-12-03 07:19:53,448 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(837)) - Negotiated QOP is :auth
2020-12-03 07:19:53,448 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1074)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: starting, having connections 1
2020-12-03 07:19:53,449 [IPC Parameter Sending Thread #0] DEBUG ipc.Client (Client.java:run(1137)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 sending #42 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength
2020-12-03 07:19:53,449 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-3
2020-12-03 07:19:53,449 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:authorizeConnection(2750)) - Successfully authorized userInfo {
}
protocol: "org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol"

2020-12-03 07:19:53,450 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #42
2020-12-03 07:19:53,450 [IPC Server handler 3 on default port 36744] DEBUG ipc.Server (Server.java:run(2902)) - IPC Server handler 3 on default port 36744: Call#42 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49998 for RpcKind RPC_PROTOCOL_BUFFER
2020-12-03 07:19:53,450 [IPC Server handler 3 on default port 36744] INFO  ipc.Server (ProtobufRpcEngine.java:call(505)) - Call: connectionProtocolName=org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol, method=getReplicaVisibleLength
2020-12-03 07:19:53,451 [IPC Server handler 3 on default port 36744] INFO  block.TestBlockToken (TestBlockToken.java:answer(151)) - Got: block_token_identifier (expiryDate=1606980111387, keyId=57518194, userId=root, blockPoolId=-10, blockId=-108, access modes=[READ, WRITE, COPY, REPLACE], storageTypes= [DISK], storageIds= [])
2020-12-03 07:19:53,451 [IPC Server handler 3 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1615)) - IPC Server handler 3 on default port 36744: responding to Call#42 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49998
2020-12-03 07:19:53,452 [IPC Server handler 3 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1634)) - IPC Server handler 3 on default port 36744: responding to Call#42 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:49998 Wrote 43 bytes.
2020-12-03 07:19:53,452 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:receiveRpcResponse(1191)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 got value #42
2020-12-03 07:19:53,452 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(97)) - stopping client from cache: org.apache.hadoop.ipc.Client@5d99c6b5
2020-12-03 07:19:53,452 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:close(3738)) - Socket Reader #1 for port 0: disconnecting client 127.0.0.1:49998. Number of active connections: 0
2020-12-03 07:19:53,452 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:close(1283)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: closed
2020-12-03 07:19:53,452 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(103)) - removing client from cache: org.apache.hadoop.ipc.Client@5d99c6b5
2020-12-03 07:19:53,453 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(110)) - stopping actual client because no more references remain: org.apache.hadoop.ipc.Client@5d99c6b5
2020-12-03 07:19:53,453 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:stop(1340)) - Stopping client
2020-12-03 07:19:53,453 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1092)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: stopped, remaining connections 0
2020-12-03 07:19:53,454 [Listener at 0.0.0.0/36744] INFO  block.TestBlockToken (TestBlockToken.java:testBlockTokenRpcLeak(407)) - Num open fds:163
2020-12-03 07:19:53,455 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:getClient(63)) - getting client out of cache: org.apache.hadoop.ipc.Client@7fc4780b
2020-12-03 07:19:53,455 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:<init>(497)) - The ping interval is 60000 ms.
2020-12-03 07:19:53,456 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(795)) - Connecting to /127.0.0.1:36744
2020-12-03 07:19:53,456 [IPC Server listener on 0] DEBUG ipc.Server (Server.java:register(3727)) - Server connection from 127.0.0.1:50002; # active connections: 1; # queued calls: 0
2020-12-03 07:19:53,456 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: NEGOTIATE

2020-12-03 07:19:53,457 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:53,457 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:create(175)) - Created SASL server with mechanism = DIGEST-MD5
2020-12-03 07:19:53,457 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50002
2020-12-03 07:19:53,458 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50002 Wrote 194 bytes.
2020-12-03 07:19:53,458 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:getServerToken(268)) - Get token info proto:interface org.apache.hadoop.hdfs.protocolPB.ClientDatanodeProtocolPB info:@org.apache.hadoop.security.token.TokenInfo(value=class org.apache.hadoop.hdfs.security.token.block.BlockTokenSelector)
2020-12-03 07:19:53,458 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:createSaslClient(251)) - Creating SASL DIGEST-MD5(TOKEN)  client to authenticate to service at default
2020-12-03 07:19:53,459 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:selectSaslClient(177)) - Use TOKEN authentication for protocol ClientDatanodeProtocolPB
2020-12-03 07:19:53,459 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(678)) - SASL client callback: setting username: CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=
2020-12-03 07:19:53,459 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(683)) - SASL client callback: setting userPassword
2020-12-03 07:19:53,459 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(688)) - SASL client callback: setting realm: default
2020-12-03 07:19:53,460 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: INITIATE
token: "charset=utf-8,username=\"CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=\",realm=\"default\",nonce=\"UjDDfejypQmLRYO+7s8AFAx6MTZrnDm6OuhhfquO\",nc=00000001,cnonce=\"p0LeYBOUqUVgNt4HRDJv0G5RCM2OLDlVF4UZ18uM\",digest-uri=\"/default\",maxbuf=65536,response=a30ce92f01e58179201115244abefbeb,qop=auth"
auths {
  method: "TOKEN"
  mechanism: "DIGEST-MD5"
  protocol: ""
  serverId: "default"
}

2020-12-03 07:19:53,460 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:53,460 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processSaslToken(2112)) - Have read input token of size 298 for processing by saslServer.evaluateResponse()
2020-12-03 07:19:53,461 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(310)) - SASL server DIGEST-MD5 callback: setting password for client: root (auth:SIMPLE)
2020-12-03 07:19:53,462 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(328)) - SASL server DIGEST-MD5 callback: setting canonicalized client ID: root
2020-12-03 07:19:53,462 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:buildSaslResponse(2129)) - Will send SUCCESS token of size 40 from saslServer.
2020-12-03 07:19:53,462 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2000)) - SASL server context established. Negotiated QoP is auth
2020-12-03 07:19:53,462 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2005)) - SASL server successfully authenticated client: root (auth:SIMPLE)
2020-12-03 07:19:53,462 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:saslProcess(2008)) - Auth successful for root (auth:SIMPLE)
2020-12-03 07:19:53,463 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50002
2020-12-03 07:19:53,463 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50002 Wrote 64 bytes.
2020-12-03 07:19:53,463 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(837)) - Negotiated QOP is :auth
2020-12-03 07:19:53,468 [IPC Parameter Sending Thread #0] DEBUG ipc.Client (Client.java:run(1137)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 sending #43 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength
2020-12-03 07:19:53,468 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-3
2020-12-03 07:19:53,468 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:authorizeConnection(2750)) - Successfully authorized userInfo {
}
protocol: "org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol"

2020-12-03 07:19:53,469 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #43
2020-12-03 07:19:53,469 [IPC Server handler 2 on default port 36744] DEBUG ipc.Server (Server.java:run(2902)) - IPC Server handler 2 on default port 36744: Call#43 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50002 for RpcKind RPC_PROTOCOL_BUFFER
2020-12-03 07:19:53,469 [IPC Server handler 2 on default port 36744] INFO  ipc.Server (ProtobufRpcEngine.java:call(505)) - Call: connectionProtocolName=org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol, method=getReplicaVisibleLength
2020-12-03 07:19:53,470 [IPC Server handler 2 on default port 36744] INFO  block.TestBlockToken (TestBlockToken.java:answer(151)) - Got: block_token_identifier (expiryDate=1606980111387, keyId=57518194, userId=root, blockPoolId=-10, blockId=-108, access modes=[READ, WRITE, COPY, REPLACE], storageTypes= [DISK], storageIds= [])
2020-12-03 07:19:53,470 [IPC Server handler 2 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1615)) - IPC Server handler 2 on default port 36744: responding to Call#43 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50002
2020-12-03 07:19:53,470 [IPC Server handler 2 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1634)) - IPC Server handler 2 on default port 36744: responding to Call#43 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50002 Wrote 43 bytes.
2020-12-03 07:19:53,472 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1074)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: starting, having connections 1
2020-12-03 07:19:53,472 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:receiveRpcResponse(1191)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 got value #43
2020-12-03 07:19:53,472 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(97)) - stopping client from cache: org.apache.hadoop.ipc.Client@7fc4780b
2020-12-03 07:19:53,472 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(103)) - removing client from cache: org.apache.hadoop.ipc.Client@7fc4780b
2020-12-03 07:19:53,473 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(110)) - stopping actual client because no more references remain: org.apache.hadoop.ipc.Client@7fc4780b
2020-12-03 07:19:53,473 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:stop(1340)) - Stopping client
2020-12-03 07:19:53,472 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:close(1283)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: closed
2020-12-03 07:19:53,473 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1092)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: stopped, remaining connections 0
2020-12-03 07:19:53,474 [Listener at 0.0.0.0/36744] INFO  block.TestBlockToken (TestBlockToken.java:testBlockTokenRpcLeak(407)) - Num open fds:164
2020-12-03 07:19:53,472 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:close(3738)) - Socket Reader #1 for port 0: disconnecting client 127.0.0.1:50002. Number of active connections: 0
2020-12-03 07:19:53,475 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:getClient(63)) - getting client out of cache: org.apache.hadoop.ipc.Client@5a37d3ed
2020-12-03 07:19:53,476 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:<init>(497)) - The ping interval is 60000 ms.
2020-12-03 07:19:53,476 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(795)) - Connecting to /127.0.0.1:36744
2020-12-03 07:19:53,476 [IPC Server listener on 0] DEBUG ipc.Server (Server.java:register(3727)) - Server connection from 127.0.0.1:50006; # active connections: 1; # queued calls: 0
2020-12-03 07:19:53,477 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: NEGOTIATE

2020-12-03 07:19:53,477 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:53,477 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:create(175)) - Created SASL server with mechanism = DIGEST-MD5
2020-12-03 07:19:53,478 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50006
2020-12-03 07:19:53,478 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50006 Wrote 194 bytes.
2020-12-03 07:19:53,478 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:getServerToken(268)) - Get token info proto:interface org.apache.hadoop.hdfs.protocolPB.ClientDatanodeProtocolPB info:@org.apache.hadoop.security.token.TokenInfo(value=class org.apache.hadoop.hdfs.security.token.block.BlockTokenSelector)
2020-12-03 07:19:53,478 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:createSaslClient(251)) - Creating SASL DIGEST-MD5(TOKEN)  client to authenticate to service at default
2020-12-03 07:19:53,479 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:selectSaslClient(177)) - Use TOKEN authentication for protocol ClientDatanodeProtocolPB
2020-12-03 07:19:53,479 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(678)) - SASL client callback: setting username: CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=
2020-12-03 07:19:53,479 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(683)) - SASL client callback: setting userPassword
2020-12-03 07:19:53,479 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(688)) - SASL client callback: setting realm: default
2020-12-03 07:19:53,480 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: INITIATE
token: "charset=utf-8,username=\"CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=\",realm=\"default\",nonce=\"4UCKffQFEfJvql//nXEdyPyi9/b9o2E+1usPgEcq\",nc=00000001,cnonce=\"Gfe2daTRyoDbnAC6HpOMa8BxonOhVLkWkDffG8zS\",digest-uri=\"/default\",maxbuf=65536,response=0c51aa6d52cf65265547de8bf081f70d,qop=auth"
auths {
  method: "TOKEN"
  mechanism: "DIGEST-MD5"
  protocol: ""
  serverId: "default"
}

2020-12-03 07:19:53,481 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:53,481 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processSaslToken(2112)) - Have read input token of size 298 for processing by saslServer.evaluateResponse()
2020-12-03 07:19:53,481 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(310)) - SASL server DIGEST-MD5 callback: setting password for client: root (auth:SIMPLE)
2020-12-03 07:19:53,482 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(328)) - SASL server DIGEST-MD5 callback: setting canonicalized client ID: root
2020-12-03 07:19:53,482 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:buildSaslResponse(2129)) - Will send SUCCESS token of size 40 from saslServer.
2020-12-03 07:19:53,482 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2000)) - SASL server context established. Negotiated QoP is auth
2020-12-03 07:19:53,482 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2005)) - SASL server successfully authenticated client: root (auth:SIMPLE)
2020-12-03 07:19:53,482 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:saslProcess(2008)) - Auth successful for root (auth:SIMPLE)
2020-12-03 07:19:53,482 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50006
2020-12-03 07:19:53,483 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50006 Wrote 64 bytes.
2020-12-03 07:19:53,483 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(837)) - Negotiated QOP is :auth
2020-12-03 07:19:53,484 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1074)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: starting, having connections 1
2020-12-03 07:19:53,484 [IPC Parameter Sending Thread #0] DEBUG ipc.Client (Client.java:run(1137)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 sending #44 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength
2020-12-03 07:19:53,484 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-3
2020-12-03 07:19:53,484 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:authorizeConnection(2750)) - Successfully authorized userInfo {
}
protocol: "org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol"

2020-12-03 07:19:53,485 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #44
2020-12-03 07:19:53,485 [IPC Server handler 4 on default port 36744] DEBUG ipc.Server (Server.java:run(2902)) - IPC Server handler 4 on default port 36744: Call#44 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50006 for RpcKind RPC_PROTOCOL_BUFFER
2020-12-03 07:19:53,485 [IPC Server handler 4 on default port 36744] INFO  ipc.Server (ProtobufRpcEngine.java:call(505)) - Call: connectionProtocolName=org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol, method=getReplicaVisibleLength
2020-12-03 07:19:53,486 [IPC Server handler 4 on default port 36744] INFO  block.TestBlockToken (TestBlockToken.java:answer(151)) - Got: block_token_identifier (expiryDate=1606980111387, keyId=57518194, userId=root, blockPoolId=-10, blockId=-108, access modes=[READ, WRITE, COPY, REPLACE], storageTypes= [DISK], storageIds= [])
2020-12-03 07:19:53,486 [IPC Server handler 4 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1615)) - IPC Server handler 4 on default port 36744: responding to Call#44 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50006
2020-12-03 07:19:53,486 [IPC Server handler 4 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1634)) - IPC Server handler 4 on default port 36744: responding to Call#44 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50006 Wrote 43 bytes.
2020-12-03 07:19:53,486 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:receiveRpcResponse(1191)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 got value #44
2020-12-03 07:19:53,487 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:close(1283)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: closed
2020-12-03 07:19:53,487 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:close(3738)) - Socket Reader #1 for port 0: disconnecting client 127.0.0.1:50006. Number of active connections: 0
2020-12-03 07:19:53,487 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(97)) - stopping client from cache: org.apache.hadoop.ipc.Client@5a37d3ed
2020-12-03 07:19:53,487 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1092)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: stopped, remaining connections 0
2020-12-03 07:19:53,487 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(103)) - removing client from cache: org.apache.hadoop.ipc.Client@5a37d3ed
2020-12-03 07:19:53,487 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(110)) - stopping actual client because no more references remain: org.apache.hadoop.ipc.Client@5a37d3ed
2020-12-03 07:19:53,488 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:stop(1340)) - Stopping client
2020-12-03 07:19:53,488 [Listener at 0.0.0.0/36744] INFO  block.TestBlockToken (TestBlockToken.java:testBlockTokenRpcLeak(407)) - Num open fds:173
2020-12-03 07:19:53,490 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:getClient(63)) - getting client out of cache: org.apache.hadoop.ipc.Client@6f6745d6
2020-12-03 07:19:53,490 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:<init>(497)) - The ping interval is 60000 ms.
2020-12-03 07:19:53,491 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(795)) - Connecting to /127.0.0.1:36744
2020-12-03 07:19:53,491 [IPC Server listener on 0] DEBUG ipc.Server (Server.java:register(3727)) - Server connection from 127.0.0.1:50010; # active connections: 1; # queued calls: 0
2020-12-03 07:19:53,492 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: NEGOTIATE

2020-12-03 07:19:53,492 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:53,493 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:create(175)) - Created SASL server with mechanism = DIGEST-MD5
2020-12-03 07:19:53,493 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50010
2020-12-03 07:19:53,493 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50010 Wrote 194 bytes.
2020-12-03 07:19:53,494 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:getServerToken(268)) - Get token info proto:interface org.apache.hadoop.hdfs.protocolPB.ClientDatanodeProtocolPB info:@org.apache.hadoop.security.token.TokenInfo(value=class org.apache.hadoop.hdfs.security.token.block.BlockTokenSelector)
2020-12-03 07:19:53,494 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:createSaslClient(251)) - Creating SASL DIGEST-MD5(TOKEN)  client to authenticate to service at default
2020-12-03 07:19:53,495 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:selectSaslClient(177)) - Use TOKEN authentication for protocol ClientDatanodeProtocolPB
2020-12-03 07:19:53,495 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(678)) - SASL client callback: setting username: CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=
2020-12-03 07:19:53,495 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(683)) - SASL client callback: setting userPassword
2020-12-03 07:19:53,496 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(688)) - SASL client callback: setting realm: default
2020-12-03 07:19:53,496 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: INITIATE
token: "charset=utf-8,username=\"CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=\",realm=\"default\",nonce=\"4GpCbsEW0DhLctb8H5dPVt8Fz+bh7/hFDv1S4EOP\",nc=00000001,cnonce=\"o4foxcUd3+QzHWA8j2jcbEn78N13/k2/SE0WCX/Q\",digest-uri=\"/default\",maxbuf=65536,response=7960ef22f668e50b3536b764f732024c,qop=auth"
auths {
  method: "TOKEN"
  mechanism: "DIGEST-MD5"
  protocol: ""
  serverId: "default"
}

2020-12-03 07:19:53,497 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:53,497 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processSaslToken(2112)) - Have read input token of size 298 for processing by saslServer.evaluateResponse()
2020-12-03 07:19:53,498 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(310)) - SASL server DIGEST-MD5 callback: setting password for client: root (auth:SIMPLE)
2020-12-03 07:19:53,499 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(328)) - SASL server DIGEST-MD5 callback: setting canonicalized client ID: root
2020-12-03 07:19:53,499 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:buildSaslResponse(2129)) - Will send SUCCESS token of size 40 from saslServer.
2020-12-03 07:19:53,499 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2000)) - SASL server context established. Negotiated QoP is auth
2020-12-03 07:19:53,499 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2005)) - SASL server successfully authenticated client: root (auth:SIMPLE)
2020-12-03 07:19:53,500 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:saslProcess(2008)) - Auth successful for root (auth:SIMPLE)
2020-12-03 07:19:53,500 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50010
2020-12-03 07:19:53,500 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50010 Wrote 64 bytes.
2020-12-03 07:19:53,501 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(837)) - Negotiated QOP is :auth
2020-12-03 07:19:53,502 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1074)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: starting, having connections 1
2020-12-03 07:19:53,502 [IPC Parameter Sending Thread #0] DEBUG ipc.Client (Client.java:run(1137)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 sending #45 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength
2020-12-03 07:19:53,502 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-3
2020-12-03 07:19:53,503 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:authorizeConnection(2750)) - Successfully authorized userInfo {
}
protocol: "org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol"

2020-12-03 07:19:53,503 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #45
2020-12-03 07:19:53,508 [IPC Server handler 0 on default port 36744] DEBUG ipc.Server (Server.java:run(2902)) - IPC Server handler 0 on default port 36744: Call#45 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50010 for RpcKind RPC_PROTOCOL_BUFFER
2020-12-03 07:19:53,508 [IPC Server handler 0 on default port 36744] INFO  ipc.Server (ProtobufRpcEngine.java:call(505)) - Call: connectionProtocolName=org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol, method=getReplicaVisibleLength
2020-12-03 07:19:53,509 [IPC Server handler 0 on default port 36744] INFO  block.TestBlockToken (TestBlockToken.java:answer(151)) - Got: block_token_identifier (expiryDate=1606980111387, keyId=57518194, userId=root, blockPoolId=-10, blockId=-108, access modes=[READ, WRITE, COPY, REPLACE], storageTypes= [DISK], storageIds= [])
2020-12-03 07:19:53,509 [IPC Server handler 0 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1615)) - IPC Server handler 0 on default port 36744: responding to Call#45 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50010
2020-12-03 07:19:53,509 [IPC Server handler 0 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1634)) - IPC Server handler 0 on default port 36744: responding to Call#45 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50010 Wrote 43 bytes.
2020-12-03 07:19:53,510 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:receiveRpcResponse(1191)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 got value #45
2020-12-03 07:19:53,510 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:close(1283)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: closed
2020-12-03 07:19:53,510 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1092)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: stopped, remaining connections 0
2020-12-03 07:19:53,510 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:close(3738)) - Socket Reader #1 for port 0: disconnecting client 127.0.0.1:50010. Number of active connections: 0
2020-12-03 07:19:53,510 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(97)) - stopping client from cache: org.apache.hadoop.ipc.Client@6f6745d6
2020-12-03 07:19:53,511 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(103)) - removing client from cache: org.apache.hadoop.ipc.Client@6f6745d6
2020-12-03 07:19:53,511 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(110)) - stopping actual client because no more references remain: org.apache.hadoop.ipc.Client@6f6745d6
2020-12-03 07:19:53,511 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:stop(1340)) - Stopping client
2020-12-03 07:19:53,512 [Listener at 0.0.0.0/36744] INFO  block.TestBlockToken (TestBlockToken.java:testBlockTokenRpcLeak(407)) - Num open fds:163
2020-12-03 07:19:53,513 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:getClient(63)) - getting client out of cache: org.apache.hadoop.ipc.Client@1bab8268
2020-12-03 07:19:53,513 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:<init>(497)) - The ping interval is 60000 ms.
2020-12-03 07:19:53,514 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(795)) - Connecting to /127.0.0.1:36744
2020-12-03 07:19:53,514 [IPC Server listener on 0] DEBUG ipc.Server (Server.java:register(3727)) - Server connection from 127.0.0.1:50014; # active connections: 1; # queued calls: 0
2020-12-03 07:19:53,515 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: NEGOTIATE

2020-12-03 07:19:53,515 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:53,516 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:create(175)) - Created SASL server with mechanism = DIGEST-MD5
2020-12-03 07:19:53,516 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50014
2020-12-03 07:19:53,516 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50014 Wrote 194 bytes.
2020-12-03 07:19:53,517 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:getServerToken(268)) - Get token info proto:interface org.apache.hadoop.hdfs.protocolPB.ClientDatanodeProtocolPB info:@org.apache.hadoop.security.token.TokenInfo(value=class org.apache.hadoop.hdfs.security.token.block.BlockTokenSelector)
2020-12-03 07:19:53,517 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:createSaslClient(251)) - Creating SASL DIGEST-MD5(TOKEN)  client to authenticate to service at default
2020-12-03 07:19:53,517 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:selectSaslClient(177)) - Use TOKEN authentication for protocol ClientDatanodeProtocolPB
2020-12-03 07:19:53,518 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(678)) - SASL client callback: setting username: CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=
2020-12-03 07:19:53,518 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(683)) - SASL client callback: setting userPassword
2020-12-03 07:19:53,518 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(688)) - SASL client callback: setting realm: default
2020-12-03 07:19:53,519 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: INITIATE
token: "charset=utf-8,username=\"CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=\",realm=\"default\",nonce=\"k3XBnvYNJj1vtskccr2oyBmB09QeRUdHLrforOZF\",nc=00000001,cnonce=\"dCFGE59xdOGxZ/NUNEhFCsc3V31h9RbZ08wIiF/W\",digest-uri=\"/default\",maxbuf=65536,response=09555cb1620df9f7b76bb18a2dc76015,qop=auth"
auths {
  method: "TOKEN"
  mechanism: "DIGEST-MD5"
  protocol: ""
  serverId: "default"
}

2020-12-03 07:19:53,519 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:53,519 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processSaslToken(2112)) - Have read input token of size 298 for processing by saslServer.evaluateResponse()
2020-12-03 07:19:53,520 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(310)) - SASL server DIGEST-MD5 callback: setting password for client: root (auth:SIMPLE)
2020-12-03 07:19:53,520 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(328)) - SASL server DIGEST-MD5 callback: setting canonicalized client ID: root
2020-12-03 07:19:53,521 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:buildSaslResponse(2129)) - Will send SUCCESS token of size 40 from saslServer.
2020-12-03 07:19:53,521 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2000)) - SASL server context established. Negotiated QoP is auth
2020-12-03 07:19:53,521 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2005)) - SASL server successfully authenticated client: root (auth:SIMPLE)
2020-12-03 07:19:53,521 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:saslProcess(2008)) - Auth successful for root (auth:SIMPLE)
2020-12-03 07:19:53,522 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50014
2020-12-03 07:19:53,522 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50014 Wrote 64 bytes.
2020-12-03 07:19:53,522 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(837)) - Negotiated QOP is :auth
2020-12-03 07:19:53,523 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1074)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: starting, having connections 1
2020-12-03 07:19:53,527 [IPC Parameter Sending Thread #0] DEBUG ipc.Client (Client.java:run(1137)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 sending #46 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength
2020-12-03 07:19:53,527 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-3
2020-12-03 07:19:53,527 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:authorizeConnection(2750)) - Successfully authorized userInfo {
}
protocol: "org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol"

2020-12-03 07:19:53,528 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #46
2020-12-03 07:19:53,528 [IPC Server handler 1 on default port 36744] DEBUG ipc.Server (Server.java:run(2902)) - IPC Server handler 1 on default port 36744: Call#46 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50014 for RpcKind RPC_PROTOCOL_BUFFER
2020-12-03 07:19:53,528 [IPC Server handler 1 on default port 36744] INFO  ipc.Server (ProtobufRpcEngine.java:call(505)) - Call: connectionProtocolName=org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol, method=getReplicaVisibleLength
2020-12-03 07:19:53,529 [IPC Server handler 1 on default port 36744] INFO  block.TestBlockToken (TestBlockToken.java:answer(151)) - Got: block_token_identifier (expiryDate=1606980111387, keyId=57518194, userId=root, blockPoolId=-10, blockId=-108, access modes=[READ, WRITE, COPY, REPLACE], storageTypes= [DISK], storageIds= [])
2020-12-03 07:19:53,529 [IPC Server handler 1 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1615)) - IPC Server handler 1 on default port 36744: responding to Call#46 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50014
2020-12-03 07:19:53,529 [IPC Server handler 1 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1634)) - IPC Server handler 1 on default port 36744: responding to Call#46 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50014 Wrote 43 bytes.
2020-12-03 07:19:53,529 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:receiveRpcResponse(1191)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 got value #46
2020-12-03 07:19:53,530 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(97)) - stopping client from cache: org.apache.hadoop.ipc.Client@1bab8268
2020-12-03 07:19:53,530 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:close(1283)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: closed
2020-12-03 07:19:53,530 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1092)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: stopped, remaining connections 0
2020-12-03 07:19:53,530 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:close(3738)) - Socket Reader #1 for port 0: disconnecting client 127.0.0.1:50014. Number of active connections: 0
2020-12-03 07:19:53,530 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(103)) - removing client from cache: org.apache.hadoop.ipc.Client@1bab8268
2020-12-03 07:19:53,532 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(110)) - stopping actual client because no more references remain: org.apache.hadoop.ipc.Client@1bab8268
2020-12-03 07:19:53,532 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:stop(1340)) - Stopping client
2020-12-03 07:19:53,533 [Listener at 0.0.0.0/36744] INFO  block.TestBlockToken (TestBlockToken.java:testBlockTokenRpcLeak(407)) - Num open fds:163
2020-12-03 07:19:53,534 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:getClient(63)) - getting client out of cache: org.apache.hadoop.ipc.Client@1187c9e8
2020-12-03 07:19:53,534 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:<init>(497)) - The ping interval is 60000 ms.
2020-12-03 07:19:53,535 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(795)) - Connecting to /127.0.0.1:36744
2020-12-03 07:19:53,535 [IPC Server listener on 0] DEBUG ipc.Server (Server.java:register(3727)) - Server connection from 127.0.0.1:50018; # active connections: 1; # queued calls: 0
2020-12-03 07:19:53,535 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: NEGOTIATE

2020-12-03 07:19:53,536 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:53,536 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:create(175)) - Created SASL server with mechanism = DIGEST-MD5
2020-12-03 07:19:53,537 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50018
2020-12-03 07:19:53,537 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50018 Wrote 194 bytes.
2020-12-03 07:19:53,537 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:getServerToken(268)) - Get token info proto:interface org.apache.hadoop.hdfs.protocolPB.ClientDatanodeProtocolPB info:@org.apache.hadoop.security.token.TokenInfo(value=class org.apache.hadoop.hdfs.security.token.block.BlockTokenSelector)
2020-12-03 07:19:53,538 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:createSaslClient(251)) - Creating SASL DIGEST-MD5(TOKEN)  client to authenticate to service at default
2020-12-03 07:19:53,538 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:selectSaslClient(177)) - Use TOKEN authentication for protocol ClientDatanodeProtocolPB
2020-12-03 07:19:53,538 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(678)) - SASL client callback: setting username: CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=
2020-12-03 07:19:53,539 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(683)) - SASL client callback: setting userPassword
2020-12-03 07:19:53,539 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(688)) - SASL client callback: setting realm: default
2020-12-03 07:19:53,540 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: INITIATE
token: "charset=utf-8,username=\"CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=\",realm=\"default\",nonce=\"rvBNrzykW+zCZJUJ1Am88HGz3lKKOic+3aQbmBjP\",nc=00000001,cnonce=\"A0n9K0WqImYgQVnfp6wJdBdha7W0k2T/Z1BbrI2z\",digest-uri=\"/default\",maxbuf=65536,response=55415701f995792ddb76073b944673e1,qop=auth"
auths {
  method: "TOKEN"
  mechanism: "DIGEST-MD5"
  protocol: ""
  serverId: "default"
}

2020-12-03 07:19:53,540 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:53,540 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processSaslToken(2112)) - Have read input token of size 298 for processing by saslServer.evaluateResponse()
2020-12-03 07:19:53,541 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(310)) - SASL server DIGEST-MD5 callback: setting password for client: root (auth:SIMPLE)
2020-12-03 07:19:53,541 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(328)) - SASL server DIGEST-MD5 callback: setting canonicalized client ID: root
2020-12-03 07:19:53,542 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:buildSaslResponse(2129)) - Will send SUCCESS token of size 40 from saslServer.
2020-12-03 07:19:53,542 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2000)) - SASL server context established. Negotiated QoP is auth
2020-12-03 07:19:53,542 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2005)) - SASL server successfully authenticated client: root (auth:SIMPLE)
2020-12-03 07:19:53,542 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:saslProcess(2008)) - Auth successful for root (auth:SIMPLE)
2020-12-03 07:19:53,542 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50018
2020-12-03 07:19:53,543 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50018 Wrote 64 bytes.
2020-12-03 07:19:53,543 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(837)) - Negotiated QOP is :auth
2020-12-03 07:19:53,552 [IPC Parameter Sending Thread #0] DEBUG ipc.Client (Client.java:run(1137)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 sending #47 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength
2020-12-03 07:19:53,556 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1074)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: starting, having connections 1
2020-12-03 07:19:53,556 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-3
2020-12-03 07:19:53,558 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:authorizeConnection(2750)) - Successfully authorized userInfo {
}
protocol: "org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol"

2020-12-03 07:19:53,558 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #47
2020-12-03 07:19:53,559 [IPC Server handler 3 on default port 36744] DEBUG ipc.Server (Server.java:run(2902)) - IPC Server handler 3 on default port 36744: Call#47 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50018 for RpcKind RPC_PROTOCOL_BUFFER
2020-12-03 07:19:53,559 [IPC Server handler 3 on default port 36744] INFO  ipc.Server (ProtobufRpcEngine.java:call(505)) - Call: connectionProtocolName=org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol, method=getReplicaVisibleLength
2020-12-03 07:19:53,560 [IPC Server handler 3 on default port 36744] INFO  block.TestBlockToken (TestBlockToken.java:answer(151)) - Got: block_token_identifier (expiryDate=1606980111387, keyId=57518194, userId=root, blockPoolId=-10, blockId=-108, access modes=[READ, WRITE, COPY, REPLACE], storageTypes= [DISK], storageIds= [])
2020-12-03 07:19:53,560 [IPC Server handler 3 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1615)) - IPC Server handler 3 on default port 36744: responding to Call#47 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50018
2020-12-03 07:19:53,560 [IPC Server handler 3 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1634)) - IPC Server handler 3 on default port 36744: responding to Call#47 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50018 Wrote 43 bytes.
2020-12-03 07:19:53,564 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:receiveRpcResponse(1191)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 got value #47
2020-12-03 07:19:53,564 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:close(1283)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: closed
2020-12-03 07:19:53,564 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(97)) - stopping client from cache: org.apache.hadoop.ipc.Client@1187c9e8
2020-12-03 07:19:53,564 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:close(3738)) - Socket Reader #1 for port 0: disconnecting client 127.0.0.1:50018. Number of active connections: 0
2020-12-03 07:19:53,564 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(103)) - removing client from cache: org.apache.hadoop.ipc.Client@1187c9e8
2020-12-03 07:19:53,564 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(110)) - stopping actual client because no more references remain: org.apache.hadoop.ipc.Client@1187c9e8
2020-12-03 07:19:53,565 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:stop(1340)) - Stopping client
2020-12-03 07:19:53,565 [Listener at 0.0.0.0/36744] INFO  block.TestBlockToken (TestBlockToken.java:testBlockTokenRpcLeak(407)) - Num open fds:163
2020-12-03 07:19:53,566 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:getClient(63)) - getting client out of cache: org.apache.hadoop.ipc.Client@6c372fe6
2020-12-03 07:19:53,567 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:<init>(497)) - The ping interval is 60000 ms.
2020-12-03 07:19:53,567 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(795)) - Connecting to /127.0.0.1:36744
2020-12-03 07:19:53,564 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1092)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: stopped, remaining connections 0
2020-12-03 07:19:53,567 [IPC Server listener on 0] DEBUG ipc.Server (Server.java:register(3727)) - Server connection from 127.0.0.1:50022; # active connections: 1; # queued calls: 0
2020-12-03 07:19:53,568 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: NEGOTIATE

2020-12-03 07:19:53,568 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:53,569 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:create(175)) - Created SASL server with mechanism = DIGEST-MD5
2020-12-03 07:19:53,569 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50022
2020-12-03 07:19:53,569 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50022 Wrote 194 bytes.
2020-12-03 07:19:53,569 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:getServerToken(268)) - Get token info proto:interface org.apache.hadoop.hdfs.protocolPB.ClientDatanodeProtocolPB info:@org.apache.hadoop.security.token.TokenInfo(value=class org.apache.hadoop.hdfs.security.token.block.BlockTokenSelector)
2020-12-03 07:19:53,570 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:createSaslClient(251)) - Creating SASL DIGEST-MD5(TOKEN)  client to authenticate to service at default
2020-12-03 07:19:53,570 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:selectSaslClient(177)) - Use TOKEN authentication for protocol ClientDatanodeProtocolPB
2020-12-03 07:19:53,570 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(678)) - SASL client callback: setting username: CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=
2020-12-03 07:19:53,570 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(683)) - SASL client callback: setting userPassword
2020-12-03 07:19:53,571 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(688)) - SASL client callback: setting realm: default
2020-12-03 07:19:53,571 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: INITIATE
token: "charset=utf-8,username=\"CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=\",realm=\"default\",nonce=\"Bh+Y8mbk0A5Fsm+QRNZmr4INsjMum7Tf0r2xnb7P\",nc=00000001,cnonce=\"kwjXWVElL/pavmMpfyyF8wRdg9FYrOewXqgp7Psk\",digest-uri=\"/default\",maxbuf=65536,response=bc2bc48b85c2a385c09af3ce1def2466,qop=auth"
auths {
  method: "TOKEN"
  mechanism: "DIGEST-MD5"
  protocol: ""
  serverId: "default"
}

2020-12-03 07:19:53,571 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:53,572 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processSaslToken(2112)) - Have read input token of size 298 for processing by saslServer.evaluateResponse()
2020-12-03 07:19:53,572 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(310)) - SASL server DIGEST-MD5 callback: setting password for client: root (auth:SIMPLE)
2020-12-03 07:19:53,572 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(328)) - SASL server DIGEST-MD5 callback: setting canonicalized client ID: root
2020-12-03 07:19:53,573 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:buildSaslResponse(2129)) - Will send SUCCESS token of size 40 from saslServer.
2020-12-03 07:19:53,573 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2000)) - SASL server context established. Negotiated QoP is auth
2020-12-03 07:19:53,573 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2005)) - SASL server successfully authenticated client: root (auth:SIMPLE)
2020-12-03 07:19:53,573 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:saslProcess(2008)) - Auth successful for root (auth:SIMPLE)
2020-12-03 07:19:53,573 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50022
2020-12-03 07:19:53,573 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50022 Wrote 64 bytes.
2020-12-03 07:19:53,574 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(837)) - Negotiated QOP is :auth
2020-12-03 07:19:53,574 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1074)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: starting, having connections 1
2020-12-03 07:19:53,574 [IPC Parameter Sending Thread #0] DEBUG ipc.Client (Client.java:run(1137)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 sending #48 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength
2020-12-03 07:19:53,575 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-3
2020-12-03 07:19:53,575 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:authorizeConnection(2750)) - Successfully authorized userInfo {
}
protocol: "org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol"

2020-12-03 07:19:53,575 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #48
2020-12-03 07:19:53,576 [IPC Server handler 2 on default port 36744] DEBUG ipc.Server (Server.java:run(2902)) - IPC Server handler 2 on default port 36744: Call#48 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50022 for RpcKind RPC_PROTOCOL_BUFFER
2020-12-03 07:19:53,576 [IPC Server handler 2 on default port 36744] INFO  ipc.Server (ProtobufRpcEngine.java:call(505)) - Call: connectionProtocolName=org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol, method=getReplicaVisibleLength
2020-12-03 07:19:53,576 [IPC Server handler 2 on default port 36744] INFO  block.TestBlockToken (TestBlockToken.java:answer(151)) - Got: block_token_identifier (expiryDate=1606980111387, keyId=57518194, userId=root, blockPoolId=-10, blockId=-108, access modes=[READ, WRITE, COPY, REPLACE], storageTypes= [DISK], storageIds= [])
2020-12-03 07:19:53,577 [IPC Server handler 2 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1615)) - IPC Server handler 2 on default port 36744: responding to Call#48 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50022
2020-12-03 07:19:53,577 [IPC Server handler 2 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1634)) - IPC Server handler 2 on default port 36744: responding to Call#48 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50022 Wrote 43 bytes.
2020-12-03 07:19:53,578 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:receiveRpcResponse(1191)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 got value #48
2020-12-03 07:19:53,578 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(97)) - stopping client from cache: org.apache.hadoop.ipc.Client@6c372fe6
2020-12-03 07:19:53,578 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:close(3738)) - Socket Reader #1 for port 0: disconnecting client 127.0.0.1:50022. Number of active connections: 0
2020-12-03 07:19:53,578 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:close(1283)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: closed
2020-12-03 07:19:53,578 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1092)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: stopped, remaining connections 0
2020-12-03 07:19:53,578 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(103)) - removing client from cache: org.apache.hadoop.ipc.Client@6c372fe6
2020-12-03 07:19:53,578 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(110)) - stopping actual client because no more references remain: org.apache.hadoop.ipc.Client@6c372fe6
2020-12-03 07:19:53,579 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:stop(1340)) - Stopping client
2020-12-03 07:19:53,579 [Listener at 0.0.0.0/36744] INFO  block.TestBlockToken (TestBlockToken.java:testBlockTokenRpcLeak(407)) - Num open fds:163
2020-12-03 07:19:53,581 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:getClient(63)) - getting client out of cache: org.apache.hadoop.ipc.Client@7cb502c
2020-12-03 07:19:53,581 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:<init>(497)) - The ping interval is 60000 ms.
2020-12-03 07:19:53,581 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(795)) - Connecting to /127.0.0.1:36744
2020-12-03 07:19:53,582 [IPC Server listener on 0] DEBUG ipc.Server (Server.java:register(3727)) - Server connection from 127.0.0.1:50024; # active connections: 1; # queued calls: 0
2020-12-03 07:19:53,582 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: NEGOTIATE

2020-12-03 07:19:53,583 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:53,583 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:create(175)) - Created SASL server with mechanism = DIGEST-MD5
2020-12-03 07:19:53,583 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50024
2020-12-03 07:19:53,583 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50024 Wrote 194 bytes.
2020-12-03 07:19:53,584 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:getServerToken(268)) - Get token info proto:interface org.apache.hadoop.hdfs.protocolPB.ClientDatanodeProtocolPB info:@org.apache.hadoop.security.token.TokenInfo(value=class org.apache.hadoop.hdfs.security.token.block.BlockTokenSelector)
2020-12-03 07:19:53,584 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:createSaslClient(251)) - Creating SASL DIGEST-MD5(TOKEN)  client to authenticate to service at default
2020-12-03 07:19:53,584 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:selectSaslClient(177)) - Use TOKEN authentication for protocol ClientDatanodeProtocolPB
2020-12-03 07:19:53,585 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(678)) - SASL client callback: setting username: CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=
2020-12-03 07:19:53,585 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(683)) - SASL client callback: setting userPassword
2020-12-03 07:19:53,585 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(688)) - SASL client callback: setting realm: default
2020-12-03 07:19:53,586 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: INITIATE
token: "charset=utf-8,username=\"CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=\",realm=\"default\",nonce=\"UAYWRMboGVqWjsh8d80ruiv7mdwtMLHDotD0GPGJ\",nc=00000001,cnonce=\"YsTVneIY5KZyk7diTpZvbxkcMSrioeZj3DHiWFML\",digest-uri=\"/default\",maxbuf=65536,response=1e204a48cbcb2e948dacfcc7b8192a9d,qop=auth"
auths {
  method: "TOKEN"
  mechanism: "DIGEST-MD5"
  protocol: ""
  serverId: "default"
}

2020-12-03 07:19:53,586 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:53,586 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processSaslToken(2112)) - Have read input token of size 298 for processing by saslServer.evaluateResponse()
2020-12-03 07:19:53,587 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(310)) - SASL server DIGEST-MD5 callback: setting password for client: root (auth:SIMPLE)
2020-12-03 07:19:53,587 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(328)) - SASL server DIGEST-MD5 callback: setting canonicalized client ID: root
2020-12-03 07:19:53,588 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:buildSaslResponse(2129)) - Will send SUCCESS token of size 40 from saslServer.
2020-12-03 07:19:53,588 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2000)) - SASL server context established. Negotiated QoP is auth
2020-12-03 07:19:53,588 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2005)) - SASL server successfully authenticated client: root (auth:SIMPLE)
2020-12-03 07:19:53,588 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:saslProcess(2008)) - Auth successful for root (auth:SIMPLE)
2020-12-03 07:19:53,588 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50024
2020-12-03 07:19:53,588 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50024 Wrote 64 bytes.
2020-12-03 07:19:53,589 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(837)) - Negotiated QOP is :auth
2020-12-03 07:19:53,589 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1074)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: starting, having connections 1
2020-12-03 07:19:53,589 [IPC Parameter Sending Thread #0] DEBUG ipc.Client (Client.java:run(1137)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 sending #49 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength
2020-12-03 07:19:53,589 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-3
2020-12-03 07:19:53,590 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:authorizeConnection(2750)) - Successfully authorized userInfo {
}
protocol: "org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol"

2020-12-03 07:19:53,590 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #49
2020-12-03 07:19:53,590 [IPC Server handler 4 on default port 36744] DEBUG ipc.Server (Server.java:run(2902)) - IPC Server handler 4 on default port 36744: Call#49 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50024 for RpcKind RPC_PROTOCOL_BUFFER
2020-12-03 07:19:53,590 [IPC Server handler 4 on default port 36744] INFO  ipc.Server (ProtobufRpcEngine.java:call(505)) - Call: connectionProtocolName=org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol, method=getReplicaVisibleLength
2020-12-03 07:19:53,591 [IPC Server handler 4 on default port 36744] INFO  block.TestBlockToken (TestBlockToken.java:answer(151)) - Got: block_token_identifier (expiryDate=1606980111387, keyId=57518194, userId=root, blockPoolId=-10, blockId=-108, access modes=[READ, WRITE, COPY, REPLACE], storageTypes= [DISK], storageIds= [])
2020-12-03 07:19:53,591 [IPC Server handler 4 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1615)) - IPC Server handler 4 on default port 36744: responding to Call#49 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50024
2020-12-03 07:19:53,591 [IPC Server handler 4 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1634)) - IPC Server handler 4 on default port 36744: responding to Call#49 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50024 Wrote 43 bytes.
2020-12-03 07:19:53,591 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:receiveRpcResponse(1191)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 got value #49
2020-12-03 07:19:53,592 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(97)) - stopping client from cache: org.apache.hadoop.ipc.Client@7cb502c
2020-12-03 07:19:53,592 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:close(1283)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: closed
2020-12-03 07:19:53,592 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:close(3738)) - Socket Reader #1 for port 0: disconnecting client 127.0.0.1:50024. Number of active connections: 0
2020-12-03 07:19:53,592 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1092)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: stopped, remaining connections 0
2020-12-03 07:19:53,592 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(103)) - removing client from cache: org.apache.hadoop.ipc.Client@7cb502c
2020-12-03 07:19:53,592 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(110)) - stopping actual client because no more references remain: org.apache.hadoop.ipc.Client@7cb502c
2020-12-03 07:19:53,592 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:stop(1340)) - Stopping client
2020-12-03 07:19:53,593 [Listener at 0.0.0.0/36744] INFO  block.TestBlockToken (TestBlockToken.java:testBlockTokenRpcLeak(407)) - Num open fds:163
2020-12-03 07:19:53,594 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:getClient(63)) - getting client out of cache: org.apache.hadoop.ipc.Client@2a225dd7
2020-12-03 07:19:53,595 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:<init>(497)) - The ping interval is 60000 ms.
2020-12-03 07:19:53,595 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(795)) - Connecting to /127.0.0.1:36744
2020-12-03 07:19:53,595 [IPC Server listener on 0] DEBUG ipc.Server (Server.java:register(3727)) - Server connection from 127.0.0.1:50026; # active connections: 1; # queued calls: 0
2020-12-03 07:19:53,596 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: NEGOTIATE

2020-12-03 07:19:53,596 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:53,596 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:create(175)) - Created SASL server with mechanism = DIGEST-MD5
2020-12-03 07:19:53,596 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50026
2020-12-03 07:19:53,596 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50026 Wrote 194 bytes.
2020-12-03 07:19:53,597 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:getServerToken(268)) - Get token info proto:interface org.apache.hadoop.hdfs.protocolPB.ClientDatanodeProtocolPB info:@org.apache.hadoop.security.token.TokenInfo(value=class org.apache.hadoop.hdfs.security.token.block.BlockTokenSelector)
2020-12-03 07:19:53,597 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:createSaslClient(251)) - Creating SASL DIGEST-MD5(TOKEN)  client to authenticate to service at default
2020-12-03 07:19:53,597 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:selectSaslClient(177)) - Use TOKEN authentication for protocol ClientDatanodeProtocolPB
2020-12-03 07:19:53,598 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(678)) - SASL client callback: setting username: CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=
2020-12-03 07:19:53,598 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(683)) - SASL client callback: setting userPassword
2020-12-03 07:19:53,598 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(688)) - SASL client callback: setting realm: default
2020-12-03 07:19:53,599 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: INITIATE
token: "charset=utf-8,username=\"CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=\",realm=\"default\",nonce=\"S48YLz6B+E1ZirzjMcAZ0sAgeaad0AFJUkghhiEp\",nc=00000001,cnonce=\"phNAjSnNPhFNonDsemg4gwfKEoOrm2UsmTVwoewk\",digest-uri=\"/default\",maxbuf=65536,response=14b096bb35b7dbd91efc335ffdf4a524,qop=auth"
auths {
  method: "TOKEN"
  mechanism: "DIGEST-MD5"
  protocol: ""
  serverId: "default"
}

2020-12-03 07:19:53,599 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:53,599 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processSaslToken(2112)) - Have read input token of size 298 for processing by saslServer.evaluateResponse()
2020-12-03 07:19:53,600 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(310)) - SASL server DIGEST-MD5 callback: setting password for client: root (auth:SIMPLE)
2020-12-03 07:19:53,600 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(328)) - SASL server DIGEST-MD5 callback: setting canonicalized client ID: root
2020-12-03 07:19:53,600 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:buildSaslResponse(2129)) - Will send SUCCESS token of size 40 from saslServer.
2020-12-03 07:19:53,601 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2000)) - SASL server context established. Negotiated QoP is auth
2020-12-03 07:19:53,601 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2005)) - SASL server successfully authenticated client: root (auth:SIMPLE)
2020-12-03 07:19:53,601 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:saslProcess(2008)) - Auth successful for root (auth:SIMPLE)
2020-12-03 07:19:53,601 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50026
2020-12-03 07:19:53,601 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50026 Wrote 64 bytes.
2020-12-03 07:19:53,602 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(837)) - Negotiated QOP is :auth
2020-12-03 07:19:53,602 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1074)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: starting, having connections 1
2020-12-03 07:19:53,602 [IPC Parameter Sending Thread #0] DEBUG ipc.Client (Client.java:run(1137)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 sending #50 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength
2020-12-03 07:19:53,603 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-3
2020-12-03 07:19:53,603 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:authorizeConnection(2750)) - Successfully authorized userInfo {
}
protocol: "org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol"

2020-12-03 07:19:53,603 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #50
2020-12-03 07:19:53,603 [IPC Server handler 0 on default port 36744] DEBUG ipc.Server (Server.java:run(2902)) - IPC Server handler 0 on default port 36744: Call#50 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50026 for RpcKind RPC_PROTOCOL_BUFFER
2020-12-03 07:19:53,603 [IPC Server handler 0 on default port 36744] INFO  ipc.Server (ProtobufRpcEngine.java:call(505)) - Call: connectionProtocolName=org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol, method=getReplicaVisibleLength
2020-12-03 07:19:53,604 [IPC Server handler 0 on default port 36744] INFO  block.TestBlockToken (TestBlockToken.java:answer(151)) - Got: block_token_identifier (expiryDate=1606980111387, keyId=57518194, userId=root, blockPoolId=-10, blockId=-108, access modes=[READ, WRITE, COPY, REPLACE], storageTypes= [DISK], storageIds= [])
2020-12-03 07:19:53,604 [IPC Server handler 0 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1615)) - IPC Server handler 0 on default port 36744: responding to Call#50 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50026
2020-12-03 07:19:53,604 [IPC Server handler 0 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1634)) - IPC Server handler 0 on default port 36744: responding to Call#50 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50026 Wrote 43 bytes.
2020-12-03 07:19:53,606 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:receiveRpcResponse(1191)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 got value #50
2020-12-03 07:19:53,606 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(97)) - stopping client from cache: org.apache.hadoop.ipc.Client@2a225dd7
2020-12-03 07:19:53,606 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:close(1283)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: closed
2020-12-03 07:19:53,606 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1092)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: stopped, remaining connections 0
2020-12-03 07:19:53,606 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:close(3738)) - Socket Reader #1 for port 0: disconnecting client 127.0.0.1:50026. Number of active connections: 0
2020-12-03 07:19:53,606 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(103)) - removing client from cache: org.apache.hadoop.ipc.Client@2a225dd7
2020-12-03 07:19:53,607 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(110)) - stopping actual client because no more references remain: org.apache.hadoop.ipc.Client@2a225dd7
2020-12-03 07:19:53,607 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:stop(1340)) - Stopping client
2020-12-03 07:19:53,607 [Listener at 0.0.0.0/36744] INFO  block.TestBlockToken (TestBlockToken.java:testBlockTokenRpcLeak(407)) - Num open fds:163
2020-12-03 07:19:53,609 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:getClient(63)) - getting client out of cache: org.apache.hadoop.ipc.Client@31920ade
2020-12-03 07:19:53,609 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:<init>(497)) - The ping interval is 60000 ms.
2020-12-03 07:19:53,609 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(795)) - Connecting to /127.0.0.1:36744
2020-12-03 07:19:53,610 [IPC Server listener on 0] DEBUG ipc.Server (Server.java:register(3727)) - Server connection from 127.0.0.1:50030; # active connections: 1; # queued calls: 0
2020-12-03 07:19:53,610 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: NEGOTIATE

2020-12-03 07:19:53,611 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:53,611 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:create(175)) - Created SASL server with mechanism = DIGEST-MD5
2020-12-03 07:19:53,611 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50030
2020-12-03 07:19:53,612 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50030 Wrote 194 bytes.
2020-12-03 07:19:53,612 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:getServerToken(268)) - Get token info proto:interface org.apache.hadoop.hdfs.protocolPB.ClientDatanodeProtocolPB info:@org.apache.hadoop.security.token.TokenInfo(value=class org.apache.hadoop.hdfs.security.token.block.BlockTokenSelector)
2020-12-03 07:19:53,612 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:createSaslClient(251)) - Creating SASL DIGEST-MD5(TOKEN)  client to authenticate to service at default
2020-12-03 07:19:53,613 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:selectSaslClient(177)) - Use TOKEN authentication for protocol ClientDatanodeProtocolPB
2020-12-03 07:19:53,614 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(678)) - SASL client callback: setting username: CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=
2020-12-03 07:19:53,614 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(683)) - SASL client callback: setting userPassword
2020-12-03 07:19:53,614 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(688)) - SASL client callback: setting realm: default
2020-12-03 07:19:53,615 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: INITIATE
token: "charset=utf-8,username=\"CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=\",realm=\"default\",nonce=\"AbkW3gqouF1CJxhdQcr4UZyyra57iKWOt7ENWKT6\",nc=00000001,cnonce=\"+hyqqOlatIHBYqKiA0jrrvtl52vEe+RV9GqFB8Xf\",digest-uri=\"/default\",maxbuf=65536,response=2080d4325ac01d3c3f554fce4addaf89,qop=auth"
auths {
  method: "TOKEN"
  mechanism: "DIGEST-MD5"
  protocol: ""
  serverId: "default"
}

2020-12-03 07:19:53,615 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:53,616 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processSaslToken(2112)) - Have read input token of size 298 for processing by saslServer.evaluateResponse()
2020-12-03 07:19:53,616 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(310)) - SASL server DIGEST-MD5 callback: setting password for client: root (auth:SIMPLE)
2020-12-03 07:19:53,617 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(328)) - SASL server DIGEST-MD5 callback: setting canonicalized client ID: root
2020-12-03 07:19:53,617 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:buildSaslResponse(2129)) - Will send SUCCESS token of size 40 from saslServer.
2020-12-03 07:19:53,617 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2000)) - SASL server context established. Negotiated QoP is auth
2020-12-03 07:19:53,617 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2005)) - SASL server successfully authenticated client: root (auth:SIMPLE)
2020-12-03 07:19:53,617 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:saslProcess(2008)) - Auth successful for root (auth:SIMPLE)
2020-12-03 07:19:53,617 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50030
2020-12-03 07:19:53,618 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50030 Wrote 64 bytes.
2020-12-03 07:19:53,618 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(837)) - Negotiated QOP is :auth
2020-12-03 07:19:53,619 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1074)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: starting, having connections 1
2020-12-03 07:19:53,619 [IPC Parameter Sending Thread #0] DEBUG ipc.Client (Client.java:run(1137)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 sending #51 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength
2020-12-03 07:19:53,619 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-3
2020-12-03 07:19:53,619 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:authorizeConnection(2750)) - Successfully authorized userInfo {
}
protocol: "org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol"

2020-12-03 07:19:53,620 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #51
2020-12-03 07:19:53,620 [IPC Server handler 1 on default port 36744] DEBUG ipc.Server (Server.java:run(2902)) - IPC Server handler 1 on default port 36744: Call#51 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50030 for RpcKind RPC_PROTOCOL_BUFFER
2020-12-03 07:19:53,620 [IPC Server handler 1 on default port 36744] INFO  ipc.Server (ProtobufRpcEngine.java:call(505)) - Call: connectionProtocolName=org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol, method=getReplicaVisibleLength
2020-12-03 07:19:53,621 [IPC Server handler 1 on default port 36744] INFO  block.TestBlockToken (TestBlockToken.java:answer(151)) - Got: block_token_identifier (expiryDate=1606980111387, keyId=57518194, userId=root, blockPoolId=-10, blockId=-108, access modes=[READ, WRITE, COPY, REPLACE], storageTypes= [DISK], storageIds= [])
2020-12-03 07:19:53,621 [IPC Server handler 1 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1615)) - IPC Server handler 1 on default port 36744: responding to Call#51 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50030
2020-12-03 07:19:53,621 [IPC Server handler 1 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1634)) - IPC Server handler 1 on default port 36744: responding to Call#51 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50030 Wrote 43 bytes.
2020-12-03 07:19:53,622 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:receiveRpcResponse(1191)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 got value #51
2020-12-03 07:19:53,622 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(97)) - stopping client from cache: org.apache.hadoop.ipc.Client@31920ade
2020-12-03 07:19:53,622 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:close(3738)) - Socket Reader #1 for port 0: disconnecting client 127.0.0.1:50030. Number of active connections: 0
2020-12-03 07:19:53,622 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:close(1283)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: closed
2020-12-03 07:19:53,622 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(103)) - removing client from cache: org.apache.hadoop.ipc.Client@31920ade
2020-12-03 07:19:53,622 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1092)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: stopped, remaining connections 0
2020-12-03 07:19:53,622 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(110)) - stopping actual client because no more references remain: org.apache.hadoop.ipc.Client@31920ade
2020-12-03 07:19:53,623 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:stop(1340)) - Stopping client
2020-12-03 07:19:53,624 [Listener at 0.0.0.0/36744] INFO  block.TestBlockToken (TestBlockToken.java:testBlockTokenRpcLeak(407)) - Num open fds:163
2020-12-03 07:19:53,625 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:getClient(63)) - getting client out of cache: org.apache.hadoop.ipc.Client@4066c471
2020-12-03 07:19:53,625 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:<init>(497)) - The ping interval is 60000 ms.
2020-12-03 07:19:53,626 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(795)) - Connecting to /127.0.0.1:36744
2020-12-03 07:19:53,626 [IPC Server listener on 0] DEBUG ipc.Server (Server.java:register(3727)) - Server connection from 127.0.0.1:50034; # active connections: 1; # queued calls: 0
2020-12-03 07:19:53,627 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: NEGOTIATE

2020-12-03 07:19:53,627 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:53,627 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:create(175)) - Created SASL server with mechanism = DIGEST-MD5
2020-12-03 07:19:53,628 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50034
2020-12-03 07:19:53,628 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50034 Wrote 194 bytes.
2020-12-03 07:19:53,628 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:getServerToken(268)) - Get token info proto:interface org.apache.hadoop.hdfs.protocolPB.ClientDatanodeProtocolPB info:@org.apache.hadoop.security.token.TokenInfo(value=class org.apache.hadoop.hdfs.security.token.block.BlockTokenSelector)
2020-12-03 07:19:53,628 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:createSaslClient(251)) - Creating SASL DIGEST-MD5(TOKEN)  client to authenticate to service at default
2020-12-03 07:19:53,629 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:selectSaslClient(177)) - Use TOKEN authentication for protocol ClientDatanodeProtocolPB
2020-12-03 07:19:53,629 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(678)) - SASL client callback: setting username: CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=
2020-12-03 07:19:53,629 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(683)) - SASL client callback: setting userPassword
2020-12-03 07:19:53,629 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(688)) - SASL client callback: setting realm: default
2020-12-03 07:19:53,630 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: INITIATE
token: "charset=utf-8,username=\"CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=\",realm=\"default\",nonce=\"NYHqZd2ovm6O/bgWfEesn2ShQZtIrbSk+L2N9KRo\",nc=00000001,cnonce=\"Qmds2cDtWEqOidJuUITFt6aQaAkO4s+1M19+ztTX\",digest-uri=\"/default\",maxbuf=65536,response=dc30e8794a087fde0aa9e367145e46f4,qop=auth"
auths {
  method: "TOKEN"
  mechanism: "DIGEST-MD5"
  protocol: ""
  serverId: "default"
}

2020-12-03 07:19:53,630 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:53,631 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processSaslToken(2112)) - Have read input token of size 298 for processing by saslServer.evaluateResponse()
2020-12-03 07:19:53,631 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(310)) - SASL server DIGEST-MD5 callback: setting password for client: root (auth:SIMPLE)
2020-12-03 07:19:53,632 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(328)) - SASL server DIGEST-MD5 callback: setting canonicalized client ID: root
2020-12-03 07:19:53,632 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:buildSaslResponse(2129)) - Will send SUCCESS token of size 40 from saslServer.
2020-12-03 07:19:53,632 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2000)) - SASL server context established. Negotiated QoP is auth
2020-12-03 07:19:53,632 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2005)) - SASL server successfully authenticated client: root (auth:SIMPLE)
2020-12-03 07:19:53,633 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:saslProcess(2008)) - Auth successful for root (auth:SIMPLE)
2020-12-03 07:19:53,633 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50034
2020-12-03 07:19:53,633 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50034 Wrote 64 bytes.
2020-12-03 07:19:53,633 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(837)) - Negotiated QOP is :auth
2020-12-03 07:19:53,634 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1074)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: starting, having connections 1
2020-12-03 07:19:53,634 [IPC Parameter Sending Thread #0] DEBUG ipc.Client (Client.java:run(1137)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 sending #52 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength
2020-12-03 07:19:53,635 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-3
2020-12-03 07:19:53,635 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:authorizeConnection(2750)) - Successfully authorized userInfo {
}
protocol: "org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol"

2020-12-03 07:19:53,635 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #52
2020-12-03 07:19:53,635 [IPC Server handler 3 on default port 36744] DEBUG ipc.Server (Server.java:run(2902)) - IPC Server handler 3 on default port 36744: Call#52 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50034 for RpcKind RPC_PROTOCOL_BUFFER
2020-12-03 07:19:53,636 [IPC Server handler 3 on default port 36744] INFO  ipc.Server (ProtobufRpcEngine.java:call(505)) - Call: connectionProtocolName=org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol, method=getReplicaVisibleLength
2020-12-03 07:19:53,636 [IPC Server handler 3 on default port 36744] INFO  block.TestBlockToken (TestBlockToken.java:answer(151)) - Got: block_token_identifier (expiryDate=1606980111387, keyId=57518194, userId=root, blockPoolId=-10, blockId=-108, access modes=[READ, WRITE, COPY, REPLACE], storageTypes= [DISK], storageIds= [])
2020-12-03 07:19:53,636 [IPC Server handler 3 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1615)) - IPC Server handler 3 on default port 36744: responding to Call#52 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50034
2020-12-03 07:19:53,637 [IPC Server handler 3 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1634)) - IPC Server handler 3 on default port 36744: responding to Call#52 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50034 Wrote 43 bytes.
2020-12-03 07:19:53,637 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:receiveRpcResponse(1191)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 got value #52
2020-12-03 07:19:53,637 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:close(1283)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: closed
2020-12-03 07:19:53,637 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1092)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: stopped, remaining connections 0
2020-12-03 07:19:53,637 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:close(3738)) - Socket Reader #1 for port 0: disconnecting client 127.0.0.1:50034. Number of active connections: 0
2020-12-03 07:19:53,637 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(97)) - stopping client from cache: org.apache.hadoop.ipc.Client@4066c471
2020-12-03 07:19:53,638 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(103)) - removing client from cache: org.apache.hadoop.ipc.Client@4066c471
2020-12-03 07:19:53,638 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(110)) - stopping actual client because no more references remain: org.apache.hadoop.ipc.Client@4066c471
2020-12-03 07:19:53,638 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:stop(1340)) - Stopping client
2020-12-03 07:19:53,639 [Listener at 0.0.0.0/36744] INFO  block.TestBlockToken (TestBlockToken.java:testBlockTokenRpcLeak(407)) - Num open fds:163
2020-12-03 07:19:53,641 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:getClient(63)) - getting client out of cache: org.apache.hadoop.ipc.Client@4b7dc788
2020-12-03 07:19:53,641 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:<init>(497)) - The ping interval is 60000 ms.
2020-12-03 07:19:53,642 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(795)) - Connecting to /127.0.0.1:36744
2020-12-03 07:19:53,642 [IPC Server listener on 0] DEBUG ipc.Server (Server.java:register(3727)) - Server connection from 127.0.0.1:50038; # active connections: 1; # queued calls: 0
2020-12-03 07:19:53,643 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: NEGOTIATE

2020-12-03 07:19:53,643 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:53,643 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:create(175)) - Created SASL server with mechanism = DIGEST-MD5
2020-12-03 07:19:53,644 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50038
2020-12-03 07:19:53,644 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50038 Wrote 194 bytes.
2020-12-03 07:19:53,644 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:getServerToken(268)) - Get token info proto:interface org.apache.hadoop.hdfs.protocolPB.ClientDatanodeProtocolPB info:@org.apache.hadoop.security.token.TokenInfo(value=class org.apache.hadoop.hdfs.security.token.block.BlockTokenSelector)
2020-12-03 07:19:53,645 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:createSaslClient(251)) - Creating SASL DIGEST-MD5(TOKEN)  client to authenticate to service at default
2020-12-03 07:19:53,645 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:selectSaslClient(177)) - Use TOKEN authentication for protocol ClientDatanodeProtocolPB
2020-12-03 07:19:53,645 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(678)) - SASL client callback: setting username: CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=
2020-12-03 07:19:53,645 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(683)) - SASL client callback: setting userPassword
2020-12-03 07:19:53,646 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(688)) - SASL client callback: setting realm: default
2020-12-03 07:19:53,646 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: INITIATE
token: "charset=utf-8,username=\"CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=\",realm=\"default\",nonce=\"m+qqMlTVw3Ugq/1WR2yQtKcI69lKLrmVWxo1PUnS\",nc=00000001,cnonce=\"SBG6LMMcDb3cK6lVck7/xk/Ktu1VH2NeWzjNV7U7\",digest-uri=\"/default\",maxbuf=65536,response=bd4d55cf6bb00e29d840f8853dfac6ae,qop=auth"
auths {
  method: "TOKEN"
  mechanism: "DIGEST-MD5"
  protocol: ""
  serverId: "default"
}

2020-12-03 07:19:53,647 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:53,647 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processSaslToken(2112)) - Have read input token of size 298 for processing by saslServer.evaluateResponse()
2020-12-03 07:19:53,648 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(310)) - SASL server DIGEST-MD5 callback: setting password for client: root (auth:SIMPLE)
2020-12-03 07:19:53,648 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(328)) - SASL server DIGEST-MD5 callback: setting canonicalized client ID: root
2020-12-03 07:19:53,649 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:buildSaslResponse(2129)) - Will send SUCCESS token of size 40 from saslServer.
2020-12-03 07:19:53,649 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2000)) - SASL server context established. Negotiated QoP is auth
2020-12-03 07:19:53,649 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2005)) - SASL server successfully authenticated client: root (auth:SIMPLE)
2020-12-03 07:19:53,649 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:saslProcess(2008)) - Auth successful for root (auth:SIMPLE)
2020-12-03 07:19:53,650 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50038
2020-12-03 07:19:53,650 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50038 Wrote 64 bytes.
2020-12-03 07:19:53,650 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(837)) - Negotiated QOP is :auth
2020-12-03 07:19:53,651 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1074)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: starting, having connections 1
2020-12-03 07:19:53,651 [IPC Parameter Sending Thread #0] DEBUG ipc.Client (Client.java:run(1137)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 sending #53 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength
2020-12-03 07:19:53,651 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-3
2020-12-03 07:19:53,652 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:authorizeConnection(2750)) - Successfully authorized userInfo {
}
protocol: "org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol"

2020-12-03 07:19:53,652 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #53
2020-12-03 07:19:53,652 [IPC Server handler 2 on default port 36744] DEBUG ipc.Server (Server.java:run(2902)) - IPC Server handler 2 on default port 36744: Call#53 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50038 for RpcKind RPC_PROTOCOL_BUFFER
2020-12-03 07:19:53,652 [IPC Server handler 2 on default port 36744] INFO  ipc.Server (ProtobufRpcEngine.java:call(505)) - Call: connectionProtocolName=org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol, method=getReplicaVisibleLength
2020-12-03 07:19:53,653 [IPC Server handler 2 on default port 36744] INFO  block.TestBlockToken (TestBlockToken.java:answer(151)) - Got: block_token_identifier (expiryDate=1606980111387, keyId=57518194, userId=root, blockPoolId=-10, blockId=-108, access modes=[READ, WRITE, COPY, REPLACE], storageTypes= [DISK], storageIds= [])
2020-12-03 07:19:53,653 [IPC Server handler 2 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1615)) - IPC Server handler 2 on default port 36744: responding to Call#53 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50038
2020-12-03 07:19:53,653 [IPC Server handler 2 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1634)) - IPC Server handler 2 on default port 36744: responding to Call#53 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50038 Wrote 43 bytes.
2020-12-03 07:19:53,653 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:receiveRpcResponse(1191)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 got value #53
2020-12-03 07:19:53,654 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:close(1283)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: closed
2020-12-03 07:19:53,654 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:close(3738)) - Socket Reader #1 for port 0: disconnecting client 127.0.0.1:50038. Number of active connections: 0
2020-12-03 07:19:53,654 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(97)) - stopping client from cache: org.apache.hadoop.ipc.Client@4b7dc788
2020-12-03 07:19:53,654 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1092)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: stopped, remaining connections 0
2020-12-03 07:19:53,654 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(103)) - removing client from cache: org.apache.hadoop.ipc.Client@4b7dc788
2020-12-03 07:19:53,654 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(110)) - stopping actual client because no more references remain: org.apache.hadoop.ipc.Client@4b7dc788
2020-12-03 07:19:53,654 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:stop(1340)) - Stopping client
2020-12-03 07:19:53,655 [Listener at 0.0.0.0/36744] INFO  block.TestBlockToken (TestBlockToken.java:testBlockTokenRpcLeak(407)) - Num open fds:163
2020-12-03 07:19:53,656 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:getClient(63)) - getting client out of cache: org.apache.hadoop.ipc.Client@2931522b
2020-12-03 07:19:53,657 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:<init>(497)) - The ping interval is 60000 ms.
2020-12-03 07:19:53,657 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(795)) - Connecting to /127.0.0.1:36744
2020-12-03 07:19:53,658 [IPC Server listener on 0] DEBUG ipc.Server (Server.java:register(3727)) - Server connection from 127.0.0.1:50042; # active connections: 1; # queued calls: 0
2020-12-03 07:19:53,658 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: NEGOTIATE

2020-12-03 07:19:53,659 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:53,659 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:create(175)) - Created SASL server with mechanism = DIGEST-MD5
2020-12-03 07:19:53,659 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50042
2020-12-03 07:19:53,659 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50042 Wrote 194 bytes.
2020-12-03 07:19:53,660 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:getServerToken(268)) - Get token info proto:interface org.apache.hadoop.hdfs.protocolPB.ClientDatanodeProtocolPB info:@org.apache.hadoop.security.token.TokenInfo(value=class org.apache.hadoop.hdfs.security.token.block.BlockTokenSelector)
2020-12-03 07:19:53,660 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:createSaslClient(251)) - Creating SASL DIGEST-MD5(TOKEN)  client to authenticate to service at default
2020-12-03 07:19:53,661 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:selectSaslClient(177)) - Use TOKEN authentication for protocol ClientDatanodeProtocolPB
2020-12-03 07:19:53,661 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(678)) - SASL client callback: setting username: CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=
2020-12-03 07:19:53,661 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(683)) - SASL client callback: setting userPassword
2020-12-03 07:19:53,661 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(688)) - SASL client callback: setting realm: default
2020-12-03 07:19:53,662 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: INITIATE
token: "charset=utf-8,username=\"CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=\",realm=\"default\",nonce=\"D03bhY3U3sPv516KA3vdUpRlvkDY2nbRy9uVf7vx\",nc=00000001,cnonce=\"6912riCzVK80NFuzC+QASYAQ30cV6EDE0aVy+7cE\",digest-uri=\"/default\",maxbuf=65536,response=5557a576edf42c46f3cc5b42c3232294,qop=auth"
auths {
  method: "TOKEN"
  mechanism: "DIGEST-MD5"
  protocol: ""
  serverId: "default"
}

2020-12-03 07:19:53,663 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:53,663 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processSaslToken(2112)) - Have read input token of size 298 for processing by saslServer.evaluateResponse()
2020-12-03 07:19:53,664 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(310)) - SASL server DIGEST-MD5 callback: setting password for client: root (auth:SIMPLE)
2020-12-03 07:19:53,664 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(328)) - SASL server DIGEST-MD5 callback: setting canonicalized client ID: root
2020-12-03 07:19:53,665 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:buildSaslResponse(2129)) - Will send SUCCESS token of size 40 from saslServer.
2020-12-03 07:19:53,665 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2000)) - SASL server context established. Negotiated QoP is auth
2020-12-03 07:19:53,665 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2005)) - SASL server successfully authenticated client: root (auth:SIMPLE)
2020-12-03 07:19:53,665 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:saslProcess(2008)) - Auth successful for root (auth:SIMPLE)
2020-12-03 07:19:53,665 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50042
2020-12-03 07:19:53,667 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50042 Wrote 64 bytes.
2020-12-03 07:19:53,672 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(837)) - Negotiated QOP is :auth
2020-12-03 07:19:53,673 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1074)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: starting, having connections 1
2020-12-03 07:19:53,674 [IPC Parameter Sending Thread #0] DEBUG ipc.Client (Client.java:run(1137)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 sending #54 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength
2020-12-03 07:19:53,674 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-3
2020-12-03 07:19:53,675 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:authorizeConnection(2750)) - Successfully authorized userInfo {
}
protocol: "org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol"

2020-12-03 07:19:53,675 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #54
2020-12-03 07:19:53,675 [IPC Server handler 4 on default port 36744] DEBUG ipc.Server (Server.java:run(2902)) - IPC Server handler 4 on default port 36744: Call#54 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50042 for RpcKind RPC_PROTOCOL_BUFFER
2020-12-03 07:19:53,676 [IPC Server handler 4 on default port 36744] INFO  ipc.Server (ProtobufRpcEngine.java:call(505)) - Call: connectionProtocolName=org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol, method=getReplicaVisibleLength
2020-12-03 07:19:53,676 [IPC Server handler 4 on default port 36744] INFO  block.TestBlockToken (TestBlockToken.java:answer(151)) - Got: block_token_identifier (expiryDate=1606980111387, keyId=57518194, userId=root, blockPoolId=-10, blockId=-108, access modes=[READ, WRITE, COPY, REPLACE], storageTypes= [DISK], storageIds= [])
2020-12-03 07:19:53,677 [IPC Server handler 4 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1615)) - IPC Server handler 4 on default port 36744: responding to Call#54 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50042
2020-12-03 07:19:53,677 [IPC Server handler 4 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1634)) - IPC Server handler 4 on default port 36744: responding to Call#54 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50042 Wrote 43 bytes.
2020-12-03 07:19:53,677 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:receiveRpcResponse(1191)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 got value #54
2020-12-03 07:19:53,677 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:close(1283)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: closed
2020-12-03 07:19:53,677 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1092)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: stopped, remaining connections 0
2020-12-03 07:19:53,677 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:close(3738)) - Socket Reader #1 for port 0: disconnecting client 127.0.0.1:50042. Number of active connections: 0
2020-12-03 07:19:53,678 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(97)) - stopping client from cache: org.apache.hadoop.ipc.Client@2931522b
2020-12-03 07:19:53,678 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(103)) - removing client from cache: org.apache.hadoop.ipc.Client@2931522b
2020-12-03 07:19:53,678 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(110)) - stopping actual client because no more references remain: org.apache.hadoop.ipc.Client@2931522b
2020-12-03 07:19:53,678 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:stop(1340)) - Stopping client
2020-12-03 07:19:53,679 [Listener at 0.0.0.0/36744] INFO  block.TestBlockToken (TestBlockToken.java:testBlockTokenRpcLeak(407)) - Num open fds:163
2020-12-03 07:19:53,680 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:getClient(63)) - getting client out of cache: org.apache.hadoop.ipc.Client@3e6f3f28
2020-12-03 07:19:53,681 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:<init>(497)) - The ping interval is 60000 ms.
2020-12-03 07:19:53,681 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(795)) - Connecting to /127.0.0.1:36744
2020-12-03 07:19:53,682 [IPC Server listener on 0] DEBUG ipc.Server (Server.java:register(3727)) - Server connection from 127.0.0.1:50046; # active connections: 1; # queued calls: 0
2020-12-03 07:19:53,682 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: NEGOTIATE

2020-12-03 07:19:53,683 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:53,683 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:create(175)) - Created SASL server with mechanism = DIGEST-MD5
2020-12-03 07:19:53,683 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50046
2020-12-03 07:19:53,684 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50046 Wrote 194 bytes.
2020-12-03 07:19:53,684 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:getServerToken(268)) - Get token info proto:interface org.apache.hadoop.hdfs.protocolPB.ClientDatanodeProtocolPB info:@org.apache.hadoop.security.token.TokenInfo(value=class org.apache.hadoop.hdfs.security.token.block.BlockTokenSelector)
2020-12-03 07:19:53,685 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:createSaslClient(251)) - Creating SASL DIGEST-MD5(TOKEN)  client to authenticate to service at default
2020-12-03 07:19:53,685 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:selectSaslClient(177)) - Use TOKEN authentication for protocol ClientDatanodeProtocolPB
2020-12-03 07:19:53,685 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(678)) - SASL client callback: setting username: CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=
2020-12-03 07:19:53,686 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(683)) - SASL client callback: setting userPassword
2020-12-03 07:19:53,686 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(688)) - SASL client callback: setting realm: default
2020-12-03 07:19:53,686 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: INITIATE
token: "charset=utf-8,username=\"CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=\",realm=\"default\",nonce=\"iOC9HyQ9J+N+gZA2Q8hVMtPe4oVSyBT+JVUNWUVV\",nc=00000001,cnonce=\"qkTSM9D2os6w5qXujiUyjcXhUka4o1C0kGcXErkr\",digest-uri=\"/default\",maxbuf=65536,response=6b8bfbafe30ef3722bd9fe5040d3aedd,qop=auth"
auths {
  method: "TOKEN"
  mechanism: "DIGEST-MD5"
  protocol: ""
  serverId: "default"
}

2020-12-03 07:19:53,687 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:53,687 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processSaslToken(2112)) - Have read input token of size 298 for processing by saslServer.evaluateResponse()
2020-12-03 07:19:53,688 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(310)) - SASL server DIGEST-MD5 callback: setting password for client: root (auth:SIMPLE)
2020-12-03 07:19:53,688 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(328)) - SASL server DIGEST-MD5 callback: setting canonicalized client ID: root
2020-12-03 07:19:53,689 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:buildSaslResponse(2129)) - Will send SUCCESS token of size 40 from saslServer.
2020-12-03 07:19:53,689 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2000)) - SASL server context established. Negotiated QoP is auth
2020-12-03 07:19:53,689 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2005)) - SASL server successfully authenticated client: root (auth:SIMPLE)
2020-12-03 07:19:53,689 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:saslProcess(2008)) - Auth successful for root (auth:SIMPLE)
2020-12-03 07:19:53,689 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50046
2020-12-03 07:19:53,689 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50046 Wrote 64 bytes.
2020-12-03 07:19:53,690 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(837)) - Negotiated QOP is :auth
2020-12-03 07:19:53,696 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1074)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: starting, having connections 1
2020-12-03 07:19:53,700 [IPC Parameter Sending Thread #0] DEBUG ipc.Client (Client.java:run(1137)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 sending #55 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength
2020-12-03 07:19:53,702 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-3
2020-12-03 07:19:53,703 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:authorizeConnection(2750)) - Successfully authorized userInfo {
}
protocol: "org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol"

2020-12-03 07:19:53,703 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #55
2020-12-03 07:19:53,703 [IPC Server handler 0 on default port 36744] DEBUG ipc.Server (Server.java:run(2902)) - IPC Server handler 0 on default port 36744: Call#55 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50046 for RpcKind RPC_PROTOCOL_BUFFER
2020-12-03 07:19:53,704 [IPC Server handler 0 on default port 36744] INFO  ipc.Server (ProtobufRpcEngine.java:call(505)) - Call: connectionProtocolName=org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol, method=getReplicaVisibleLength
2020-12-03 07:19:53,704 [IPC Server handler 0 on default port 36744] INFO  block.TestBlockToken (TestBlockToken.java:answer(151)) - Got: block_token_identifier (expiryDate=1606980111387, keyId=57518194, userId=root, blockPoolId=-10, blockId=-108, access modes=[READ, WRITE, COPY, REPLACE], storageTypes= [DISK], storageIds= [])
2020-12-03 07:19:53,705 [IPC Server handler 0 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1615)) - IPC Server handler 0 on default port 36744: responding to Call#55 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50046
2020-12-03 07:19:53,705 [IPC Server handler 0 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1634)) - IPC Server handler 0 on default port 36744: responding to Call#55 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50046 Wrote 43 bytes.
2020-12-03 07:19:53,705 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:receiveRpcResponse(1191)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 got value #55
2020-12-03 07:19:53,706 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:close(1283)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: closed
2020-12-03 07:19:53,706 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1092)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: stopped, remaining connections 0
2020-12-03 07:19:53,708 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:close(3738)) - Socket Reader #1 for port 0: disconnecting client 127.0.0.1:50046. Number of active connections: 0
2020-12-03 07:19:53,708 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(97)) - stopping client from cache: org.apache.hadoop.ipc.Client@3e6f3f28
2020-12-03 07:19:53,708 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(103)) - removing client from cache: org.apache.hadoop.ipc.Client@3e6f3f28
2020-12-03 07:19:53,708 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(110)) - stopping actual client because no more references remain: org.apache.hadoop.ipc.Client@3e6f3f28
2020-12-03 07:19:53,709 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:stop(1340)) - Stopping client
2020-12-03 07:19:53,709 [Listener at 0.0.0.0/36744] INFO  block.TestBlockToken (TestBlockToken.java:testBlockTokenRpcLeak(407)) - Num open fds:163
2020-12-03 07:19:53,711 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:getClient(63)) - getting client out of cache: org.apache.hadoop.ipc.Client@727eb8cb
2020-12-03 07:19:53,711 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:<init>(497)) - The ping interval is 60000 ms.
2020-12-03 07:19:53,717 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(795)) - Connecting to /127.0.0.1:36744
2020-12-03 07:19:53,718 [IPC Server listener on 0] DEBUG ipc.Server (Server.java:register(3727)) - Server connection from 127.0.0.1:50050; # active connections: 1; # queued calls: 0
2020-12-03 07:19:53,719 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: NEGOTIATE

2020-12-03 07:19:53,720 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:53,720 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:create(175)) - Created SASL server with mechanism = DIGEST-MD5
2020-12-03 07:19:53,720 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50050
2020-12-03 07:19:53,720 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50050 Wrote 194 bytes.
2020-12-03 07:19:53,721 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:getServerToken(268)) - Get token info proto:interface org.apache.hadoop.hdfs.protocolPB.ClientDatanodeProtocolPB info:@org.apache.hadoop.security.token.TokenInfo(value=class org.apache.hadoop.hdfs.security.token.block.BlockTokenSelector)
2020-12-03 07:19:53,721 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:createSaslClient(251)) - Creating SASL DIGEST-MD5(TOKEN)  client to authenticate to service at default
2020-12-03 07:19:53,722 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:selectSaslClient(177)) - Use TOKEN authentication for protocol ClientDatanodeProtocolPB
2020-12-03 07:19:53,722 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(678)) - SASL client callback: setting username: CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=
2020-12-03 07:19:53,723 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(683)) - SASL client callback: setting userPassword
2020-12-03 07:19:53,723 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(688)) - SASL client callback: setting realm: default
2020-12-03 07:19:53,724 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: INITIATE
token: "charset=utf-8,username=\"CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=\",realm=\"default\",nonce=\"4LqIvMp11AGQ2nCZeROiYWFfASNarBex6nmDQC9e\",nc=00000001,cnonce=\"NpBrjdCLRI1E/WgMjLLkizXF7dAmhL7SkbxeUV+q\",digest-uri=\"/default\",maxbuf=65536,response=6750ea69f93a02e1509f28f99e663d4c,qop=auth"
auths {
  method: "TOKEN"
  mechanism: "DIGEST-MD5"
  protocol: ""
  serverId: "default"
}

2020-12-03 07:19:53,724 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:53,724 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processSaslToken(2112)) - Have read input token of size 298 for processing by saslServer.evaluateResponse()
2020-12-03 07:19:53,725 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(310)) - SASL server DIGEST-MD5 callback: setting password for client: root (auth:SIMPLE)
2020-12-03 07:19:53,726 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(328)) - SASL server DIGEST-MD5 callback: setting canonicalized client ID: root
2020-12-03 07:19:53,726 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:buildSaslResponse(2129)) - Will send SUCCESS token of size 40 from saslServer.
2020-12-03 07:19:53,726 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2000)) - SASL server context established. Negotiated QoP is auth
2020-12-03 07:19:53,726 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2005)) - SASL server successfully authenticated client: root (auth:SIMPLE)
2020-12-03 07:19:53,726 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:saslProcess(2008)) - Auth successful for root (auth:SIMPLE)
2020-12-03 07:19:53,727 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50050
2020-12-03 07:19:53,727 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50050 Wrote 64 bytes.
2020-12-03 07:19:53,727 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(837)) - Negotiated QOP is :auth
2020-12-03 07:19:53,728 [IPC Parameter Sending Thread #0] DEBUG ipc.Client (Client.java:run(1137)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 sending #56 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength
2020-12-03 07:19:53,728 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1074)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: starting, having connections 1
2020-12-03 07:19:53,728 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-3
2020-12-03 07:19:53,729 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:authorizeConnection(2750)) - Successfully authorized userInfo {
}
protocol: "org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol"

2020-12-03 07:19:53,729 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #56
2020-12-03 07:19:53,729 [IPC Server handler 1 on default port 36744] DEBUG ipc.Server (Server.java:run(2902)) - IPC Server handler 1 on default port 36744: Call#56 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50050 for RpcKind RPC_PROTOCOL_BUFFER
2020-12-03 07:19:53,729 [IPC Server handler 1 on default port 36744] INFO  ipc.Server (ProtobufRpcEngine.java:call(505)) - Call: connectionProtocolName=org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol, method=getReplicaVisibleLength
2020-12-03 07:19:53,730 [IPC Server handler 1 on default port 36744] INFO  block.TestBlockToken (TestBlockToken.java:answer(151)) - Got: block_token_identifier (expiryDate=1606980111387, keyId=57518194, userId=root, blockPoolId=-10, blockId=-108, access modes=[READ, WRITE, COPY, REPLACE], storageTypes= [DISK], storageIds= [])
2020-12-03 07:19:53,730 [IPC Server handler 1 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1615)) - IPC Server handler 1 on default port 36744: responding to Call#56 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50050
2020-12-03 07:19:53,730 [IPC Server handler 1 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1634)) - IPC Server handler 1 on default port 36744: responding to Call#56 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50050 Wrote 43 bytes.
2020-12-03 07:19:53,731 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:receiveRpcResponse(1191)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 got value #56
2020-12-03 07:19:53,731 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(97)) - stopping client from cache: org.apache.hadoop.ipc.Client@727eb8cb
2020-12-03 07:19:53,731 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(103)) - removing client from cache: org.apache.hadoop.ipc.Client@727eb8cb
2020-12-03 07:19:53,732 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(110)) - stopping actual client because no more references remain: org.apache.hadoop.ipc.Client@727eb8cb
2020-12-03 07:19:53,732 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:stop(1340)) - Stopping client
2020-12-03 07:19:53,731 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:close(1283)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: closed
2020-12-03 07:19:53,732 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1092)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: stopped, remaining connections 0
2020-12-03 07:19:53,733 [Listener at 0.0.0.0/36744] INFO  block.TestBlockToken (TestBlockToken.java:testBlockTokenRpcLeak(407)) - Num open fds:164
2020-12-03 07:19:53,734 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:close(3738)) - Socket Reader #1 for port 0: disconnecting client 127.0.0.1:50050. Number of active connections: 0
2020-12-03 07:19:53,734 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:getClient(63)) - getting client out of cache: org.apache.hadoop.ipc.Client@5026735c
2020-12-03 07:19:53,734 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:<init>(497)) - The ping interval is 60000 ms.
2020-12-03 07:19:53,735 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(795)) - Connecting to /127.0.0.1:36744
2020-12-03 07:19:53,735 [IPC Server listener on 0] DEBUG ipc.Server (Server.java:register(3727)) - Server connection from 127.0.0.1:50052; # active connections: 1; # queued calls: 0
2020-12-03 07:19:53,742 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: NEGOTIATE

2020-12-03 07:19:53,743 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:53,744 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:create(175)) - Created SASL server with mechanism = DIGEST-MD5
2020-12-03 07:19:53,744 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50052
2020-12-03 07:19:53,744 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50052 Wrote 194 bytes.
2020-12-03 07:19:53,745 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:getServerToken(268)) - Get token info proto:interface org.apache.hadoop.hdfs.protocolPB.ClientDatanodeProtocolPB info:@org.apache.hadoop.security.token.TokenInfo(value=class org.apache.hadoop.hdfs.security.token.block.BlockTokenSelector)
2020-12-03 07:19:53,745 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:createSaslClient(251)) - Creating SASL DIGEST-MD5(TOKEN)  client to authenticate to service at default
2020-12-03 07:19:53,746 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:selectSaslClient(177)) - Use TOKEN authentication for protocol ClientDatanodeProtocolPB
2020-12-03 07:19:53,746 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(678)) - SASL client callback: setting username: CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=
2020-12-03 07:19:53,746 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(683)) - SASL client callback: setting userPassword
2020-12-03 07:19:53,746 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(688)) - SASL client callback: setting realm: default
2020-12-03 07:19:53,747 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: INITIATE
token: "charset=utf-8,username=\"CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=\",realm=\"default\",nonce=\"jBwWc/1fvktaHB1QlrK1ey2+lpbHU5dJp3+vXS5g\",nc=00000001,cnonce=\"B65Na7U8V3VLFtVjcExaW6AYadR/UuG7cmRSiDBX\",digest-uri=\"/default\",maxbuf=65536,response=9e55f696d39f3ae8226821d4bc3bcf0f,qop=auth"
auths {
  method: "TOKEN"
  mechanism: "DIGEST-MD5"
  protocol: ""
  serverId: "default"
}

2020-12-03 07:19:53,748 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:53,748 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processSaslToken(2112)) - Have read input token of size 298 for processing by saslServer.evaluateResponse()
2020-12-03 07:19:53,749 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(310)) - SASL server DIGEST-MD5 callback: setting password for client: root (auth:SIMPLE)
2020-12-03 07:19:53,749 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(328)) - SASL server DIGEST-MD5 callback: setting canonicalized client ID: root
2020-12-03 07:19:53,749 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:buildSaslResponse(2129)) - Will send SUCCESS token of size 40 from saslServer.
2020-12-03 07:19:53,749 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2000)) - SASL server context established. Negotiated QoP is auth
2020-12-03 07:19:53,750 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2005)) - SASL server successfully authenticated client: root (auth:SIMPLE)
2020-12-03 07:19:53,750 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:saslProcess(2008)) - Auth successful for root (auth:SIMPLE)
2020-12-03 07:19:53,750 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50052
2020-12-03 07:19:53,750 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50052 Wrote 64 bytes.
2020-12-03 07:19:53,751 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(837)) - Negotiated QOP is :auth
2020-12-03 07:19:53,751 [IPC Parameter Sending Thread #0] DEBUG ipc.Client (Client.java:run(1137)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 sending #57 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength
2020-12-03 07:19:53,751 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1074)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: starting, having connections 1
2020-12-03 07:19:53,751 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-3
2020-12-03 07:19:53,752 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:authorizeConnection(2750)) - Successfully authorized userInfo {
}
protocol: "org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol"

2020-12-03 07:19:53,752 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #57
2020-12-03 07:19:53,752 [IPC Server handler 3 on default port 36744] DEBUG ipc.Server (Server.java:run(2902)) - IPC Server handler 3 on default port 36744: Call#57 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50052 for RpcKind RPC_PROTOCOL_BUFFER
2020-12-03 07:19:53,752 [IPC Server handler 3 on default port 36744] INFO  ipc.Server (ProtobufRpcEngine.java:call(505)) - Call: connectionProtocolName=org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol, method=getReplicaVisibleLength
2020-12-03 07:19:53,753 [IPC Server handler 3 on default port 36744] INFO  block.TestBlockToken (TestBlockToken.java:answer(151)) - Got: block_token_identifier (expiryDate=1606980111387, keyId=57518194, userId=root, blockPoolId=-10, blockId=-108, access modes=[READ, WRITE, COPY, REPLACE], storageTypes= [DISK], storageIds= [])
2020-12-03 07:19:53,753 [IPC Server handler 3 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1615)) - IPC Server handler 3 on default port 36744: responding to Call#57 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50052
2020-12-03 07:19:53,754 [IPC Server handler 3 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1634)) - IPC Server handler 3 on default port 36744: responding to Call#57 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50052 Wrote 43 bytes.
2020-12-03 07:19:53,756 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:receiveRpcResponse(1191)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 got value #57
2020-12-03 07:19:53,756 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(97)) - stopping client from cache: org.apache.hadoop.ipc.Client@5026735c
2020-12-03 07:19:53,756 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(103)) - removing client from cache: org.apache.hadoop.ipc.Client@5026735c
2020-12-03 07:19:53,756 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(110)) - stopping actual client because no more references remain: org.apache.hadoop.ipc.Client@5026735c
2020-12-03 07:19:53,757 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:stop(1340)) - Stopping client
2020-12-03 07:19:53,757 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:close(1283)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: closed
2020-12-03 07:19:53,757 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:close(3738)) - Socket Reader #1 for port 0: disconnecting client 127.0.0.1:50052. Number of active connections: 0
2020-12-03 07:19:53,757 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1092)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: stopped, remaining connections 0
2020-12-03 07:19:53,858 [Listener at 0.0.0.0/36744] INFO  block.TestBlockToken (TestBlockToken.java:testBlockTokenRpcLeak(407)) - Num open fds:163
2020-12-03 07:19:53,859 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:getClient(63)) - getting client out of cache: org.apache.hadoop.ipc.Client@5a5338df
2020-12-03 07:19:53,859 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:<init>(497)) - The ping interval is 60000 ms.
2020-12-03 07:19:53,860 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(795)) - Connecting to /127.0.0.1:36744
2020-12-03 07:19:53,860 [IPC Server listener on 0] DEBUG ipc.Server (Server.java:register(3727)) - Server connection from 127.0.0.1:50064; # active connections: 1; # queued calls: 0
2020-12-03 07:19:53,861 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: NEGOTIATE

2020-12-03 07:19:53,861 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:53,861 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:create(175)) - Created SASL server with mechanism = DIGEST-MD5
2020-12-03 07:19:53,862 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50064
2020-12-03 07:19:53,862 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50064 Wrote 194 bytes.
2020-12-03 07:19:53,862 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:getServerToken(268)) - Get token info proto:interface org.apache.hadoop.hdfs.protocolPB.ClientDatanodeProtocolPB info:@org.apache.hadoop.security.token.TokenInfo(value=class org.apache.hadoop.hdfs.security.token.block.BlockTokenSelector)
2020-12-03 07:19:53,862 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:createSaslClient(251)) - Creating SASL DIGEST-MD5(TOKEN)  client to authenticate to service at default
2020-12-03 07:19:53,863 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:selectSaslClient(177)) - Use TOKEN authentication for protocol ClientDatanodeProtocolPB
2020-12-03 07:19:53,863 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(678)) - SASL client callback: setting username: CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=
2020-12-03 07:19:53,863 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(683)) - SASL client callback: setting userPassword
2020-12-03 07:19:53,863 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(688)) - SASL client callback: setting realm: default
2020-12-03 07:19:53,864 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: INITIATE
token: "charset=utf-8,username=\"CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=\",realm=\"default\",nonce=\"rWfUPbl7NOjs79iRImNnk1ROuYDPf3zn9iOZptSn\",nc=00000001,cnonce=\"gZv4vRPEW2fYyVq+vkBAFKdu69AbR2oXqkFhfsnQ\",digest-uri=\"/default\",maxbuf=65536,response=d246737c44a5a063feedbc7f12dd91ec,qop=auth"
auths {
  method: "TOKEN"
  mechanism: "DIGEST-MD5"
  protocol: ""
  serverId: "default"
}

2020-12-03 07:19:53,864 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:53,864 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processSaslToken(2112)) - Have read input token of size 298 for processing by saslServer.evaluateResponse()
2020-12-03 07:19:53,865 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(310)) - SASL server DIGEST-MD5 callback: setting password for client: root (auth:SIMPLE)
2020-12-03 07:19:53,865 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(328)) - SASL server DIGEST-MD5 callback: setting canonicalized client ID: root
2020-12-03 07:19:53,866 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:buildSaslResponse(2129)) - Will send SUCCESS token of size 40 from saslServer.
2020-12-03 07:19:53,866 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2000)) - SASL server context established. Negotiated QoP is auth
2020-12-03 07:19:53,866 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2005)) - SASL server successfully authenticated client: root (auth:SIMPLE)
2020-12-03 07:19:53,866 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:saslProcess(2008)) - Auth successful for root (auth:SIMPLE)
2020-12-03 07:19:53,866 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50064
2020-12-03 07:19:53,866 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50064 Wrote 64 bytes.
2020-12-03 07:19:53,867 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(837)) - Negotiated QOP is :auth
2020-12-03 07:19:53,867 [IPC Parameter Sending Thread #0] DEBUG ipc.Client (Client.java:run(1137)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 sending #58 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength
2020-12-03 07:19:53,867 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1074)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: starting, having connections 1
2020-12-03 07:19:53,868 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-3
2020-12-03 07:19:53,868 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:authorizeConnection(2750)) - Successfully authorized userInfo {
}
protocol: "org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol"

2020-12-03 07:19:53,868 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #58
2020-12-03 07:19:53,869 [IPC Server handler 2 on default port 36744] DEBUG ipc.Server (Server.java:run(2902)) - IPC Server handler 2 on default port 36744: Call#58 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50064 for RpcKind RPC_PROTOCOL_BUFFER
2020-12-03 07:19:53,869 [IPC Server handler 2 on default port 36744] INFO  ipc.Server (ProtobufRpcEngine.java:call(505)) - Call: connectionProtocolName=org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol, method=getReplicaVisibleLength
2020-12-03 07:19:53,869 [IPC Server handler 2 on default port 36744] INFO  block.TestBlockToken (TestBlockToken.java:answer(151)) - Got: block_token_identifier (expiryDate=1606980111387, keyId=57518194, userId=root, blockPoolId=-10, blockId=-108, access modes=[READ, WRITE, COPY, REPLACE], storageTypes= [DISK], storageIds= [])
2020-12-03 07:19:53,870 [IPC Server handler 2 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1615)) - IPC Server handler 2 on default port 36744: responding to Call#58 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50064
2020-12-03 07:19:53,870 [IPC Server handler 2 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1634)) - IPC Server handler 2 on default port 36744: responding to Call#58 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50064 Wrote 43 bytes.
2020-12-03 07:19:53,870 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:receiveRpcResponse(1191)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 got value #58
2020-12-03 07:19:53,870 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:close(1283)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: closed
2020-12-03 07:19:53,870 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1092)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: stopped, remaining connections 0
2020-12-03 07:19:53,870 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:close(3738)) - Socket Reader #1 for port 0: disconnecting client 127.0.0.1:50064. Number of active connections: 0
2020-12-03 07:19:53,870 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(97)) - stopping client from cache: org.apache.hadoop.ipc.Client@5a5338df
2020-12-03 07:19:53,871 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(103)) - removing client from cache: org.apache.hadoop.ipc.Client@5a5338df
2020-12-03 07:19:53,871 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(110)) - stopping actual client because no more references remain: org.apache.hadoop.ipc.Client@5a5338df
2020-12-03 07:19:53,871 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:stop(1340)) - Stopping client
2020-12-03 07:19:53,872 [Listener at 0.0.0.0/36744] INFO  block.TestBlockToken (TestBlockToken.java:testBlockTokenRpcLeak(407)) - Num open fds:163
2020-12-03 07:19:53,874 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:getClient(63)) - getting client out of cache: org.apache.hadoop.ipc.Client@63eef88a
2020-12-03 07:19:53,874 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:<init>(497)) - The ping interval is 60000 ms.
2020-12-03 07:19:53,874 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(795)) - Connecting to /127.0.0.1:36744
2020-12-03 07:19:53,875 [IPC Server listener on 0] DEBUG ipc.Server (Server.java:register(3727)) - Server connection from 127.0.0.1:50068; # active connections: 1; # queued calls: 0
2020-12-03 07:19:53,875 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: NEGOTIATE

2020-12-03 07:19:53,875 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:53,876 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:create(175)) - Created SASL server with mechanism = DIGEST-MD5
2020-12-03 07:19:53,876 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50068
2020-12-03 07:19:53,876 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50068 Wrote 194 bytes.
2020-12-03 07:19:53,876 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:getServerToken(268)) - Get token info proto:interface org.apache.hadoop.hdfs.protocolPB.ClientDatanodeProtocolPB info:@org.apache.hadoop.security.token.TokenInfo(value=class org.apache.hadoop.hdfs.security.token.block.BlockTokenSelector)
2020-12-03 07:19:53,877 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:createSaslClient(251)) - Creating SASL DIGEST-MD5(TOKEN)  client to authenticate to service at default
2020-12-03 07:19:53,877 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:selectSaslClient(177)) - Use TOKEN authentication for protocol ClientDatanodeProtocolPB
2020-12-03 07:19:53,877 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(678)) - SASL client callback: setting username: CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=
2020-12-03 07:19:53,878 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(683)) - SASL client callback: setting userPassword
2020-12-03 07:19:53,878 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(688)) - SASL client callback: setting realm: default
2020-12-03 07:19:53,878 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: INITIATE
token: "charset=utf-8,username=\"CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=\",realm=\"default\",nonce=\"75esPkfgljBqSjxZz3vnFG24Qidnbvn+qTU6bj3K\",nc=00000001,cnonce=\"/VFs4ypHgo6FiXO832NFxRL9llb+UkHSHoRwsEa9\",digest-uri=\"/default\",maxbuf=65536,response=bc3310409c101fb25237a9ebce9e0216,qop=auth"
auths {
  method: "TOKEN"
  mechanism: "DIGEST-MD5"
  protocol: ""
  serverId: "default"
}

2020-12-03 07:19:53,879 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:53,879 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processSaslToken(2112)) - Have read input token of size 298 for processing by saslServer.evaluateResponse()
2020-12-03 07:19:53,880 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(310)) - SASL server DIGEST-MD5 callback: setting password for client: root (auth:SIMPLE)
2020-12-03 07:19:53,880 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(328)) - SASL server DIGEST-MD5 callback: setting canonicalized client ID: root
2020-12-03 07:19:53,880 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:buildSaslResponse(2129)) - Will send SUCCESS token of size 40 from saslServer.
2020-12-03 07:19:53,880 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2000)) - SASL server context established. Negotiated QoP is auth
2020-12-03 07:19:53,880 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2005)) - SASL server successfully authenticated client: root (auth:SIMPLE)
2020-12-03 07:19:53,881 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:saslProcess(2008)) - Auth successful for root (auth:SIMPLE)
2020-12-03 07:19:53,881 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50068
2020-12-03 07:19:53,881 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50068 Wrote 64 bytes.
2020-12-03 07:19:53,881 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(837)) - Negotiated QOP is :auth
2020-12-03 07:19:53,882 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1074)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: starting, having connections 1
2020-12-03 07:19:53,882 [IPC Parameter Sending Thread #0] DEBUG ipc.Client (Client.java:run(1137)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 sending #59 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength
2020-12-03 07:19:53,882 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-3
2020-12-03 07:19:53,883 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:authorizeConnection(2750)) - Successfully authorized userInfo {
}
protocol: "org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol"

2020-12-03 07:19:53,883 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #59
2020-12-03 07:19:53,883 [IPC Server handler 4 on default port 36744] DEBUG ipc.Server (Server.java:run(2902)) - IPC Server handler 4 on default port 36744: Call#59 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50068 for RpcKind RPC_PROTOCOL_BUFFER
2020-12-03 07:19:53,883 [IPC Server handler 4 on default port 36744] INFO  ipc.Server (ProtobufRpcEngine.java:call(505)) - Call: connectionProtocolName=org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol, method=getReplicaVisibleLength
2020-12-03 07:19:53,884 [IPC Server handler 4 on default port 36744] INFO  block.TestBlockToken (TestBlockToken.java:answer(151)) - Got: block_token_identifier (expiryDate=1606980111387, keyId=57518194, userId=root, blockPoolId=-10, blockId=-108, access modes=[READ, WRITE, COPY, REPLACE], storageTypes= [DISK], storageIds= [])
2020-12-03 07:19:53,884 [IPC Server handler 4 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1615)) - IPC Server handler 4 on default port 36744: responding to Call#59 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50068
2020-12-03 07:19:53,884 [IPC Server handler 4 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1634)) - IPC Server handler 4 on default port 36744: responding to Call#59 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50068 Wrote 43 bytes.
2020-12-03 07:19:53,884 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:receiveRpcResponse(1191)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 got value #59
2020-12-03 07:19:53,885 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(97)) - stopping client from cache: org.apache.hadoop.ipc.Client@63eef88a
2020-12-03 07:19:53,885 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:close(1283)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: closed
2020-12-03 07:19:53,885 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1092)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: stopped, remaining connections 0
2020-12-03 07:19:53,885 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:close(3738)) - Socket Reader #1 for port 0: disconnecting client 127.0.0.1:50068. Number of active connections: 0
2020-12-03 07:19:53,885 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(103)) - removing client from cache: org.apache.hadoop.ipc.Client@63eef88a
2020-12-03 07:19:53,885 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(110)) - stopping actual client because no more references remain: org.apache.hadoop.ipc.Client@63eef88a
2020-12-03 07:19:53,886 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:stop(1340)) - Stopping client
2020-12-03 07:19:53,886 [Listener at 0.0.0.0/36744] INFO  block.TestBlockToken (TestBlockToken.java:testBlockTokenRpcLeak(407)) - Num open fds:163
2020-12-03 07:19:53,887 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:getClient(63)) - getting client out of cache: org.apache.hadoop.ipc.Client@6c0d7c83
2020-12-03 07:19:53,888 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:<init>(497)) - The ping interval is 60000 ms.
2020-12-03 07:19:53,888 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(795)) - Connecting to /127.0.0.1:36744
2020-12-03 07:19:53,888 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: NEGOTIATE

2020-12-03 07:19:53,892 [IPC Server listener on 0] DEBUG ipc.Server (Server.java:register(3727)) - Server connection from 127.0.0.1:50070; # active connections: 1; # queued calls: 0
2020-12-03 07:19:53,892 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:53,892 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:create(175)) - Created SASL server with mechanism = DIGEST-MD5
2020-12-03 07:19:53,893 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50070
2020-12-03 07:19:53,893 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50070 Wrote 194 bytes.
2020-12-03 07:19:53,893 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:getServerToken(268)) - Get token info proto:interface org.apache.hadoop.hdfs.protocolPB.ClientDatanodeProtocolPB info:@org.apache.hadoop.security.token.TokenInfo(value=class org.apache.hadoop.hdfs.security.token.block.BlockTokenSelector)
2020-12-03 07:19:53,894 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:createSaslClient(251)) - Creating SASL DIGEST-MD5(TOKEN)  client to authenticate to service at default
2020-12-03 07:19:53,894 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:selectSaslClient(177)) - Use TOKEN authentication for protocol ClientDatanodeProtocolPB
2020-12-03 07:19:53,895 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(678)) - SASL client callback: setting username: CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=
2020-12-03 07:19:53,895 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(683)) - SASL client callback: setting userPassword
2020-12-03 07:19:53,895 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(688)) - SASL client callback: setting realm: default
2020-12-03 07:19:53,896 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: INITIATE
token: "charset=utf-8,username=\"CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=\",realm=\"default\",nonce=\"br07v0G5wYrSYC12ELgZKqR+ryCpUQdCSTO4kUqj\",nc=00000001,cnonce=\"XkYfRtqbRCAg9jWXlb2bJbqxQjsLQdcij8+nAM17\",digest-uri=\"/default\",maxbuf=65536,response=56b3455e722a58d3556bd96853c0c807,qop=auth"
auths {
  method: "TOKEN"
  mechanism: "DIGEST-MD5"
  protocol: ""
  serverId: "default"
}

2020-12-03 07:19:53,896 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:53,897 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processSaslToken(2112)) - Have read input token of size 298 for processing by saslServer.evaluateResponse()
2020-12-03 07:19:53,897 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(310)) - SASL server DIGEST-MD5 callback: setting password for client: root (auth:SIMPLE)
2020-12-03 07:19:53,898 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(328)) - SASL server DIGEST-MD5 callback: setting canonicalized client ID: root
2020-12-03 07:19:53,898 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:buildSaslResponse(2129)) - Will send SUCCESS token of size 40 from saslServer.
2020-12-03 07:19:53,898 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2000)) - SASL server context established. Negotiated QoP is auth
2020-12-03 07:19:53,898 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2005)) - SASL server successfully authenticated client: root (auth:SIMPLE)
2020-12-03 07:19:53,898 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:saslProcess(2008)) - Auth successful for root (auth:SIMPLE)
2020-12-03 07:19:53,898 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50070
2020-12-03 07:19:53,899 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50070 Wrote 64 bytes.
2020-12-03 07:19:53,903 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(837)) - Negotiated QOP is :auth
2020-12-03 07:19:53,903 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1074)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: starting, having connections 1
2020-12-03 07:19:53,904 [IPC Parameter Sending Thread #0] DEBUG ipc.Client (Client.java:run(1137)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 sending #60 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength
2020-12-03 07:19:53,904 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-3
2020-12-03 07:19:53,904 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:authorizeConnection(2750)) - Successfully authorized userInfo {
}
protocol: "org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol"

2020-12-03 07:19:53,904 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #60
2020-12-03 07:19:53,904 [IPC Server handler 0 on default port 36744] DEBUG ipc.Server (Server.java:run(2902)) - IPC Server handler 0 on default port 36744: Call#60 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50070 for RpcKind RPC_PROTOCOL_BUFFER
2020-12-03 07:19:53,905 [IPC Server handler 0 on default port 36744] INFO  ipc.Server (ProtobufRpcEngine.java:call(505)) - Call: connectionProtocolName=org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol, method=getReplicaVisibleLength
2020-12-03 07:19:53,906 [IPC Server handler 0 on default port 36744] INFO  block.TestBlockToken (TestBlockToken.java:answer(151)) - Got: block_token_identifier (expiryDate=1606980111387, keyId=57518194, userId=root, blockPoolId=-10, blockId=-108, access modes=[READ, WRITE, COPY, REPLACE], storageTypes= [DISK], storageIds= [])
2020-12-03 07:19:53,906 [IPC Server handler 0 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1615)) - IPC Server handler 0 on default port 36744: responding to Call#60 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50070
2020-12-03 07:19:53,906 [IPC Server handler 0 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1634)) - IPC Server handler 0 on default port 36744: responding to Call#60 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50070 Wrote 43 bytes.
2020-12-03 07:19:53,906 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:receiveRpcResponse(1191)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 got value #60
2020-12-03 07:19:53,907 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(97)) - stopping client from cache: org.apache.hadoop.ipc.Client@6c0d7c83
2020-12-03 07:19:53,907 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:close(3738)) - Socket Reader #1 for port 0: disconnecting client 127.0.0.1:50070. Number of active connections: 0
2020-12-03 07:19:53,907 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:close(1283)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: closed
2020-12-03 07:19:53,907 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1092)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: stopped, remaining connections 0
2020-12-03 07:19:53,907 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(103)) - removing client from cache: org.apache.hadoop.ipc.Client@6c0d7c83
2020-12-03 07:19:53,907 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(110)) - stopping actual client because no more references remain: org.apache.hadoop.ipc.Client@6c0d7c83
2020-12-03 07:19:53,907 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:stop(1340)) - Stopping client
2020-12-03 07:19:53,908 [Listener at 0.0.0.0/36744] INFO  block.TestBlockToken (TestBlockToken.java:testBlockTokenRpcLeak(407)) - Num open fds:163
2020-12-03 07:19:53,910 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:getClient(63)) - getting client out of cache: org.apache.hadoop.ipc.Client@7aaca91a
2020-12-03 07:19:53,911 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:<init>(497)) - The ping interval is 60000 ms.
2020-12-03 07:19:53,911 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(795)) - Connecting to /127.0.0.1:36744
2020-12-03 07:19:53,912 [IPC Server listener on 0] DEBUG ipc.Server (Server.java:register(3727)) - Server connection from 127.0.0.1:50074; # active connections: 1; # queued calls: 0
2020-12-03 07:19:53,912 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: NEGOTIATE

2020-12-03 07:19:53,914 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:53,914 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:create(175)) - Created SASL server with mechanism = DIGEST-MD5
2020-12-03 07:19:53,915 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50074
2020-12-03 07:19:53,915 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50074 Wrote 194 bytes.
2020-12-03 07:19:53,916 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:getServerToken(268)) - Get token info proto:interface org.apache.hadoop.hdfs.protocolPB.ClientDatanodeProtocolPB info:@org.apache.hadoop.security.token.TokenInfo(value=class org.apache.hadoop.hdfs.security.token.block.BlockTokenSelector)
2020-12-03 07:19:53,917 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:createSaslClient(251)) - Creating SASL DIGEST-MD5(TOKEN)  client to authenticate to service at default
2020-12-03 07:19:53,917 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:selectSaslClient(177)) - Use TOKEN authentication for protocol ClientDatanodeProtocolPB
2020-12-03 07:19:53,918 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(678)) - SASL client callback: setting username: CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=
2020-12-03 07:19:53,918 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(683)) - SASL client callback: setting userPassword
2020-12-03 07:19:53,918 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(688)) - SASL client callback: setting realm: default
2020-12-03 07:19:53,919 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: INITIATE
token: "charset=utf-8,username=\"CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=\",realm=\"default\",nonce=\"2OUsXZXYHvieZXm4j0bjrjigvNs9NDuVNXM/VmQP\",nc=00000001,cnonce=\"QlBbxY7h2/9yJF2otLLFGOLr9vE5SzpKSvOJmB+L\",digest-uri=\"/default\",maxbuf=65536,response=dcca46b47480b40a63921b22676aca6b,qop=auth"
auths {
  method: "TOKEN"
  mechanism: "DIGEST-MD5"
  protocol: ""
  serverId: "default"
}

2020-12-03 07:19:53,920 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:53,920 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processSaslToken(2112)) - Have read input token of size 298 for processing by saslServer.evaluateResponse()
2020-12-03 07:19:53,920 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(310)) - SASL server DIGEST-MD5 callback: setting password for client: root (auth:SIMPLE)
2020-12-03 07:19:53,921 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(328)) - SASL server DIGEST-MD5 callback: setting canonicalized client ID: root
2020-12-03 07:19:53,921 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:buildSaslResponse(2129)) - Will send SUCCESS token of size 40 from saslServer.
2020-12-03 07:19:53,921 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2000)) - SASL server context established. Negotiated QoP is auth
2020-12-03 07:19:53,921 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2005)) - SASL server successfully authenticated client: root (auth:SIMPLE)
2020-12-03 07:19:53,922 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:saslProcess(2008)) - Auth successful for root (auth:SIMPLE)
2020-12-03 07:19:53,922 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50074
2020-12-03 07:19:53,922 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50074 Wrote 64 bytes.
2020-12-03 07:19:53,922 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(837)) - Negotiated QOP is :auth
2020-12-03 07:19:53,923 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1074)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: starting, having connections 1
2020-12-03 07:19:53,924 [IPC Parameter Sending Thread #0] DEBUG ipc.Client (Client.java:run(1137)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 sending #61 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength
2020-12-03 07:19:53,925 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-3
2020-12-03 07:19:53,926 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:authorizeConnection(2750)) - Successfully authorized userInfo {
}
protocol: "org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol"

2020-12-03 07:19:53,926 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #61
2020-12-03 07:19:53,928 [IPC Server handler 1 on default port 36744] DEBUG ipc.Server (Server.java:run(2902)) - IPC Server handler 1 on default port 36744: Call#61 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50074 for RpcKind RPC_PROTOCOL_BUFFER
2020-12-03 07:19:53,928 [IPC Server handler 1 on default port 36744] INFO  ipc.Server (ProtobufRpcEngine.java:call(505)) - Call: connectionProtocolName=org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol, method=getReplicaVisibleLength
2020-12-03 07:19:53,931 [IPC Server handler 1 on default port 36744] INFO  block.TestBlockToken (TestBlockToken.java:answer(151)) - Got: block_token_identifier (expiryDate=1606980111387, keyId=57518194, userId=root, blockPoolId=-10, blockId=-108, access modes=[READ, WRITE, COPY, REPLACE], storageTypes= [DISK], storageIds= [])
2020-12-03 07:19:53,931 [IPC Server handler 1 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1615)) - IPC Server handler 1 on default port 36744: responding to Call#61 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50074
2020-12-03 07:19:53,931 [IPC Server handler 1 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1634)) - IPC Server handler 1 on default port 36744: responding to Call#61 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50074 Wrote 43 bytes.
2020-12-03 07:19:53,932 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:receiveRpcResponse(1191)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 got value #61
2020-12-03 07:19:53,932 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(97)) - stopping client from cache: org.apache.hadoop.ipc.Client@7aaca91a
2020-12-03 07:19:53,932 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:close(3738)) - Socket Reader #1 for port 0: disconnecting client 127.0.0.1:50074. Number of active connections: 0
2020-12-03 07:19:53,932 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(103)) - removing client from cache: org.apache.hadoop.ipc.Client@7aaca91a
2020-12-03 07:19:53,933 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(110)) - stopping actual client because no more references remain: org.apache.hadoop.ipc.Client@7aaca91a
2020-12-03 07:19:53,933 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:stop(1340)) - Stopping client
2020-12-03 07:19:53,934 [Listener at 0.0.0.0/36744] INFO  block.TestBlockToken (TestBlockToken.java:testBlockTokenRpcLeak(407)) - Num open fds:163
2020-12-03 07:19:53,935 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:getClient(63)) - getting client out of cache: org.apache.hadoop.ipc.Client@6d07a63d
2020-12-03 07:19:53,936 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:<init>(497)) - The ping interval is 60000 ms.
2020-12-03 07:19:53,932 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:close(1283)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: closed
2020-12-03 07:19:53,936 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1092)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: stopped, remaining connections 0
2020-12-03 07:19:53,936 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(795)) - Connecting to /127.0.0.1:36744
2020-12-03 07:19:53,937 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: NEGOTIATE

2020-12-03 07:19:53,940 [IPC Server listener on 0] DEBUG ipc.Server (Server.java:register(3727)) - Server connection from 127.0.0.1:50078; # active connections: 1; # queued calls: 0
2020-12-03 07:19:53,941 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:53,941 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:create(175)) - Created SASL server with mechanism = DIGEST-MD5
2020-12-03 07:19:53,941 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50078
2020-12-03 07:19:53,942 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50078 Wrote 194 bytes.
2020-12-03 07:19:53,942 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:getServerToken(268)) - Get token info proto:interface org.apache.hadoop.hdfs.protocolPB.ClientDatanodeProtocolPB info:@org.apache.hadoop.security.token.TokenInfo(value=class org.apache.hadoop.hdfs.security.token.block.BlockTokenSelector)
2020-12-03 07:19:53,943 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:createSaslClient(251)) - Creating SASL DIGEST-MD5(TOKEN)  client to authenticate to service at default
2020-12-03 07:19:53,943 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:selectSaslClient(177)) - Use TOKEN authentication for protocol ClientDatanodeProtocolPB
2020-12-03 07:19:53,944 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(678)) - SASL client callback: setting username: CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=
2020-12-03 07:19:53,944 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(683)) - SASL client callback: setting userPassword
2020-12-03 07:19:53,944 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(688)) - SASL client callback: setting realm: default
2020-12-03 07:19:53,945 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: INITIATE
token: "charset=utf-8,username=\"CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=\",realm=\"default\",nonce=\"gLmHSyLNl7ms3D5kcBJETVscgvlYbAOV1IfgQltJ\",nc=00000001,cnonce=\"rjmPsu1+Wg1jDM6a54zRxvDQB0NdIHmjDuAbDU/0\",digest-uri=\"/default\",maxbuf=65536,response=c78f1c66f22b34ed6f2783c921278bac,qop=auth"
auths {
  method: "TOKEN"
  mechanism: "DIGEST-MD5"
  protocol: ""
  serverId: "default"
}

2020-12-03 07:19:53,945 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:53,946 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processSaslToken(2112)) - Have read input token of size 298 for processing by saslServer.evaluateResponse()
2020-12-03 07:19:53,947 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(310)) - SASL server DIGEST-MD5 callback: setting password for client: root (auth:SIMPLE)
2020-12-03 07:19:53,947 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(328)) - SASL server DIGEST-MD5 callback: setting canonicalized client ID: root
2020-12-03 07:19:53,948 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:buildSaslResponse(2129)) - Will send SUCCESS token of size 40 from saslServer.
2020-12-03 07:19:53,948 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2000)) - SASL server context established. Negotiated QoP is auth
2020-12-03 07:19:53,948 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2005)) - SASL server successfully authenticated client: root (auth:SIMPLE)
2020-12-03 07:19:53,949 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:saslProcess(2008)) - Auth successful for root (auth:SIMPLE)
2020-12-03 07:19:53,949 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50078
2020-12-03 07:19:53,949 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50078 Wrote 64 bytes.
2020-12-03 07:19:53,950 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(837)) - Negotiated QOP is :auth
2020-12-03 07:19:53,950 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1074)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: starting, having connections 1
2020-12-03 07:19:53,956 [IPC Parameter Sending Thread #0] DEBUG ipc.Client (Client.java:run(1137)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 sending #62 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength
2020-12-03 07:19:53,956 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-3
2020-12-03 07:19:53,957 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:authorizeConnection(2750)) - Successfully authorized userInfo {
}
protocol: "org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol"

2020-12-03 07:19:53,957 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #62
2020-12-03 07:19:53,957 [IPC Server handler 3 on default port 36744] DEBUG ipc.Server (Server.java:run(2902)) - IPC Server handler 3 on default port 36744: Call#62 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50078 for RpcKind RPC_PROTOCOL_BUFFER
2020-12-03 07:19:53,957 [IPC Server handler 3 on default port 36744] INFO  ipc.Server (ProtobufRpcEngine.java:call(505)) - Call: connectionProtocolName=org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol, method=getReplicaVisibleLength
2020-12-03 07:19:53,958 [IPC Server handler 3 on default port 36744] INFO  block.TestBlockToken (TestBlockToken.java:answer(151)) - Got: block_token_identifier (expiryDate=1606980111387, keyId=57518194, userId=root, blockPoolId=-10, blockId=-108, access modes=[READ, WRITE, COPY, REPLACE], storageTypes= [DISK], storageIds= [])
2020-12-03 07:19:53,959 [IPC Server handler 3 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1615)) - IPC Server handler 3 on default port 36744: responding to Call#62 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50078
2020-12-03 07:19:53,959 [IPC Server handler 3 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1634)) - IPC Server handler 3 on default port 36744: responding to Call#62 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50078 Wrote 43 bytes.
2020-12-03 07:19:53,960 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:receiveRpcResponse(1191)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 got value #62
2020-12-03 07:19:53,960 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(97)) - stopping client from cache: org.apache.hadoop.ipc.Client@6d07a63d
2020-12-03 07:19:53,961 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(103)) - removing client from cache: org.apache.hadoop.ipc.Client@6d07a63d
2020-12-03 07:19:53,961 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(110)) - stopping actual client because no more references remain: org.apache.hadoop.ipc.Client@6d07a63d
2020-12-03 07:19:53,961 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:stop(1340)) - Stopping client
2020-12-03 07:19:53,962 [Listener at 0.0.0.0/36744] INFO  block.TestBlockToken (TestBlockToken.java:testBlockTokenRpcLeak(407)) - Num open fds:164
2020-12-03 07:19:53,963 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:getClient(63)) - getting client out of cache: org.apache.hadoop.ipc.Client@6e005dc9
2020-12-03 07:19:53,960 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:close(3738)) - Socket Reader #1 for port 0: disconnecting client 127.0.0.1:50078. Number of active connections: 0
2020-12-03 07:19:53,960 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:close(1283)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: closed
2020-12-03 07:19:53,964 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1092)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: stopped, remaining connections 0
2020-12-03 07:19:53,963 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:<init>(497)) - The ping interval is 60000 ms.
2020-12-03 07:19:53,968 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(795)) - Connecting to /127.0.0.1:36744
2020-12-03 07:19:53,969 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: NEGOTIATE

2020-12-03 07:19:53,970 [IPC Server listener on 0] DEBUG ipc.Server (Server.java:register(3727)) - Server connection from 127.0.0.1:50080; # active connections: 1; # queued calls: 0
2020-12-03 07:19:53,970 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:53,971 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:create(175)) - Created SASL server with mechanism = DIGEST-MD5
2020-12-03 07:19:53,971 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50080
2020-12-03 07:19:53,971 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50080 Wrote 194 bytes.
2020-12-03 07:19:53,972 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:getServerToken(268)) - Get token info proto:interface org.apache.hadoop.hdfs.protocolPB.ClientDatanodeProtocolPB info:@org.apache.hadoop.security.token.TokenInfo(value=class org.apache.hadoop.hdfs.security.token.block.BlockTokenSelector)
2020-12-03 07:19:53,972 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:createSaslClient(251)) - Creating SASL DIGEST-MD5(TOKEN)  client to authenticate to service at default
2020-12-03 07:19:53,973 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:selectSaslClient(177)) - Use TOKEN authentication for protocol ClientDatanodeProtocolPB
2020-12-03 07:19:53,973 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(678)) - SASL client callback: setting username: CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=
2020-12-03 07:19:53,973 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(683)) - SASL client callback: setting userPassword
2020-12-03 07:19:53,974 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(688)) - SASL client callback: setting realm: default
2020-12-03 07:19:53,974 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: INITIATE
token: "charset=utf-8,username=\"CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=\",realm=\"default\",nonce=\"Xo4SkIUxCEBzreMov3Q1Uc+DOzGsXm14CRWXUKha\",nc=00000001,cnonce=\"a7D734KwY7AUtoDSBHSRTUQrB0nlcvYO87U+cV5z\",digest-uri=\"/default\",maxbuf=65536,response=925844c2e174744316fcbaa9cd8de5b5,qop=auth"
auths {
  method: "TOKEN"
  mechanism: "DIGEST-MD5"
  protocol: ""
  serverId: "default"
}

2020-12-03 07:19:53,974 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:53,975 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processSaslToken(2112)) - Have read input token of size 298 for processing by saslServer.evaluateResponse()
2020-12-03 07:19:53,975 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(310)) - SASL server DIGEST-MD5 callback: setting password for client: root (auth:SIMPLE)
2020-12-03 07:19:53,976 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(328)) - SASL server DIGEST-MD5 callback: setting canonicalized client ID: root
2020-12-03 07:19:53,976 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:buildSaslResponse(2129)) - Will send SUCCESS token of size 40 from saslServer.
2020-12-03 07:19:53,976 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2000)) - SASL server context established. Negotiated QoP is auth
2020-12-03 07:19:53,976 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2005)) - SASL server successfully authenticated client: root (auth:SIMPLE)
2020-12-03 07:19:53,976 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:saslProcess(2008)) - Auth successful for root (auth:SIMPLE)
2020-12-03 07:19:53,976 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50080
2020-12-03 07:19:53,976 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50080 Wrote 64 bytes.
2020-12-03 07:19:53,977 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(837)) - Negotiated QOP is :auth
2020-12-03 07:19:53,986 [IPC Parameter Sending Thread #0] DEBUG ipc.Client (Client.java:run(1137)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 sending #63 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength
2020-12-03 07:19:53,987 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-3
2020-12-03 07:19:53,992 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1074)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: starting, having connections 1
2020-12-03 07:19:53,998 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:authorizeConnection(2750)) - Successfully authorized userInfo {
}
protocol: "org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol"

2020-12-03 07:19:53,999 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #63
2020-12-03 07:19:53,999 [IPC Server handler 2 on default port 36744] DEBUG ipc.Server (Server.java:run(2902)) - IPC Server handler 2 on default port 36744: Call#63 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50080 for RpcKind RPC_PROTOCOL_BUFFER
2020-12-03 07:19:53,999 [IPC Server handler 2 on default port 36744] INFO  ipc.Server (ProtobufRpcEngine.java:call(505)) - Call: connectionProtocolName=org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol, method=getReplicaVisibleLength
2020-12-03 07:19:54,020 [IPC Server handler 2 on default port 36744] INFO  block.TestBlockToken (TestBlockToken.java:answer(151)) - Got: block_token_identifier (expiryDate=1606980111387, keyId=57518194, userId=root, blockPoolId=-10, blockId=-108, access modes=[READ, WRITE, COPY, REPLACE], storageTypes= [DISK], storageIds= [])
2020-12-03 07:19:54,021 [IPC Server handler 2 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1615)) - IPC Server handler 2 on default port 36744: responding to Call#63 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50080
2020-12-03 07:19:54,021 [IPC Server handler 2 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1634)) - IPC Server handler 2 on default port 36744: responding to Call#63 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50080 Wrote 43 bytes.
2020-12-03 07:19:54,024 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:receiveRpcResponse(1191)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 got value #63
2020-12-03 07:19:54,024 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(97)) - stopping client from cache: org.apache.hadoop.ipc.Client@6e005dc9
2020-12-03 07:19:54,024 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:close(3738)) - Socket Reader #1 for port 0: disconnecting client 127.0.0.1:50080. Number of active connections: 0
2020-12-03 07:19:54,024 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:close(1283)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: closed
2020-12-03 07:19:54,025 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1092)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: stopped, remaining connections 0
2020-12-03 07:19:54,024 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(103)) - removing client from cache: org.apache.hadoop.ipc.Client@6e005dc9
2020-12-03 07:19:54,025 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(110)) - stopping actual client because no more references remain: org.apache.hadoop.ipc.Client@6e005dc9
2020-12-03 07:19:54,025 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:stop(1340)) - Stopping client
2020-12-03 07:19:54,026 [Listener at 0.0.0.0/36744] INFO  block.TestBlockToken (TestBlockToken.java:testBlockTokenRpcLeak(407)) - Num open fds:163
2020-12-03 07:19:54,028 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:getClient(63)) - getting client out of cache: org.apache.hadoop.ipc.Client@341814d3
2020-12-03 07:19:54,028 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:<init>(497)) - The ping interval is 60000 ms.
2020-12-03 07:19:54,029 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(795)) - Connecting to /127.0.0.1:36744
2020-12-03 07:19:54,029 [IPC Server listener on 0] DEBUG ipc.Server (Server.java:register(3727)) - Server connection from 127.0.0.1:50082; # active connections: 1; # queued calls: 0
2020-12-03 07:19:54,030 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: NEGOTIATE

2020-12-03 07:19:54,031 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:54,031 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:create(175)) - Created SASL server with mechanism = DIGEST-MD5
2020-12-03 07:19:54,032 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50082
2020-12-03 07:19:54,032 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50082 Wrote 194 bytes.
2020-12-03 07:19:54,032 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:getServerToken(268)) - Get token info proto:interface org.apache.hadoop.hdfs.protocolPB.ClientDatanodeProtocolPB info:@org.apache.hadoop.security.token.TokenInfo(value=class org.apache.hadoop.hdfs.security.token.block.BlockTokenSelector)
2020-12-03 07:19:54,033 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:createSaslClient(251)) - Creating SASL DIGEST-MD5(TOKEN)  client to authenticate to service at default
2020-12-03 07:19:54,034 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:selectSaslClient(177)) - Use TOKEN authentication for protocol ClientDatanodeProtocolPB
2020-12-03 07:19:54,034 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(678)) - SASL client callback: setting username: CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=
2020-12-03 07:19:54,035 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(683)) - SASL client callback: setting userPassword
2020-12-03 07:19:54,035 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(688)) - SASL client callback: setting realm: default
2020-12-03 07:19:54,036 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: INITIATE
token: "charset=utf-8,username=\"CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=\",realm=\"default\",nonce=\"iddTkS0h0kIM08tqpcYigPyowAZ+ymzX8/6jy19Z\",nc=00000001,cnonce=\"WPlsUNzHc9IyLd5ibRdJinYTYjmR2HLs3DutC0mv\",digest-uri=\"/default\",maxbuf=65536,response=cb2c86aeef338fddb544c737455b79bf,qop=auth"
auths {
  method: "TOKEN"
  mechanism: "DIGEST-MD5"
  protocol: ""
  serverId: "default"
}

2020-12-03 07:19:54,036 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:54,036 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processSaslToken(2112)) - Have read input token of size 298 for processing by saslServer.evaluateResponse()
2020-12-03 07:19:54,037 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(310)) - SASL server DIGEST-MD5 callback: setting password for client: root (auth:SIMPLE)
2020-12-03 07:19:54,038 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(328)) - SASL server DIGEST-MD5 callback: setting canonicalized client ID: root
2020-12-03 07:19:54,038 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:buildSaslResponse(2129)) - Will send SUCCESS token of size 40 from saslServer.
2020-12-03 07:19:54,038 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2000)) - SASL server context established. Negotiated QoP is auth
2020-12-03 07:19:54,039 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2005)) - SASL server successfully authenticated client: root (auth:SIMPLE)
2020-12-03 07:19:54,039 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:saslProcess(2008)) - Auth successful for root (auth:SIMPLE)
2020-12-03 07:19:54,039 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50082
2020-12-03 07:19:54,040 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(837)) - Negotiated QOP is :auth
2020-12-03 07:19:54,040 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50082 Wrote 64 bytes.
2020-12-03 07:19:54,042 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1074)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: starting, having connections 1
2020-12-03 07:19:54,043 [IPC Parameter Sending Thread #0] DEBUG ipc.Client (Client.java:run(1137)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 sending #64 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength
2020-12-03 07:19:54,048 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-3
2020-12-03 07:19:54,049 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:authorizeConnection(2750)) - Successfully authorized userInfo {
}
protocol: "org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol"

2020-12-03 07:19:54,049 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #64
2020-12-03 07:19:54,049 [IPC Server handler 4 on default port 36744] DEBUG ipc.Server (Server.java:run(2902)) - IPC Server handler 4 on default port 36744: Call#64 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50082 for RpcKind RPC_PROTOCOL_BUFFER
2020-12-03 07:19:54,049 [IPC Server handler 4 on default port 36744] INFO  ipc.Server (ProtobufRpcEngine.java:call(505)) - Call: connectionProtocolName=org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol, method=getReplicaVisibleLength
2020-12-03 07:19:54,050 [IPC Server handler 4 on default port 36744] INFO  block.TestBlockToken (TestBlockToken.java:answer(151)) - Got: block_token_identifier (expiryDate=1606980111387, keyId=57518194, userId=root, blockPoolId=-10, blockId=-108, access modes=[READ, WRITE, COPY, REPLACE], storageTypes= [DISK], storageIds= [])
2020-12-03 07:19:54,051 [IPC Server handler 4 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1615)) - IPC Server handler 4 on default port 36744: responding to Call#64 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50082
2020-12-03 07:19:54,051 [IPC Server handler 4 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1634)) - IPC Server handler 4 on default port 36744: responding to Call#64 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50082 Wrote 43 bytes.
2020-12-03 07:19:54,051 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:receiveRpcResponse(1191)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 got value #64
2020-12-03 07:19:54,051 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(97)) - stopping client from cache: org.apache.hadoop.ipc.Client@341814d3
2020-12-03 07:19:54,051 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:close(3738)) - Socket Reader #1 for port 0: disconnecting client 127.0.0.1:50082. Number of active connections: 0
2020-12-03 07:19:54,051 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:close(1283)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: closed
2020-12-03 07:19:54,052 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1092)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: stopped, remaining connections 0
2020-12-03 07:19:54,051 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(103)) - removing client from cache: org.apache.hadoop.ipc.Client@341814d3
2020-12-03 07:19:54,052 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(110)) - stopping actual client because no more references remain: org.apache.hadoop.ipc.Client@341814d3
2020-12-03 07:19:54,052 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:stop(1340)) - Stopping client
2020-12-03 07:19:54,053 [Listener at 0.0.0.0/36744] INFO  block.TestBlockToken (TestBlockToken.java:testBlockTokenRpcLeak(407)) - Num open fds:163
2020-12-03 07:19:54,054 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:getClient(63)) - getting client out of cache: org.apache.hadoop.ipc.Client@3f67593e
2020-12-03 07:19:54,054 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:<init>(497)) - The ping interval is 60000 ms.
2020-12-03 07:19:54,054 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(795)) - Connecting to /127.0.0.1:36744
2020-12-03 07:19:54,055 [IPC Server listener on 0] DEBUG ipc.Server (Server.java:register(3727)) - Server connection from 127.0.0.1:50084; # active connections: 1; # queued calls: 0
2020-12-03 07:19:54,055 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: NEGOTIATE

2020-12-03 07:19:54,056 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:54,056 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:create(175)) - Created SASL server with mechanism = DIGEST-MD5
2020-12-03 07:19:54,057 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50084
2020-12-03 07:19:54,057 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50084 Wrote 194 bytes.
2020-12-03 07:19:54,057 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:getServerToken(268)) - Get token info proto:interface org.apache.hadoop.hdfs.protocolPB.ClientDatanodeProtocolPB info:@org.apache.hadoop.security.token.TokenInfo(value=class org.apache.hadoop.hdfs.security.token.block.BlockTokenSelector)
2020-12-03 07:19:54,057 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:createSaslClient(251)) - Creating SASL DIGEST-MD5(TOKEN)  client to authenticate to service at default
2020-12-03 07:19:54,058 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:selectSaslClient(177)) - Use TOKEN authentication for protocol ClientDatanodeProtocolPB
2020-12-03 07:19:54,058 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(678)) - SASL client callback: setting username: CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=
2020-12-03 07:19:54,058 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(683)) - SASL client callback: setting userPassword
2020-12-03 07:19:54,058 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(688)) - SASL client callback: setting realm: default
2020-12-03 07:19:54,059 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: INITIATE
token: "charset=utf-8,username=\"CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=\",realm=\"default\",nonce=\"dOSFlZSfTo27sfNrV72OsH/CwFUyCoUimV7nNsRP\",nc=00000001,cnonce=\"GpNAv/0oiaqxoWOrrw8t3PP70Sd2hXgabZn3SAL7\",digest-uri=\"/default\",maxbuf=65536,response=c2260eddfc2495d8075fe6f0630a9134,qop=auth"
auths {
  method: "TOKEN"
  mechanism: "DIGEST-MD5"
  protocol: ""
  serverId: "default"
}

2020-12-03 07:19:54,059 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:54,060 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processSaslToken(2112)) - Have read input token of size 298 for processing by saslServer.evaluateResponse()
2020-12-03 07:19:54,060 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(310)) - SASL server DIGEST-MD5 callback: setting password for client: root (auth:SIMPLE)
2020-12-03 07:19:54,061 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(328)) - SASL server DIGEST-MD5 callback: setting canonicalized client ID: root
2020-12-03 07:19:54,061 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:buildSaslResponse(2129)) - Will send SUCCESS token of size 40 from saslServer.
2020-12-03 07:19:54,061 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2000)) - SASL server context established. Negotiated QoP is auth
2020-12-03 07:19:54,061 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2005)) - SASL server successfully authenticated client: root (auth:SIMPLE)
2020-12-03 07:19:54,061 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:saslProcess(2008)) - Auth successful for root (auth:SIMPLE)
2020-12-03 07:19:54,061 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50084
2020-12-03 07:19:54,062 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50084 Wrote 64 bytes.
2020-12-03 07:19:54,062 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(837)) - Negotiated QOP is :auth
2020-12-03 07:19:54,062 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1074)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: starting, having connections 1
2020-12-03 07:19:54,063 [IPC Parameter Sending Thread #0] DEBUG ipc.Client (Client.java:run(1137)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 sending #65 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength
2020-12-03 07:19:54,064 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-3
2020-12-03 07:19:54,064 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:authorizeConnection(2750)) - Successfully authorized userInfo {
}
protocol: "org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol"

2020-12-03 07:19:54,064 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #65
2020-12-03 07:19:54,064 [IPC Server handler 0 on default port 36744] DEBUG ipc.Server (Server.java:run(2902)) - IPC Server handler 0 on default port 36744: Call#65 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50084 for RpcKind RPC_PROTOCOL_BUFFER
2020-12-03 07:19:54,065 [IPC Server handler 0 on default port 36744] INFO  ipc.Server (ProtobufRpcEngine.java:call(505)) - Call: connectionProtocolName=org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol, method=getReplicaVisibleLength
2020-12-03 07:19:54,065 [IPC Server handler 0 on default port 36744] INFO  block.TestBlockToken (TestBlockToken.java:answer(151)) - Got: block_token_identifier (expiryDate=1606980111387, keyId=57518194, userId=root, blockPoolId=-10, blockId=-108, access modes=[READ, WRITE, COPY, REPLACE], storageTypes= [DISK], storageIds= [])
2020-12-03 07:19:54,066 [IPC Server handler 0 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1615)) - IPC Server handler 0 on default port 36744: responding to Call#65 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50084
2020-12-03 07:19:54,066 [IPC Server handler 0 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1634)) - IPC Server handler 0 on default port 36744: responding to Call#65 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50084 Wrote 43 bytes.
2020-12-03 07:19:54,066 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:receiveRpcResponse(1191)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 got value #65
2020-12-03 07:19:54,066 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(97)) - stopping client from cache: org.apache.hadoop.ipc.Client@3f67593e
2020-12-03 07:19:54,066 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:close(3738)) - Socket Reader #1 for port 0: disconnecting client 127.0.0.1:50084. Number of active connections: 0
2020-12-03 07:19:54,066 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:close(1283)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: closed
2020-12-03 07:19:54,066 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(103)) - removing client from cache: org.apache.hadoop.ipc.Client@3f67593e
2020-12-03 07:19:54,067 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(110)) - stopping actual client because no more references remain: org.apache.hadoop.ipc.Client@3f67593e
2020-12-03 07:19:54,067 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:stop(1340)) - Stopping client
2020-12-03 07:19:54,067 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1092)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: stopped, remaining connections 0
2020-12-03 07:19:54,067 [Listener at 0.0.0.0/36744] INFO  block.TestBlockToken (TestBlockToken.java:testBlockTokenRpcLeak(407)) - Num open fds:163
2020-12-03 07:19:54,068 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:getClient(63)) - getting client out of cache: org.apache.hadoop.ipc.Client@6f7923a5
2020-12-03 07:19:54,069 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:<init>(497)) - The ping interval is 60000 ms.
2020-12-03 07:19:54,069 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(795)) - Connecting to /127.0.0.1:36744
2020-12-03 07:19:54,069 [IPC Server listener on 0] DEBUG ipc.Server (Server.java:register(3727)) - Server connection from 127.0.0.1:50086; # active connections: 1; # queued calls: 0
2020-12-03 07:19:54,070 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: NEGOTIATE

2020-12-03 07:19:54,071 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:54,071 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:create(175)) - Created SASL server with mechanism = DIGEST-MD5
2020-12-03 07:19:54,071 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50086
2020-12-03 07:19:54,072 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50086 Wrote 194 bytes.
2020-12-03 07:19:54,072 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:getServerToken(268)) - Get token info proto:interface org.apache.hadoop.hdfs.protocolPB.ClientDatanodeProtocolPB info:@org.apache.hadoop.security.token.TokenInfo(value=class org.apache.hadoop.hdfs.security.token.block.BlockTokenSelector)
2020-12-03 07:19:54,072 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:createSaslClient(251)) - Creating SASL DIGEST-MD5(TOKEN)  client to authenticate to service at default
2020-12-03 07:19:54,072 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:selectSaslClient(177)) - Use TOKEN authentication for protocol ClientDatanodeProtocolPB
2020-12-03 07:19:54,073 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(678)) - SASL client callback: setting username: CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=
2020-12-03 07:19:54,073 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(683)) - SASL client callback: setting userPassword
2020-12-03 07:19:54,073 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(688)) - SASL client callback: setting realm: default
2020-12-03 07:19:54,073 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: INITIATE
token: "charset=utf-8,username=\"CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=\",realm=\"default\",nonce=\"qbpwDl3WHHXTxzkSLr+PXv9ImfXIc61HqzISDqqC\",nc=00000001,cnonce=\"+koP6bvEPtFpNLS7juqW7R68EaIGnpqp/pju5h9U\",digest-uri=\"/default\",maxbuf=65536,response=3901217b0cd2c4920cb6eeca3b2e13e0,qop=auth"
auths {
  method: "TOKEN"
  mechanism: "DIGEST-MD5"
  protocol: ""
  serverId: "default"
}

2020-12-03 07:19:54,074 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:54,074 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processSaslToken(2112)) - Have read input token of size 298 for processing by saslServer.evaluateResponse()
2020-12-03 07:19:54,074 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(310)) - SASL server DIGEST-MD5 callback: setting password for client: root (auth:SIMPLE)
2020-12-03 07:19:54,075 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(328)) - SASL server DIGEST-MD5 callback: setting canonicalized client ID: root
2020-12-03 07:19:54,075 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:buildSaslResponse(2129)) - Will send SUCCESS token of size 40 from saslServer.
2020-12-03 07:19:54,075 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2000)) - SASL server context established. Negotiated QoP is auth
2020-12-03 07:19:54,075 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2005)) - SASL server successfully authenticated client: root (auth:SIMPLE)
2020-12-03 07:19:54,076 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:saslProcess(2008)) - Auth successful for root (auth:SIMPLE)
2020-12-03 07:19:54,076 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50086
2020-12-03 07:19:54,076 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50086 Wrote 64 bytes.
2020-12-03 07:19:54,076 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(837)) - Negotiated QOP is :auth
2020-12-03 07:19:54,080 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1074)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: starting, having connections 1
2020-12-03 07:19:54,084 [IPC Parameter Sending Thread #0] DEBUG ipc.Client (Client.java:run(1137)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 sending #66 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength
2020-12-03 07:19:54,088 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-3
2020-12-03 07:19:54,088 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:authorizeConnection(2750)) - Successfully authorized userInfo {
}
protocol: "org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol"

2020-12-03 07:19:54,088 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #66
2020-12-03 07:19:54,089 [IPC Server handler 1 on default port 36744] DEBUG ipc.Server (Server.java:run(2902)) - IPC Server handler 1 on default port 36744: Call#66 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50086 for RpcKind RPC_PROTOCOL_BUFFER
2020-12-03 07:19:54,089 [IPC Server handler 1 on default port 36744] INFO  ipc.Server (ProtobufRpcEngine.java:call(505)) - Call: connectionProtocolName=org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol, method=getReplicaVisibleLength
2020-12-03 07:19:54,091 [IPC Server handler 1 on default port 36744] INFO  block.TestBlockToken (TestBlockToken.java:answer(151)) - Got: block_token_identifier (expiryDate=1606980111387, keyId=57518194, userId=root, blockPoolId=-10, blockId=-108, access modes=[READ, WRITE, COPY, REPLACE], storageTypes= [DISK], storageIds= [])
2020-12-03 07:19:54,091 [IPC Server handler 1 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1615)) - IPC Server handler 1 on default port 36744: responding to Call#66 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50086
2020-12-03 07:19:54,091 [IPC Server handler 1 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1634)) - IPC Server handler 1 on default port 36744: responding to Call#66 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50086 Wrote 43 bytes.
2020-12-03 07:19:54,091 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:receiveRpcResponse(1191)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 got value #66
2020-12-03 07:19:54,092 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(97)) - stopping client from cache: org.apache.hadoop.ipc.Client@6f7923a5
2020-12-03 07:19:54,092 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:close(3738)) - Socket Reader #1 for port 0: disconnecting client 127.0.0.1:50086. Number of active connections: 0
2020-12-03 07:19:54,092 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:close(1283)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: closed
2020-12-03 07:19:54,092 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(103)) - removing client from cache: org.apache.hadoop.ipc.Client@6f7923a5
2020-12-03 07:19:54,092 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1092)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: stopped, remaining connections 0
2020-12-03 07:19:54,092 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(110)) - stopping actual client because no more references remain: org.apache.hadoop.ipc.Client@6f7923a5
2020-12-03 07:19:54,092 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:stop(1340)) - Stopping client
2020-12-03 07:19:54,093 [Listener at 0.0.0.0/36744] INFO  block.TestBlockToken (TestBlockToken.java:testBlockTokenRpcLeak(407)) - Num open fds:163
2020-12-03 07:19:54,094 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:getClient(63)) - getting client out of cache: org.apache.hadoop.ipc.Client@51133c06
2020-12-03 07:19:54,095 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:<init>(497)) - The ping interval is 60000 ms.
2020-12-03 07:19:54,095 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(795)) - Connecting to /127.0.0.1:36744
2020-12-03 07:19:54,095 [IPC Server listener on 0] DEBUG ipc.Server (Server.java:register(3727)) - Server connection from 127.0.0.1:50088; # active connections: 1; # queued calls: 0
2020-12-03 07:19:54,096 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: NEGOTIATE

2020-12-03 07:19:54,097 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:54,097 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:create(175)) - Created SASL server with mechanism = DIGEST-MD5
2020-12-03 07:19:54,097 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50088
2020-12-03 07:19:54,097 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50088 Wrote 194 bytes.
2020-12-03 07:19:54,100 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:getServerToken(268)) - Get token info proto:interface org.apache.hadoop.hdfs.protocolPB.ClientDatanodeProtocolPB info:@org.apache.hadoop.security.token.TokenInfo(value=class org.apache.hadoop.hdfs.security.token.block.BlockTokenSelector)
2020-12-03 07:19:54,100 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:createSaslClient(251)) - Creating SASL DIGEST-MD5(TOKEN)  client to authenticate to service at default
2020-12-03 07:19:54,104 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:selectSaslClient(177)) - Use TOKEN authentication for protocol ClientDatanodeProtocolPB
2020-12-03 07:19:54,104 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(678)) - SASL client callback: setting username: CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=
2020-12-03 07:19:54,104 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(683)) - SASL client callback: setting userPassword
2020-12-03 07:19:54,105 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(688)) - SASL client callback: setting realm: default
2020-12-03 07:19:54,105 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: INITIATE
token: "charset=utf-8,username=\"CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=\",realm=\"default\",nonce=\"60dClKMWpTHUGxgsiJf+bAfMW8JnNDD5LzRwIkRD\",nc=00000001,cnonce=\"NMby2VLnQ0ta4ZoxE9mMd6CBYjDdoipKCQV6iNH5\",digest-uri=\"/default\",maxbuf=65536,response=39f76ee27beaf1c833568804da7e0cb1,qop=auth"
auths {
  method: "TOKEN"
  mechanism: "DIGEST-MD5"
  protocol: ""
  serverId: "default"
}

2020-12-03 07:19:54,106 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:54,106 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processSaslToken(2112)) - Have read input token of size 298 for processing by saslServer.evaluateResponse()
2020-12-03 07:19:54,107 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(310)) - SASL server DIGEST-MD5 callback: setting password for client: root (auth:SIMPLE)
2020-12-03 07:19:54,107 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(328)) - SASL server DIGEST-MD5 callback: setting canonicalized client ID: root
2020-12-03 07:19:54,108 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:buildSaslResponse(2129)) - Will send SUCCESS token of size 40 from saslServer.
2020-12-03 07:19:54,108 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2000)) - SASL server context established. Negotiated QoP is auth
2020-12-03 07:19:54,108 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2005)) - SASL server successfully authenticated client: root (auth:SIMPLE)
2020-12-03 07:19:54,108 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:saslProcess(2008)) - Auth successful for root (auth:SIMPLE)
2020-12-03 07:19:54,108 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50088
2020-12-03 07:19:54,109 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50088 Wrote 64 bytes.
2020-12-03 07:19:54,116 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(837)) - Negotiated QOP is :auth
2020-12-03 07:19:54,118 [IPC Parameter Sending Thread #0] DEBUG ipc.Client (Client.java:run(1137)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 sending #67 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength
2020-12-03 07:19:54,118 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1074)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: starting, having connections 1
2020-12-03 07:19:54,120 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-3
2020-12-03 07:19:54,120 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:authorizeConnection(2750)) - Successfully authorized userInfo {
}
protocol: "org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol"

2020-12-03 07:19:54,120 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #67
2020-12-03 07:19:54,124 [IPC Server handler 3 on default port 36744] DEBUG ipc.Server (Server.java:run(2902)) - IPC Server handler 3 on default port 36744: Call#67 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50088 for RpcKind RPC_PROTOCOL_BUFFER
2020-12-03 07:19:54,124 [IPC Server handler 3 on default port 36744] INFO  ipc.Server (ProtobufRpcEngine.java:call(505)) - Call: connectionProtocolName=org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol, method=getReplicaVisibleLength
2020-12-03 07:19:54,125 [IPC Server handler 3 on default port 36744] INFO  block.TestBlockToken (TestBlockToken.java:answer(151)) - Got: block_token_identifier (expiryDate=1606980111387, keyId=57518194, userId=root, blockPoolId=-10, blockId=-108, access modes=[READ, WRITE, COPY, REPLACE], storageTypes= [DISK], storageIds= [])
2020-12-03 07:19:54,126 [IPC Server handler 3 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1615)) - IPC Server handler 3 on default port 36744: responding to Call#67 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50088
2020-12-03 07:19:54,126 [IPC Server handler 3 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1634)) - IPC Server handler 3 on default port 36744: responding to Call#67 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50088 Wrote 43 bytes.
2020-12-03 07:19:54,126 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:receiveRpcResponse(1191)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 got value #67
2020-12-03 07:19:54,126 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(97)) - stopping client from cache: org.apache.hadoop.ipc.Client@51133c06
2020-12-03 07:19:54,126 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:close(3738)) - Socket Reader #1 for port 0: disconnecting client 127.0.0.1:50088. Number of active connections: 0
2020-12-03 07:19:54,126 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:close(1283)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: closed
2020-12-03 07:19:54,127 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(103)) - removing client from cache: org.apache.hadoop.ipc.Client@51133c06
2020-12-03 07:19:54,127 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1092)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: stopped, remaining connections 0
2020-12-03 07:19:54,128 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(110)) - stopping actual client because no more references remain: org.apache.hadoop.ipc.Client@51133c06
2020-12-03 07:19:54,128 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:stop(1340)) - Stopping client
2020-12-03 07:19:54,129 [Listener at 0.0.0.0/36744] INFO  block.TestBlockToken (TestBlockToken.java:testBlockTokenRpcLeak(407)) - Num open fds:163
2020-12-03 07:19:54,130 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:getClient(63)) - getting client out of cache: org.apache.hadoop.ipc.Client@ae3540e
2020-12-03 07:19:54,131 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:<init>(497)) - The ping interval is 60000 ms.
2020-12-03 07:19:54,131 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(795)) - Connecting to /127.0.0.1:36744
2020-12-03 07:19:54,132 [IPC Server listener on 0] DEBUG ipc.Server (Server.java:register(3727)) - Server connection from 127.0.0.1:50090; # active connections: 1; # queued calls: 0
2020-12-03 07:19:54,132 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: NEGOTIATE

2020-12-03 07:19:54,132 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:54,132 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:create(175)) - Created SASL server with mechanism = DIGEST-MD5
2020-12-03 07:19:54,133 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50090
2020-12-03 07:19:54,133 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50090 Wrote 194 bytes.
2020-12-03 07:19:54,133 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:getServerToken(268)) - Get token info proto:interface org.apache.hadoop.hdfs.protocolPB.ClientDatanodeProtocolPB info:@org.apache.hadoop.security.token.TokenInfo(value=class org.apache.hadoop.hdfs.security.token.block.BlockTokenSelector)
2020-12-03 07:19:54,134 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:createSaslClient(251)) - Creating SASL DIGEST-MD5(TOKEN)  client to authenticate to service at default
2020-12-03 07:19:54,134 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:selectSaslClient(177)) - Use TOKEN authentication for protocol ClientDatanodeProtocolPB
2020-12-03 07:19:54,134 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(678)) - SASL client callback: setting username: CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=
2020-12-03 07:19:54,134 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(683)) - SASL client callback: setting userPassword
2020-12-03 07:19:54,135 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(688)) - SASL client callback: setting realm: default
2020-12-03 07:19:54,135 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: INITIATE
token: "charset=utf-8,username=\"CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=\",realm=\"default\",nonce=\"PHmKg12nKFGRnurNb3dLN+unuXZKC4X0Xd5IZ0v+\",nc=00000001,cnonce=\"KeZ9ci6zKVmMFbBIgYoYbly+Ym4OOq5Sr89tga/o\",digest-uri=\"/default\",maxbuf=65536,response=fcaf3007b02a0685e113fc467d9bf518,qop=auth"
auths {
  method: "TOKEN"
  mechanism: "DIGEST-MD5"
  protocol: ""
  serverId: "default"
}

2020-12-03 07:19:54,136 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:54,136 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processSaslToken(2112)) - Have read input token of size 298 for processing by saslServer.evaluateResponse()
2020-12-03 07:19:54,136 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(310)) - SASL server DIGEST-MD5 callback: setting password for client: root (auth:SIMPLE)
2020-12-03 07:19:54,137 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(328)) - SASL server DIGEST-MD5 callback: setting canonicalized client ID: root
2020-12-03 07:19:54,137 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:buildSaslResponse(2129)) - Will send SUCCESS token of size 40 from saslServer.
2020-12-03 07:19:54,137 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2000)) - SASL server context established. Negotiated QoP is auth
2020-12-03 07:19:54,137 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2005)) - SASL server successfully authenticated client: root (auth:SIMPLE)
2020-12-03 07:19:54,137 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:saslProcess(2008)) - Auth successful for root (auth:SIMPLE)
2020-12-03 07:19:54,137 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50090
2020-12-03 07:19:54,138 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50090 Wrote 64 bytes.
2020-12-03 07:19:54,138 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(837)) - Negotiated QOP is :auth
2020-12-03 07:19:54,139 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1074)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: starting, having connections 1
2020-12-03 07:19:54,140 [IPC Parameter Sending Thread #0] DEBUG ipc.Client (Client.java:run(1137)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 sending #68 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength
2020-12-03 07:19:54,141 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-3
2020-12-03 07:19:54,141 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:authorizeConnection(2750)) - Successfully authorized userInfo {
}
protocol: "org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol"

2020-12-03 07:19:54,141 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #68
2020-12-03 07:19:54,141 [IPC Server handler 2 on default port 36744] DEBUG ipc.Server (Server.java:run(2902)) - IPC Server handler 2 on default port 36744: Call#68 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50090 for RpcKind RPC_PROTOCOL_BUFFER
2020-12-03 07:19:54,142 [IPC Server handler 2 on default port 36744] INFO  ipc.Server (ProtobufRpcEngine.java:call(505)) - Call: connectionProtocolName=org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol, method=getReplicaVisibleLength
2020-12-03 07:19:54,143 [IPC Server handler 2 on default port 36744] INFO  block.TestBlockToken (TestBlockToken.java:answer(151)) - Got: block_token_identifier (expiryDate=1606980111387, keyId=57518194, userId=root, blockPoolId=-10, blockId=-108, access modes=[READ, WRITE, COPY, REPLACE], storageTypes= [DISK], storageIds= [])
2020-12-03 07:19:54,143 [IPC Server handler 2 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1615)) - IPC Server handler 2 on default port 36744: responding to Call#68 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50090
2020-12-03 07:19:54,143 [IPC Server handler 2 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1634)) - IPC Server handler 2 on default port 36744: responding to Call#68 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50090 Wrote 43 bytes.
2020-12-03 07:19:54,144 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:receiveRpcResponse(1191)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 got value #68
2020-12-03 07:19:54,144 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:close(1283)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: closed
2020-12-03 07:19:54,144 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:close(3738)) - Socket Reader #1 for port 0: disconnecting client 127.0.0.1:50090. Number of active connections: 0
2020-12-03 07:19:54,144 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(97)) - stopping client from cache: org.apache.hadoop.ipc.Client@ae3540e
2020-12-03 07:19:54,144 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(103)) - removing client from cache: org.apache.hadoop.ipc.Client@ae3540e
2020-12-03 07:19:54,144 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1092)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: stopped, remaining connections 0
2020-12-03 07:19:54,145 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(110)) - stopping actual client because no more references remain: org.apache.hadoop.ipc.Client@ae3540e
2020-12-03 07:19:54,145 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:stop(1340)) - Stopping client
2020-12-03 07:19:54,146 [Listener at 0.0.0.0/36744] INFO  block.TestBlockToken (TestBlockToken.java:testBlockTokenRpcLeak(407)) - Num open fds:163
2020-12-03 07:19:54,147 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:getClient(63)) - getting client out of cache: org.apache.hadoop.ipc.Client@73d983ea
2020-12-03 07:19:54,148 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:<init>(497)) - The ping interval is 60000 ms.
2020-12-03 07:19:54,148 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(795)) - Connecting to /127.0.0.1:36744
2020-12-03 07:19:54,148 [IPC Server listener on 0] DEBUG ipc.Server (Server.java:register(3727)) - Server connection from 127.0.0.1:50092; # active connections: 1; # queued calls: 0
2020-12-03 07:19:54,149 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: NEGOTIATE

2020-12-03 07:19:54,149 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:54,149 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:create(175)) - Created SASL server with mechanism = DIGEST-MD5
2020-12-03 07:19:54,150 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50092
2020-12-03 07:19:54,150 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50092 Wrote 194 bytes.
2020-12-03 07:19:54,150 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:getServerToken(268)) - Get token info proto:interface org.apache.hadoop.hdfs.protocolPB.ClientDatanodeProtocolPB info:@org.apache.hadoop.security.token.TokenInfo(value=class org.apache.hadoop.hdfs.security.token.block.BlockTokenSelector)
2020-12-03 07:19:54,150 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:createSaslClient(251)) - Creating SASL DIGEST-MD5(TOKEN)  client to authenticate to service at default
2020-12-03 07:19:54,151 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:selectSaslClient(177)) - Use TOKEN authentication for protocol ClientDatanodeProtocolPB
2020-12-03 07:19:54,151 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(678)) - SASL client callback: setting username: CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=
2020-12-03 07:19:54,151 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(683)) - SASL client callback: setting userPassword
2020-12-03 07:19:54,152 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(688)) - SASL client callback: setting realm: default
2020-12-03 07:19:54,152 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: INITIATE
token: "charset=utf-8,username=\"CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=\",realm=\"default\",nonce=\"YjUCU1JLIJpv3vNkL9+pnTcwpXPgyb9IzTtc8+Em\",nc=00000001,cnonce=\"1kIMuokAJIGKGikcEFtUcyArV85Ev0W9W4ilYc6a\",digest-uri=\"/default\",maxbuf=65536,response=b41dc6a40dc57b13ac637c03e99acec3,qop=auth"
auths {
  method: "TOKEN"
  mechanism: "DIGEST-MD5"
  protocol: ""
  serverId: "default"
}

2020-12-03 07:19:54,153 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:54,153 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processSaslToken(2112)) - Have read input token of size 298 for processing by saslServer.evaluateResponse()
2020-12-03 07:19:54,153 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(310)) - SASL server DIGEST-MD5 callback: setting password for client: root (auth:SIMPLE)
2020-12-03 07:19:54,154 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(328)) - SASL server DIGEST-MD5 callback: setting canonicalized client ID: root
2020-12-03 07:19:54,154 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:buildSaslResponse(2129)) - Will send SUCCESS token of size 40 from saslServer.
2020-12-03 07:19:54,154 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2000)) - SASL server context established. Negotiated QoP is auth
2020-12-03 07:19:54,154 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2005)) - SASL server successfully authenticated client: root (auth:SIMPLE)
2020-12-03 07:19:54,154 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:saslProcess(2008)) - Auth successful for root (auth:SIMPLE)
2020-12-03 07:19:54,155 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50092
2020-12-03 07:19:54,155 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50092 Wrote 64 bytes.
2020-12-03 07:19:54,155 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(837)) - Negotiated QOP is :auth
2020-12-03 07:19:54,156 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1074)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: starting, having connections 1
2020-12-03 07:19:54,156 [IPC Parameter Sending Thread #0] DEBUG ipc.Client (Client.java:run(1137)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 sending #69 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength
2020-12-03 07:19:54,164 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-3
2020-12-03 07:19:54,165 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:authorizeConnection(2750)) - Successfully authorized userInfo {
}
protocol: "org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol"

2020-12-03 07:19:54,165 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #69
2020-12-03 07:19:54,165 [IPC Server handler 4 on default port 36744] DEBUG ipc.Server (Server.java:run(2902)) - IPC Server handler 4 on default port 36744: Call#69 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50092 for RpcKind RPC_PROTOCOL_BUFFER
2020-12-03 07:19:54,166 [IPC Server handler 4 on default port 36744] INFO  ipc.Server (ProtobufRpcEngine.java:call(505)) - Call: connectionProtocolName=org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol, method=getReplicaVisibleLength
2020-12-03 07:19:54,167 [IPC Server handler 4 on default port 36744] INFO  block.TestBlockToken (TestBlockToken.java:answer(151)) - Got: block_token_identifier (expiryDate=1606980111387, keyId=57518194, userId=root, blockPoolId=-10, blockId=-108, access modes=[READ, WRITE, COPY, REPLACE], storageTypes= [DISK], storageIds= [])
2020-12-03 07:19:54,167 [IPC Server handler 4 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1615)) - IPC Server handler 4 on default port 36744: responding to Call#69 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50092
2020-12-03 07:19:54,167 [IPC Server handler 4 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1634)) - IPC Server handler 4 on default port 36744: responding to Call#69 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50092 Wrote 43 bytes.
2020-12-03 07:19:54,168 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:receiveRpcResponse(1191)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 got value #69
2020-12-03 07:19:54,168 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(97)) - stopping client from cache: org.apache.hadoop.ipc.Client@73d983ea
2020-12-03 07:19:54,168 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(103)) - removing client from cache: org.apache.hadoop.ipc.Client@73d983ea
2020-12-03 07:19:54,168 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(110)) - stopping actual client because no more references remain: org.apache.hadoop.ipc.Client@73d983ea
2020-12-03 07:19:54,168 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:stop(1340)) - Stopping client
2020-12-03 07:19:54,168 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:close(3738)) - Socket Reader #1 for port 0: disconnecting client 127.0.0.1:50092. Number of active connections: 0
2020-12-03 07:19:54,168 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:close(1283)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: closed
2020-12-03 07:19:54,169 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1092)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: stopped, remaining connections 0
2020-12-03 07:19:54,169 [Listener at 0.0.0.0/36744] INFO  block.TestBlockToken (TestBlockToken.java:testBlockTokenRpcLeak(407)) - Num open fds:164
2020-12-03 07:19:54,170 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:getClient(63)) - getting client out of cache: org.apache.hadoop.ipc.Client@5ddcc487
2020-12-03 07:19:54,170 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:<init>(497)) - The ping interval is 60000 ms.
2020-12-03 07:19:54,170 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(795)) - Connecting to /127.0.0.1:36744
2020-12-03 07:19:54,171 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: NEGOTIATE

2020-12-03 07:19:54,172 [IPC Server listener on 0] DEBUG ipc.Server (Server.java:register(3727)) - Server connection from 127.0.0.1:50094; # active connections: 1; # queued calls: 0
2020-12-03 07:19:54,172 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:54,172 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:create(175)) - Created SASL server with mechanism = DIGEST-MD5
2020-12-03 07:19:54,173 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50094
2020-12-03 07:19:54,173 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50094 Wrote 194 bytes.
2020-12-03 07:19:54,174 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:getServerToken(268)) - Get token info proto:interface org.apache.hadoop.hdfs.protocolPB.ClientDatanodeProtocolPB info:@org.apache.hadoop.security.token.TokenInfo(value=class org.apache.hadoop.hdfs.security.token.block.BlockTokenSelector)
2020-12-03 07:19:54,174 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:createSaslClient(251)) - Creating SASL DIGEST-MD5(TOKEN)  client to authenticate to service at default
2020-12-03 07:19:54,174 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:selectSaslClient(177)) - Use TOKEN authentication for protocol ClientDatanodeProtocolPB
2020-12-03 07:19:54,174 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(678)) - SASL client callback: setting username: CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=
2020-12-03 07:19:54,175 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(683)) - SASL client callback: setting userPassword
2020-12-03 07:19:54,175 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(688)) - SASL client callback: setting realm: default
2020-12-03 07:19:54,175 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: INITIATE
token: "charset=utf-8,username=\"CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=\",realm=\"default\",nonce=\"Hcq/vdeGzkrw+iQdPOKux2ivSx7vQSIhNohdQsnu\",nc=00000001,cnonce=\"jNBxk4oJsUg9WBOVJQ6pgzD0FqeJDclR3TTIEmhF\",digest-uri=\"/default\",maxbuf=65536,response=d3b5d869022340fb21e686c022adc20e,qop=auth"
auths {
  method: "TOKEN"
  mechanism: "DIGEST-MD5"
  protocol: ""
  serverId: "default"
}

2020-12-03 07:19:54,180 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:54,180 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processSaslToken(2112)) - Have read input token of size 298 for processing by saslServer.evaluateResponse()
2020-12-03 07:19:54,180 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(310)) - SASL server DIGEST-MD5 callback: setting password for client: root (auth:SIMPLE)
2020-12-03 07:19:54,181 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(328)) - SASL server DIGEST-MD5 callback: setting canonicalized client ID: root
2020-12-03 07:19:54,181 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:buildSaslResponse(2129)) - Will send SUCCESS token of size 40 from saslServer.
2020-12-03 07:19:54,181 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2000)) - SASL server context established. Negotiated QoP is auth
2020-12-03 07:19:54,181 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2005)) - SASL server successfully authenticated client: root (auth:SIMPLE)
2020-12-03 07:19:54,182 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:saslProcess(2008)) - Auth successful for root (auth:SIMPLE)
2020-12-03 07:19:54,182 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50094
2020-12-03 07:19:54,182 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50094 Wrote 64 bytes.
2020-12-03 07:19:54,182 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(837)) - Negotiated QOP is :auth
2020-12-03 07:19:54,183 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1074)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: starting, having connections 1
2020-12-03 07:19:54,183 [IPC Parameter Sending Thread #0] DEBUG ipc.Client (Client.java:run(1137)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 sending #70 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength
2020-12-03 07:19:54,184 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-3
2020-12-03 07:19:54,184 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:authorizeConnection(2750)) - Successfully authorized userInfo {
}
protocol: "org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol"

2020-12-03 07:19:54,184 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #70
2020-12-03 07:19:54,184 [IPC Server handler 0 on default port 36744] DEBUG ipc.Server (Server.java:run(2902)) - IPC Server handler 0 on default port 36744: Call#70 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50094 for RpcKind RPC_PROTOCOL_BUFFER
2020-12-03 07:19:54,185 [IPC Server handler 0 on default port 36744] INFO  ipc.Server (ProtobufRpcEngine.java:call(505)) - Call: connectionProtocolName=org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol, method=getReplicaVisibleLength
2020-12-03 07:19:54,186 [IPC Server handler 0 on default port 36744] INFO  block.TestBlockToken (TestBlockToken.java:answer(151)) - Got: block_token_identifier (expiryDate=1606980111387, keyId=57518194, userId=root, blockPoolId=-10, blockId=-108, access modes=[READ, WRITE, COPY, REPLACE], storageTypes= [DISK], storageIds= [])
2020-12-03 07:19:54,186 [IPC Server handler 0 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1615)) - IPC Server handler 0 on default port 36744: responding to Call#70 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50094
2020-12-03 07:19:54,186 [IPC Server handler 0 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1634)) - IPC Server handler 0 on default port 36744: responding to Call#70 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50094 Wrote 43 bytes.
2020-12-03 07:19:54,187 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:receiveRpcResponse(1191)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 got value #70
2020-12-03 07:19:54,187 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(97)) - stopping client from cache: org.apache.hadoop.ipc.Client@5ddcc487
2020-12-03 07:19:54,187 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:close(3738)) - Socket Reader #1 for port 0: disconnecting client 127.0.0.1:50094. Number of active connections: 0
2020-12-03 07:19:54,187 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:close(1283)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: closed
2020-12-03 07:19:54,187 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(103)) - removing client from cache: org.apache.hadoop.ipc.Client@5ddcc487
2020-12-03 07:19:54,187 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1092)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: stopped, remaining connections 0
2020-12-03 07:19:54,188 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(110)) - stopping actual client because no more references remain: org.apache.hadoop.ipc.Client@5ddcc487
2020-12-03 07:19:54,188 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:stop(1340)) - Stopping client
2020-12-03 07:19:54,189 [Listener at 0.0.0.0/36744] INFO  block.TestBlockToken (TestBlockToken.java:testBlockTokenRpcLeak(407)) - Num open fds:163
2020-12-03 07:19:54,190 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:getClient(63)) - getting client out of cache: org.apache.hadoop.ipc.Client@46b61c56
2020-12-03 07:19:54,190 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:<init>(497)) - The ping interval is 60000 ms.
2020-12-03 07:19:54,191 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(795)) - Connecting to /127.0.0.1:36744
2020-12-03 07:19:54,192 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: NEGOTIATE

2020-12-03 07:19:54,196 [IPC Server listener on 0] DEBUG ipc.Server (Server.java:register(3727)) - Server connection from 127.0.0.1:50096; # active connections: 1; # queued calls: 0
2020-12-03 07:19:54,196 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:54,197 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:create(175)) - Created SASL server with mechanism = DIGEST-MD5
2020-12-03 07:19:54,197 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50096
2020-12-03 07:19:54,197 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50096 Wrote 194 bytes.
2020-12-03 07:19:54,197 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:getServerToken(268)) - Get token info proto:interface org.apache.hadoop.hdfs.protocolPB.ClientDatanodeProtocolPB info:@org.apache.hadoop.security.token.TokenInfo(value=class org.apache.hadoop.hdfs.security.token.block.BlockTokenSelector)
2020-12-03 07:19:54,198 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:createSaslClient(251)) - Creating SASL DIGEST-MD5(TOKEN)  client to authenticate to service at default
2020-12-03 07:19:54,198 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:selectSaslClient(177)) - Use TOKEN authentication for protocol ClientDatanodeProtocolPB
2020-12-03 07:19:54,199 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(678)) - SASL client callback: setting username: CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=
2020-12-03 07:19:54,199 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(683)) - SASL client callback: setting userPassword
2020-12-03 07:19:54,199 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(688)) - SASL client callback: setting realm: default
2020-12-03 07:19:54,200 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: INITIATE
token: "charset=utf-8,username=\"CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=\",realm=\"default\",nonce=\"lxthKg61N5SL8GcN6CnbUGuCDf1JyIK1f3nZtosx\",nc=00000001,cnonce=\"CPx+Pain/JtinqpoXRaX5AXDcqQDMzfBOqpgbINY\",digest-uri=\"/default\",maxbuf=65536,response=6d18ea4fa7e9e0259fecfc7aec3405e6,qop=auth"
auths {
  method: "TOKEN"
  mechanism: "DIGEST-MD5"
  protocol: ""
  serverId: "default"
}

2020-12-03 07:19:54,200 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:54,200 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processSaslToken(2112)) - Have read input token of size 298 for processing by saslServer.evaluateResponse()
2020-12-03 07:19:54,201 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(310)) - SASL server DIGEST-MD5 callback: setting password for client: root (auth:SIMPLE)
2020-12-03 07:19:54,201 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(328)) - SASL server DIGEST-MD5 callback: setting canonicalized client ID: root
2020-12-03 07:19:54,201 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:buildSaslResponse(2129)) - Will send SUCCESS token of size 40 from saslServer.
2020-12-03 07:19:54,201 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2000)) - SASL server context established. Negotiated QoP is auth
2020-12-03 07:19:54,201 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2005)) - SASL server successfully authenticated client: root (auth:SIMPLE)
2020-12-03 07:19:54,201 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:saslProcess(2008)) - Auth successful for root (auth:SIMPLE)
2020-12-03 07:19:54,202 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50096
2020-12-03 07:19:54,202 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50096 Wrote 64 bytes.
2020-12-03 07:19:54,202 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(837)) - Negotiated QOP is :auth
2020-12-03 07:19:54,203 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1074)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: starting, having connections 1
2020-12-03 07:19:54,203 [IPC Parameter Sending Thread #0] DEBUG ipc.Client (Client.java:run(1137)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 sending #71 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength
2020-12-03 07:19:54,204 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-3
2020-12-03 07:19:54,204 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:authorizeConnection(2750)) - Successfully authorized userInfo {
}
protocol: "org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol"

2020-12-03 07:19:54,204 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #71
2020-12-03 07:19:54,204 [IPC Server handler 1 on default port 36744] DEBUG ipc.Server (Server.java:run(2902)) - IPC Server handler 1 on default port 36744: Call#71 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50096 for RpcKind RPC_PROTOCOL_BUFFER
2020-12-03 07:19:54,205 [IPC Server handler 1 on default port 36744] INFO  ipc.Server (ProtobufRpcEngine.java:call(505)) - Call: connectionProtocolName=org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol, method=getReplicaVisibleLength
2020-12-03 07:19:54,206 [IPC Server handler 1 on default port 36744] INFO  block.TestBlockToken (TestBlockToken.java:answer(151)) - Got: block_token_identifier (expiryDate=1606980111387, keyId=57518194, userId=root, blockPoolId=-10, blockId=-108, access modes=[READ, WRITE, COPY, REPLACE], storageTypes= [DISK], storageIds= [])
2020-12-03 07:19:54,206 [IPC Server handler 1 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1615)) - IPC Server handler 1 on default port 36744: responding to Call#71 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50096
2020-12-03 07:19:54,206 [IPC Server handler 1 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1634)) - IPC Server handler 1 on default port 36744: responding to Call#71 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50096 Wrote 43 bytes.
2020-12-03 07:19:54,206 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:receiveRpcResponse(1191)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 got value #71
2020-12-03 07:19:54,207 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(97)) - stopping client from cache: org.apache.hadoop.ipc.Client@46b61c56
2020-12-03 07:19:54,207 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(103)) - removing client from cache: org.apache.hadoop.ipc.Client@46b61c56
2020-12-03 07:19:54,207 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:close(1283)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: closed
2020-12-03 07:19:54,207 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:close(3738)) - Socket Reader #1 for port 0: disconnecting client 127.0.0.1:50096. Number of active connections: 0
2020-12-03 07:19:54,207 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1092)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: stopped, remaining connections 0
2020-12-03 07:19:54,207 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(110)) - stopping actual client because no more references remain: org.apache.hadoop.ipc.Client@46b61c56
2020-12-03 07:19:54,207 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:stop(1340)) - Stopping client
2020-12-03 07:19:54,208 [Listener at 0.0.0.0/36744] INFO  block.TestBlockToken (TestBlockToken.java:testBlockTokenRpcLeak(407)) - Num open fds:163
2020-12-03 07:19:54,209 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:getClient(63)) - getting client out of cache: org.apache.hadoop.ipc.Client@39ac0c0a
2020-12-03 07:19:54,209 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:<init>(497)) - The ping interval is 60000 ms.
2020-12-03 07:19:54,210 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(795)) - Connecting to /127.0.0.1:36744
2020-12-03 07:19:54,210 [IPC Server listener on 0] DEBUG ipc.Server (Server.java:register(3727)) - Server connection from 127.0.0.1:50098; # active connections: 1; # queued calls: 0
2020-12-03 07:19:54,210 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: NEGOTIATE

2020-12-03 07:19:54,211 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:54,211 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:create(175)) - Created SASL server with mechanism = DIGEST-MD5
2020-12-03 07:19:54,211 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50098
2020-12-03 07:19:54,211 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50098 Wrote 194 bytes.
2020-12-03 07:19:54,211 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:getServerToken(268)) - Get token info proto:interface org.apache.hadoop.hdfs.protocolPB.ClientDatanodeProtocolPB info:@org.apache.hadoop.security.token.TokenInfo(value=class org.apache.hadoop.hdfs.security.token.block.BlockTokenSelector)
2020-12-03 07:19:54,212 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:createSaslClient(251)) - Creating SASL DIGEST-MD5(TOKEN)  client to authenticate to service at default
2020-12-03 07:19:54,212 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:selectSaslClient(177)) - Use TOKEN authentication for protocol ClientDatanodeProtocolPB
2020-12-03 07:19:54,212 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(678)) - SASL client callback: setting username: CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=
2020-12-03 07:19:54,212 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(683)) - SASL client callback: setting userPassword
2020-12-03 07:19:54,212 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(688)) - SASL client callback: setting realm: default
2020-12-03 07:19:54,213 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: INITIATE
token: "charset=utf-8,username=\"CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=\",realm=\"default\",nonce=\"eakWGBp2BBOmeMhQI8bD2mlT3RiYIoY6kF5T3G+j\",nc=00000001,cnonce=\"IRZzWHhTzpkFXvZmVzmFioNyTHtfThj4+iTMqKFZ\",digest-uri=\"/default\",maxbuf=65536,response=0d74ff196f20f0052512c858bb7e38b7,qop=auth"
auths {
  method: "TOKEN"
  mechanism: "DIGEST-MD5"
  protocol: ""
  serverId: "default"
}

2020-12-03 07:19:54,213 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:54,213 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processSaslToken(2112)) - Have read input token of size 298 for processing by saslServer.evaluateResponse()
2020-12-03 07:19:54,214 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(310)) - SASL server DIGEST-MD5 callback: setting password for client: root (auth:SIMPLE)
2020-12-03 07:19:54,214 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(328)) - SASL server DIGEST-MD5 callback: setting canonicalized client ID: root
2020-12-03 07:19:54,214 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:buildSaslResponse(2129)) - Will send SUCCESS token of size 40 from saslServer.
2020-12-03 07:19:54,214 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2000)) - SASL server context established. Negotiated QoP is auth
2020-12-03 07:19:54,214 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2005)) - SASL server successfully authenticated client: root (auth:SIMPLE)
2020-12-03 07:19:54,214 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:saslProcess(2008)) - Auth successful for root (auth:SIMPLE)
2020-12-03 07:19:54,214 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50098
2020-12-03 07:19:54,215 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50098 Wrote 64 bytes.
2020-12-03 07:19:54,215 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(837)) - Negotiated QOP is :auth
2020-12-03 07:19:54,215 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1074)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: starting, having connections 1
2020-12-03 07:19:54,216 [IPC Parameter Sending Thread #0] DEBUG ipc.Client (Client.java:run(1137)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 sending #72 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength
2020-12-03 07:19:54,216 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-3
2020-12-03 07:19:54,217 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:authorizeConnection(2750)) - Successfully authorized userInfo {
}
protocol: "org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol"

2020-12-03 07:19:54,217 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #72
2020-12-03 07:19:54,218 [IPC Server handler 3 on default port 36744] DEBUG ipc.Server (Server.java:run(2902)) - IPC Server handler 3 on default port 36744: Call#72 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50098 for RpcKind RPC_PROTOCOL_BUFFER
2020-12-03 07:19:54,219 [IPC Server handler 3 on default port 36744] INFO  ipc.Server (ProtobufRpcEngine.java:call(505)) - Call: connectionProtocolName=org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol, method=getReplicaVisibleLength
2020-12-03 07:19:54,221 [IPC Server handler 3 on default port 36744] INFO  block.TestBlockToken (TestBlockToken.java:answer(151)) - Got: block_token_identifier (expiryDate=1606980111387, keyId=57518194, userId=root, blockPoolId=-10, blockId=-108, access modes=[READ, WRITE, COPY, REPLACE], storageTypes= [DISK], storageIds= [])
2020-12-03 07:19:54,222 [IPC Server handler 3 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1615)) - IPC Server handler 3 on default port 36744: responding to Call#72 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50098
2020-12-03 07:19:54,222 [IPC Server handler 3 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1634)) - IPC Server handler 3 on default port 36744: responding to Call#72 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50098 Wrote 43 bytes.
2020-12-03 07:19:54,222 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:receiveRpcResponse(1191)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 got value #72
2020-12-03 07:19:54,222 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(97)) - stopping client from cache: org.apache.hadoop.ipc.Client@39ac0c0a
2020-12-03 07:19:54,222 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:close(3738)) - Socket Reader #1 for port 0: disconnecting client 127.0.0.1:50098. Number of active connections: 0
2020-12-03 07:19:54,223 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(103)) - removing client from cache: org.apache.hadoop.ipc.Client@39ac0c0a
2020-12-03 07:19:54,222 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:close(1283)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: closed
2020-12-03 07:19:54,223 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(110)) - stopping actual client because no more references remain: org.apache.hadoop.ipc.Client@39ac0c0a
2020-12-03 07:19:54,223 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:stop(1340)) - Stopping client
2020-12-03 07:19:54,223 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1092)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: stopped, remaining connections 0
2020-12-03 07:19:54,224 [Listener at 0.0.0.0/36744] INFO  block.TestBlockToken (TestBlockToken.java:testBlockTokenRpcLeak(407)) - Num open fds:163
2020-12-03 07:19:54,225 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:getClient(63)) - getting client out of cache: org.apache.hadoop.ipc.Client@1339e7aa
2020-12-03 07:19:54,225 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:<init>(497)) - The ping interval is 60000 ms.
2020-12-03 07:19:54,225 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(795)) - Connecting to /127.0.0.1:36744
2020-12-03 07:19:54,226 [IPC Server listener on 0] DEBUG ipc.Server (Server.java:register(3727)) - Server connection from 127.0.0.1:50100; # active connections: 1; # queued calls: 0
2020-12-03 07:19:54,226 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: NEGOTIATE

2020-12-03 07:19:54,226 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:54,226 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:create(175)) - Created SASL server with mechanism = DIGEST-MD5
2020-12-03 07:19:54,227 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50100
2020-12-03 07:19:54,227 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50100 Wrote 194 bytes.
2020-12-03 07:19:54,227 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:getServerToken(268)) - Get token info proto:interface org.apache.hadoop.hdfs.protocolPB.ClientDatanodeProtocolPB info:@org.apache.hadoop.security.token.TokenInfo(value=class org.apache.hadoop.hdfs.security.token.block.BlockTokenSelector)
2020-12-03 07:19:54,227 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:createSaslClient(251)) - Creating SASL DIGEST-MD5(TOKEN)  client to authenticate to service at default
2020-12-03 07:19:54,228 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:selectSaslClient(177)) - Use TOKEN authentication for protocol ClientDatanodeProtocolPB
2020-12-03 07:19:54,228 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(678)) - SASL client callback: setting username: CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=
2020-12-03 07:19:54,228 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(683)) - SASL client callback: setting userPassword
2020-12-03 07:19:54,228 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(688)) - SASL client callback: setting realm: default
2020-12-03 07:19:54,229 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: INITIATE
token: "charset=utf-8,username=\"CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=\",realm=\"default\",nonce=\"NOdl4tWRxd29DgYkHhi+K5+DKseWxRl77Yzw45zV\",nc=00000001,cnonce=\"dTK5T6zYq/DHg/PyTHwJe05B7wsKrcTmGzjs88bO\",digest-uri=\"/default\",maxbuf=65536,response=090d9d93cd92a5844c56930b0ef47aca,qop=auth"
auths {
  method: "TOKEN"
  mechanism: "DIGEST-MD5"
  protocol: ""
  serverId: "default"
}

2020-12-03 07:19:54,236 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:54,236 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processSaslToken(2112)) - Have read input token of size 298 for processing by saslServer.evaluateResponse()
2020-12-03 07:19:54,237 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(310)) - SASL server DIGEST-MD5 callback: setting password for client: root (auth:SIMPLE)
2020-12-03 07:19:54,237 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(328)) - SASL server DIGEST-MD5 callback: setting canonicalized client ID: root
2020-12-03 07:19:54,237 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:buildSaslResponse(2129)) - Will send SUCCESS token of size 40 from saslServer.
2020-12-03 07:19:54,237 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2000)) - SASL server context established. Negotiated QoP is auth
2020-12-03 07:19:54,238 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2005)) - SASL server successfully authenticated client: root (auth:SIMPLE)
2020-12-03 07:19:54,238 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:saslProcess(2008)) - Auth successful for root (auth:SIMPLE)
2020-12-03 07:19:54,238 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50100
2020-12-03 07:19:54,238 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50100 Wrote 64 bytes.
2020-12-03 07:19:54,238 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(837)) - Negotiated QOP is :auth
2020-12-03 07:19:54,239 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1074)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: starting, having connections 1
2020-12-03 07:19:54,240 [IPC Parameter Sending Thread #0] DEBUG ipc.Client (Client.java:run(1137)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 sending #73 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength
2020-12-03 07:19:54,241 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-3
2020-12-03 07:19:54,241 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:authorizeConnection(2750)) - Successfully authorized userInfo {
}
protocol: "org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol"

2020-12-03 07:19:54,241 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #73
2020-12-03 07:19:54,242 [IPC Server handler 2 on default port 36744] DEBUG ipc.Server (Server.java:run(2902)) - IPC Server handler 2 on default port 36744: Call#73 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50100 for RpcKind RPC_PROTOCOL_BUFFER
2020-12-03 07:19:54,242 [IPC Server handler 2 on default port 36744] INFO  ipc.Server (ProtobufRpcEngine.java:call(505)) - Call: connectionProtocolName=org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol, method=getReplicaVisibleLength
2020-12-03 07:19:54,243 [IPC Server handler 2 on default port 36744] INFO  block.TestBlockToken (TestBlockToken.java:answer(151)) - Got: block_token_identifier (expiryDate=1606980111387, keyId=57518194, userId=root, blockPoolId=-10, blockId=-108, access modes=[READ, WRITE, COPY, REPLACE], storageTypes= [DISK], storageIds= [])
2020-12-03 07:19:54,243 [IPC Server handler 2 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1615)) - IPC Server handler 2 on default port 36744: responding to Call#73 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50100
2020-12-03 07:19:54,244 [IPC Server handler 2 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1634)) - IPC Server handler 2 on default port 36744: responding to Call#73 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50100 Wrote 43 bytes.
2020-12-03 07:19:54,244 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:receiveRpcResponse(1191)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 got value #73
2020-12-03 07:19:54,244 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:close(1283)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: closed
2020-12-03 07:19:54,244 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1092)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: stopped, remaining connections 0
2020-12-03 07:19:54,244 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(97)) - stopping client from cache: org.apache.hadoop.ipc.Client@1339e7aa
2020-12-03 07:19:54,245 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(103)) - removing client from cache: org.apache.hadoop.ipc.Client@1339e7aa
2020-12-03 07:19:54,244 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:close(3738)) - Socket Reader #1 for port 0: disconnecting client 127.0.0.1:50100. Number of active connections: 0
2020-12-03 07:19:54,245 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(110)) - stopping actual client because no more references remain: org.apache.hadoop.ipc.Client@1339e7aa
2020-12-03 07:19:54,245 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:stop(1340)) - Stopping client
2020-12-03 07:19:54,246 [Listener at 0.0.0.0/36744] INFO  block.TestBlockToken (TestBlockToken.java:testBlockTokenRpcLeak(407)) - Num open fds:163
2020-12-03 07:19:54,247 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:getClient(63)) - getting client out of cache: org.apache.hadoop.ipc.Client@68702e03
2020-12-03 07:19:54,248 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:<init>(497)) - The ping interval is 60000 ms.
2020-12-03 07:19:54,248 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(795)) - Connecting to /127.0.0.1:36744
2020-12-03 07:19:54,249 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: NEGOTIATE

2020-12-03 07:19:54,255 [IPC Server listener on 0] DEBUG ipc.Server (Server.java:register(3727)) - Server connection from 127.0.0.1:50104; # active connections: 1; # queued calls: 0
2020-12-03 07:19:54,255 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:54,256 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:create(175)) - Created SASL server with mechanism = DIGEST-MD5
2020-12-03 07:19:54,256 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50104
2020-12-03 07:19:54,256 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50104 Wrote 194 bytes.
2020-12-03 07:19:54,259 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:getServerToken(268)) - Get token info proto:interface org.apache.hadoop.hdfs.protocolPB.ClientDatanodeProtocolPB info:@org.apache.hadoop.security.token.TokenInfo(value=class org.apache.hadoop.hdfs.security.token.block.BlockTokenSelector)
2020-12-03 07:19:54,260 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:createSaslClient(251)) - Creating SASL DIGEST-MD5(TOKEN)  client to authenticate to service at default
2020-12-03 07:19:54,260 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:selectSaslClient(177)) - Use TOKEN authentication for protocol ClientDatanodeProtocolPB
2020-12-03 07:19:54,261 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(678)) - SASL client callback: setting username: CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=
2020-12-03 07:19:54,261 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(683)) - SASL client callback: setting userPassword
2020-12-03 07:19:54,261 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(688)) - SASL client callback: setting realm: default
2020-12-03 07:19:54,264 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: INITIATE
token: "charset=utf-8,username=\"CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=\",realm=\"default\",nonce=\"5yu4EdBqHXvM4sDboTK9Vpg/coNCPi+cAZlJJ2TQ\",nc=00000001,cnonce=\"2NVaj516q3j1u1P/My05S5T3bWC8UqoMittJm44m\",digest-uri=\"/default\",maxbuf=65536,response=8bd890411eaf180c3e68ad599e64f1be,qop=auth"
auths {
  method: "TOKEN"
  mechanism: "DIGEST-MD5"
  protocol: ""
  serverId: "default"
}

2020-12-03 07:19:54,265 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:54,265 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processSaslToken(2112)) - Have read input token of size 298 for processing by saslServer.evaluateResponse()
2020-12-03 07:19:54,266 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(310)) - SASL server DIGEST-MD5 callback: setting password for client: root (auth:SIMPLE)
2020-12-03 07:19:54,266 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(328)) - SASL server DIGEST-MD5 callback: setting canonicalized client ID: root
2020-12-03 07:19:54,266 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:buildSaslResponse(2129)) - Will send SUCCESS token of size 40 from saslServer.
2020-12-03 07:19:54,266 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2000)) - SASL server context established. Negotiated QoP is auth
2020-12-03 07:19:54,266 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2005)) - SASL server successfully authenticated client: root (auth:SIMPLE)
2020-12-03 07:19:54,267 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:saslProcess(2008)) - Auth successful for root (auth:SIMPLE)
2020-12-03 07:19:54,267 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50104
2020-12-03 07:19:54,267 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50104 Wrote 64 bytes.
2020-12-03 07:19:54,270 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(837)) - Negotiated QOP is :auth
2020-12-03 07:19:54,273 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1074)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: starting, having connections 1
2020-12-03 07:19:54,273 [IPC Parameter Sending Thread #0] DEBUG ipc.Client (Client.java:run(1137)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 sending #74 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength
2020-12-03 07:19:54,274 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-3
2020-12-03 07:19:54,274 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:authorizeConnection(2750)) - Successfully authorized userInfo {
}
protocol: "org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol"

2020-12-03 07:19:54,274 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #74
2020-12-03 07:19:54,275 [IPC Server handler 4 on default port 36744] DEBUG ipc.Server (Server.java:run(2902)) - IPC Server handler 4 on default port 36744: Call#74 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50104 for RpcKind RPC_PROTOCOL_BUFFER
2020-12-03 07:19:54,275 [IPC Server handler 4 on default port 36744] INFO  ipc.Server (ProtobufRpcEngine.java:call(505)) - Call: connectionProtocolName=org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol, method=getReplicaVisibleLength
2020-12-03 07:19:54,278 [IPC Server handler 4 on default port 36744] INFO  block.TestBlockToken (TestBlockToken.java:answer(151)) - Got: block_token_identifier (expiryDate=1606980111387, keyId=57518194, userId=root, blockPoolId=-10, blockId=-108, access modes=[READ, WRITE, COPY, REPLACE], storageTypes= [DISK], storageIds= [])
2020-12-03 07:19:54,280 [IPC Server handler 4 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1615)) - IPC Server handler 4 on default port 36744: responding to Call#74 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50104
2020-12-03 07:19:54,280 [IPC Server handler 4 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1634)) - IPC Server handler 4 on default port 36744: responding to Call#74 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50104 Wrote 43 bytes.
2020-12-03 07:19:54,280 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:receiveRpcResponse(1191)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 got value #74
2020-12-03 07:19:54,280 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:close(1283)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: closed
2020-12-03 07:19:54,280 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:close(3738)) - Socket Reader #1 for port 0: disconnecting client 127.0.0.1:50104. Number of active connections: 0
2020-12-03 07:19:54,281 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1092)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: stopped, remaining connections 0
2020-12-03 07:19:54,284 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(97)) - stopping client from cache: org.apache.hadoop.ipc.Client@68702e03
2020-12-03 07:19:54,284 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(103)) - removing client from cache: org.apache.hadoop.ipc.Client@68702e03
2020-12-03 07:19:54,284 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(110)) - stopping actual client because no more references remain: org.apache.hadoop.ipc.Client@68702e03
2020-12-03 07:19:54,284 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:stop(1340)) - Stopping client
2020-12-03 07:19:54,285 [Listener at 0.0.0.0/36744] INFO  block.TestBlockToken (TestBlockToken.java:testBlockTokenRpcLeak(407)) - Num open fds:163
2020-12-03 07:19:54,287 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:getClient(63)) - getting client out of cache: org.apache.hadoop.ipc.Client@1fa1cab1
2020-12-03 07:19:54,287 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:<init>(497)) - The ping interval is 60000 ms.
2020-12-03 07:19:54,288 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(795)) - Connecting to /127.0.0.1:36744
2020-12-03 07:19:54,288 [IPC Server listener on 0] DEBUG ipc.Server (Server.java:register(3727)) - Server connection from 127.0.0.1:50106; # active connections: 1; # queued calls: 0
2020-12-03 07:19:54,289 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: NEGOTIATE

2020-12-03 07:19:54,289 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:54,290 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:create(175)) - Created SASL server with mechanism = DIGEST-MD5
2020-12-03 07:19:54,290 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50106
2020-12-03 07:19:54,290 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50106 Wrote 194 bytes.
2020-12-03 07:19:54,290 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:getServerToken(268)) - Get token info proto:interface org.apache.hadoop.hdfs.protocolPB.ClientDatanodeProtocolPB info:@org.apache.hadoop.security.token.TokenInfo(value=class org.apache.hadoop.hdfs.security.token.block.BlockTokenSelector)
2020-12-03 07:19:54,291 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:createSaslClient(251)) - Creating SASL DIGEST-MD5(TOKEN)  client to authenticate to service at default
2020-12-03 07:19:54,291 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:selectSaslClient(177)) - Use TOKEN authentication for protocol ClientDatanodeProtocolPB
2020-12-03 07:19:54,292 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(678)) - SASL client callback: setting username: CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=
2020-12-03 07:19:54,292 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(683)) - SASL client callback: setting userPassword
2020-12-03 07:19:54,292 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(688)) - SASL client callback: setting realm: default
2020-12-03 07:19:54,293 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: INITIATE
token: "charset=utf-8,username=\"CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=\",realm=\"default\",nonce=\"MKfTFZ0NctQyGiyUkI1/oytuNhDmAkqdsMXK6x+9\",nc=00000001,cnonce=\"vZst6yqFaJ4i0zcWyEajANiuCZTF9fJTuRna0pJv\",digest-uri=\"/default\",maxbuf=65536,response=5b6f29df5fc5ec2b682d8953cfaf84bd,qop=auth"
auths {
  method: "TOKEN"
  mechanism: "DIGEST-MD5"
  protocol: ""
  serverId: "default"
}

2020-12-03 07:19:54,293 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:54,294 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processSaslToken(2112)) - Have read input token of size 298 for processing by saslServer.evaluateResponse()
2020-12-03 07:19:54,294 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(310)) - SASL server DIGEST-MD5 callback: setting password for client: root (auth:SIMPLE)
2020-12-03 07:19:54,295 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(328)) - SASL server DIGEST-MD5 callback: setting canonicalized client ID: root
2020-12-03 07:19:54,295 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:buildSaslResponse(2129)) - Will send SUCCESS token of size 40 from saslServer.
2020-12-03 07:19:54,295 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2000)) - SASL server context established. Negotiated QoP is auth
2020-12-03 07:19:54,296 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2005)) - SASL server successfully authenticated client: root (auth:SIMPLE)
2020-12-03 07:19:54,296 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:saslProcess(2008)) - Auth successful for root (auth:SIMPLE)
2020-12-03 07:19:54,296 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50106
2020-12-03 07:19:54,296 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50106 Wrote 64 bytes.
2020-12-03 07:19:54,297 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(837)) - Negotiated QOP is :auth
2020-12-03 07:19:54,300 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1074)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: starting, having connections 1
2020-12-03 07:19:54,304 [IPC Parameter Sending Thread #0] DEBUG ipc.Client (Client.java:run(1137)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 sending #75 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength
2020-12-03 07:19:54,305 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-3
2020-12-03 07:19:54,305 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:authorizeConnection(2750)) - Successfully authorized userInfo {
}
protocol: "org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol"

2020-12-03 07:19:54,305 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #75
2020-12-03 07:19:54,307 [IPC Server handler 0 on default port 36744] DEBUG ipc.Server (Server.java:run(2902)) - IPC Server handler 0 on default port 36744: Call#75 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50106 for RpcKind RPC_PROTOCOL_BUFFER
2020-12-03 07:19:54,307 [IPC Server handler 0 on default port 36744] INFO  ipc.Server (ProtobufRpcEngine.java:call(505)) - Call: connectionProtocolName=org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol, method=getReplicaVisibleLength
2020-12-03 07:19:54,308 [IPC Server handler 0 on default port 36744] INFO  block.TestBlockToken (TestBlockToken.java:answer(151)) - Got: block_token_identifier (expiryDate=1606980111387, keyId=57518194, userId=root, blockPoolId=-10, blockId=-108, access modes=[READ, WRITE, COPY, REPLACE], storageTypes= [DISK], storageIds= [])
2020-12-03 07:19:54,308 [IPC Server handler 0 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1615)) - IPC Server handler 0 on default port 36744: responding to Call#75 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50106
2020-12-03 07:19:54,309 [IPC Server handler 0 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1634)) - IPC Server handler 0 on default port 36744: responding to Call#75 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50106 Wrote 43 bytes.
2020-12-03 07:19:54,309 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:receiveRpcResponse(1191)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 got value #75
2020-12-03 07:19:54,309 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(97)) - stopping client from cache: org.apache.hadoop.ipc.Client@1fa1cab1
2020-12-03 07:19:54,309 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:close(1283)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: closed
2020-12-03 07:19:54,309 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(103)) - removing client from cache: org.apache.hadoop.ipc.Client@1fa1cab1
2020-12-03 07:19:54,310 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(110)) - stopping actual client because no more references remain: org.apache.hadoop.ipc.Client@1fa1cab1
2020-12-03 07:19:54,310 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:stop(1340)) - Stopping client
2020-12-03 07:19:54,309 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:close(3738)) - Socket Reader #1 for port 0: disconnecting client 127.0.0.1:50106. Number of active connections: 0
2020-12-03 07:19:54,309 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1092)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: stopped, remaining connections 0
2020-12-03 07:19:54,310 [Listener at 0.0.0.0/36744] INFO  block.TestBlockToken (TestBlockToken.java:testBlockTokenRpcLeak(407)) - Num open fds:164
2020-12-03 07:19:54,311 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:getClient(63)) - getting client out of cache: org.apache.hadoop.ipc.Client@106cc338
2020-12-03 07:19:54,312 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:<init>(497)) - The ping interval is 60000 ms.
2020-12-03 07:19:54,312 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(795)) - Connecting to /127.0.0.1:36744
2020-12-03 07:19:54,312 [IPC Server listener on 0] DEBUG ipc.Server (Server.java:register(3727)) - Server connection from 127.0.0.1:50108; # active connections: 1; # queued calls: 0
2020-12-03 07:19:54,313 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: NEGOTIATE

2020-12-03 07:19:54,313 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:54,313 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:create(175)) - Created SASL server with mechanism = DIGEST-MD5
2020-12-03 07:19:54,313 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50108
2020-12-03 07:19:54,314 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50108 Wrote 194 bytes.
2020-12-03 07:19:54,314 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:getServerToken(268)) - Get token info proto:interface org.apache.hadoop.hdfs.protocolPB.ClientDatanodeProtocolPB info:@org.apache.hadoop.security.token.TokenInfo(value=class org.apache.hadoop.hdfs.security.token.block.BlockTokenSelector)
2020-12-03 07:19:54,314 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:createSaslClient(251)) - Creating SASL DIGEST-MD5(TOKEN)  client to authenticate to service at default
2020-12-03 07:19:54,315 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:selectSaslClient(177)) - Use TOKEN authentication for protocol ClientDatanodeProtocolPB
2020-12-03 07:19:54,315 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(678)) - SASL client callback: setting username: CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=
2020-12-03 07:19:54,315 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(683)) - SASL client callback: setting userPassword
2020-12-03 07:19:54,315 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(688)) - SASL client callback: setting realm: default
2020-12-03 07:19:54,316 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: INITIATE
token: "charset=utf-8,username=\"CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=\",realm=\"default\",nonce=\"mRuAiW1m55JwvpM8zPr6S9piLMDCWZRZOu3GJ1K/\",nc=00000001,cnonce=\"chVyRfXxY0qw+Tn+O8NPfBvK2EQTAGyGevaCptMx\",digest-uri=\"/default\",maxbuf=65536,response=54df1bc1baee09c6a232f9036a889bd1,qop=auth"
auths {
  method: "TOKEN"
  mechanism: "DIGEST-MD5"
  protocol: ""
  serverId: "default"
}

2020-12-03 07:19:54,316 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:54,316 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processSaslToken(2112)) - Have read input token of size 298 for processing by saslServer.evaluateResponse()
2020-12-03 07:19:54,317 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(310)) - SASL server DIGEST-MD5 callback: setting password for client: root (auth:SIMPLE)
2020-12-03 07:19:54,318 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(328)) - SASL server DIGEST-MD5 callback: setting canonicalized client ID: root
2020-12-03 07:19:54,318 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:buildSaslResponse(2129)) - Will send SUCCESS token of size 40 from saslServer.
2020-12-03 07:19:54,318 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2000)) - SASL server context established. Negotiated QoP is auth
2020-12-03 07:19:54,318 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2005)) - SASL server successfully authenticated client: root (auth:SIMPLE)
2020-12-03 07:19:54,318 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:saslProcess(2008)) - Auth successful for root (auth:SIMPLE)
2020-12-03 07:19:54,318 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50108
2020-12-03 07:19:54,319 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50108 Wrote 64 bytes.
2020-12-03 07:19:54,320 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(837)) - Negotiated QOP is :auth
2020-12-03 07:19:54,321 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1074)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: starting, having connections 1
2020-12-03 07:19:54,323 [IPC Parameter Sending Thread #0] DEBUG ipc.Client (Client.java:run(1137)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 sending #76 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength
2020-12-03 07:19:54,324 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-3
2020-12-03 07:19:54,325 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:authorizeConnection(2750)) - Successfully authorized userInfo {
}
protocol: "org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol"

2020-12-03 07:19:54,325 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #76
2020-12-03 07:19:54,326 [IPC Server handler 1 on default port 36744] DEBUG ipc.Server (Server.java:run(2902)) - IPC Server handler 1 on default port 36744: Call#76 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50108 for RpcKind RPC_PROTOCOL_BUFFER
2020-12-03 07:19:54,326 [IPC Server handler 1 on default port 36744] INFO  ipc.Server (ProtobufRpcEngine.java:call(505)) - Call: connectionProtocolName=org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol, method=getReplicaVisibleLength
2020-12-03 07:19:54,327 [IPC Server handler 1 on default port 36744] INFO  block.TestBlockToken (TestBlockToken.java:answer(151)) - Got: block_token_identifier (expiryDate=1606980111387, keyId=57518194, userId=root, blockPoolId=-10, blockId=-108, access modes=[READ, WRITE, COPY, REPLACE], storageTypes= [DISK], storageIds= [])
2020-12-03 07:19:54,328 [IPC Server handler 1 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1615)) - IPC Server handler 1 on default port 36744: responding to Call#76 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50108
2020-12-03 07:19:54,328 [IPC Server handler 1 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1634)) - IPC Server handler 1 on default port 36744: responding to Call#76 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50108 Wrote 43 bytes.
2020-12-03 07:19:54,328 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:receiveRpcResponse(1191)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 got value #76
2020-12-03 07:19:54,328 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:close(1283)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: closed
2020-12-03 07:19:54,328 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:close(3738)) - Socket Reader #1 for port 0: disconnecting client 127.0.0.1:50108. Number of active connections: 0
2020-12-03 07:19:54,329 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1092)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: stopped, remaining connections 0
2020-12-03 07:19:54,332 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(97)) - stopping client from cache: org.apache.hadoop.ipc.Client@106cc338
2020-12-03 07:19:54,332 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(103)) - removing client from cache: org.apache.hadoop.ipc.Client@106cc338
2020-12-03 07:19:54,332 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(110)) - stopping actual client because no more references remain: org.apache.hadoop.ipc.Client@106cc338
2020-12-03 07:19:54,332 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:stop(1340)) - Stopping client
2020-12-03 07:19:54,333 [Listener at 0.0.0.0/36744] INFO  block.TestBlockToken (TestBlockToken.java:testBlockTokenRpcLeak(407)) - Num open fds:163
2020-12-03 07:19:54,334 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:getClient(63)) - getting client out of cache: org.apache.hadoop.ipc.Client@7a55af6b
2020-12-03 07:19:54,335 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:<init>(497)) - The ping interval is 60000 ms.
2020-12-03 07:19:54,335 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(795)) - Connecting to /127.0.0.1:36744
2020-12-03 07:19:54,336 [IPC Server listener on 0] DEBUG ipc.Server (Server.java:register(3727)) - Server connection from 127.0.0.1:50110; # active connections: 1; # queued calls: 0
2020-12-03 07:19:54,336 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: NEGOTIATE

2020-12-03 07:19:54,340 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:54,340 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:create(175)) - Created SASL server with mechanism = DIGEST-MD5
2020-12-03 07:19:54,340 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50110
2020-12-03 07:19:54,340 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50110 Wrote 194 bytes.
2020-12-03 07:19:54,341 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:getServerToken(268)) - Get token info proto:interface org.apache.hadoop.hdfs.protocolPB.ClientDatanodeProtocolPB info:@org.apache.hadoop.security.token.TokenInfo(value=class org.apache.hadoop.hdfs.security.token.block.BlockTokenSelector)
2020-12-03 07:19:54,341 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:createSaslClient(251)) - Creating SASL DIGEST-MD5(TOKEN)  client to authenticate to service at default
2020-12-03 07:19:54,341 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:selectSaslClient(177)) - Use TOKEN authentication for protocol ClientDatanodeProtocolPB
2020-12-03 07:19:54,342 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(678)) - SASL client callback: setting username: CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=
2020-12-03 07:19:54,342 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(683)) - SASL client callback: setting userPassword
2020-12-03 07:19:54,342 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(688)) - SASL client callback: setting realm: default
2020-12-03 07:19:54,342 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: INITIATE
token: "charset=utf-8,username=\"CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=\",realm=\"default\",nonce=\"5N8zhkZTDdB3QconyQP6cAeTn7/EZ5XJfEXAa0Nq\",nc=00000001,cnonce=\"zy2fz9spZbcB/uLmFB3MwViRomMOd303A9aE7WgT\",digest-uri=\"/default\",maxbuf=65536,response=56e6e270d7c081e3aa315592de1de6d0,qop=auth"
auths {
  method: "TOKEN"
  mechanism: "DIGEST-MD5"
  protocol: ""
  serverId: "default"
}

2020-12-03 07:19:54,343 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:54,343 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processSaslToken(2112)) - Have read input token of size 298 for processing by saslServer.evaluateResponse()
2020-12-03 07:19:54,343 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(310)) - SASL server DIGEST-MD5 callback: setting password for client: root (auth:SIMPLE)
2020-12-03 07:19:54,344 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(328)) - SASL server DIGEST-MD5 callback: setting canonicalized client ID: root
2020-12-03 07:19:54,344 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:buildSaslResponse(2129)) - Will send SUCCESS token of size 40 from saslServer.
2020-12-03 07:19:54,344 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2000)) - SASL server context established. Negotiated QoP is auth
2020-12-03 07:19:54,344 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2005)) - SASL server successfully authenticated client: root (auth:SIMPLE)
2020-12-03 07:19:54,344 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:saslProcess(2008)) - Auth successful for root (auth:SIMPLE)
2020-12-03 07:19:54,344 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50110
2020-12-03 07:19:54,345 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50110 Wrote 64 bytes.
2020-12-03 07:19:54,345 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(837)) - Negotiated QOP is :auth
2020-12-03 07:19:54,346 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1074)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: starting, having connections 1
2020-12-03 07:19:54,346 [IPC Parameter Sending Thread #0] DEBUG ipc.Client (Client.java:run(1137)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 sending #77 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength
2020-12-03 07:19:54,346 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-3
2020-12-03 07:19:54,347 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:authorizeConnection(2750)) - Successfully authorized userInfo {
}
protocol: "org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol"

2020-12-03 07:19:54,347 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #77
2020-12-03 07:19:54,347 [IPC Server handler 3 on default port 36744] DEBUG ipc.Server (Server.java:run(2902)) - IPC Server handler 3 on default port 36744: Call#77 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50110 for RpcKind RPC_PROTOCOL_BUFFER
2020-12-03 07:19:54,347 [IPC Server handler 3 on default port 36744] INFO  ipc.Server (ProtobufRpcEngine.java:call(505)) - Call: connectionProtocolName=org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol, method=getReplicaVisibleLength
2020-12-03 07:19:54,348 [IPC Server handler 3 on default port 36744] INFO  block.TestBlockToken (TestBlockToken.java:answer(151)) - Got: block_token_identifier (expiryDate=1606980111387, keyId=57518194, userId=root, blockPoolId=-10, blockId=-108, access modes=[READ, WRITE, COPY, REPLACE], storageTypes= [DISK], storageIds= [])
2020-12-03 07:19:54,349 [IPC Server handler 3 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1615)) - IPC Server handler 3 on default port 36744: responding to Call#77 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50110
2020-12-03 07:19:54,349 [IPC Server handler 3 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1634)) - IPC Server handler 3 on default port 36744: responding to Call#77 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50110 Wrote 43 bytes.
2020-12-03 07:19:54,349 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:receiveRpcResponse(1191)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 got value #77
2020-12-03 07:19:54,349 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(97)) - stopping client from cache: org.apache.hadoop.ipc.Client@7a55af6b
2020-12-03 07:19:54,349 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:close(1283)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: closed
2020-12-03 07:19:54,350 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:close(3738)) - Socket Reader #1 for port 0: disconnecting client 127.0.0.1:50110. Number of active connections: 0
2020-12-03 07:19:54,350 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1092)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: stopped, remaining connections 0
2020-12-03 07:19:54,349 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(103)) - removing client from cache: org.apache.hadoop.ipc.Client@7a55af6b
2020-12-03 07:19:54,350 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(110)) - stopping actual client because no more references remain: org.apache.hadoop.ipc.Client@7a55af6b
2020-12-03 07:19:54,350 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:stop(1340)) - Stopping client
2020-12-03 07:19:54,351 [Listener at 0.0.0.0/36744] INFO  block.TestBlockToken (TestBlockToken.java:testBlockTokenRpcLeak(407)) - Num open fds:163
2020-12-03 07:19:54,352 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:getClient(63)) - getting client out of cache: org.apache.hadoop.ipc.Client@74589991
2020-12-03 07:19:54,353 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:<init>(497)) - The ping interval is 60000 ms.
2020-12-03 07:19:54,353 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(795)) - Connecting to /127.0.0.1:36744
2020-12-03 07:19:54,355 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: NEGOTIATE

2020-12-03 07:19:54,356 [IPC Server listener on 0] DEBUG ipc.Server (Server.java:register(3727)) - Server connection from 127.0.0.1:50112; # active connections: 1; # queued calls: 0
2020-12-03 07:19:54,356 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:54,356 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:create(175)) - Created SASL server with mechanism = DIGEST-MD5
2020-12-03 07:19:54,357 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50112
2020-12-03 07:19:54,357 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50112 Wrote 194 bytes.
2020-12-03 07:19:54,357 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:getServerToken(268)) - Get token info proto:interface org.apache.hadoop.hdfs.protocolPB.ClientDatanodeProtocolPB info:@org.apache.hadoop.security.token.TokenInfo(value=class org.apache.hadoop.hdfs.security.token.block.BlockTokenSelector)
2020-12-03 07:19:54,357 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:createSaslClient(251)) - Creating SASL DIGEST-MD5(TOKEN)  client to authenticate to service at default
2020-12-03 07:19:54,358 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:selectSaslClient(177)) - Use TOKEN authentication for protocol ClientDatanodeProtocolPB
2020-12-03 07:19:54,358 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(678)) - SASL client callback: setting username: CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=
2020-12-03 07:19:54,358 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(683)) - SASL client callback: setting userPassword
2020-12-03 07:19:54,359 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(688)) - SASL client callback: setting realm: default
2020-12-03 07:19:54,359 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: INITIATE
token: "charset=utf-8,username=\"CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=\",realm=\"default\",nonce=\"sGxL5gIeCMc78YIZ+Yci5x/VU65Wbujt8cCPrwD5\",nc=00000001,cnonce=\"bQri+HRBdK7ov0LjtEFnI904cmWn1GURkoTnqcne\",digest-uri=\"/default\",maxbuf=65536,response=3f9c07d2922a883444af5ed5a91d1d6f,qop=auth"
auths {
  method: "TOKEN"
  mechanism: "DIGEST-MD5"
  protocol: ""
  serverId: "default"
}

2020-12-03 07:19:54,360 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:54,360 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processSaslToken(2112)) - Have read input token of size 298 for processing by saslServer.evaluateResponse()
2020-12-03 07:19:54,361 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(310)) - SASL server DIGEST-MD5 callback: setting password for client: root (auth:SIMPLE)
2020-12-03 07:19:54,361 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(328)) - SASL server DIGEST-MD5 callback: setting canonicalized client ID: root
2020-12-03 07:19:54,361 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:buildSaslResponse(2129)) - Will send SUCCESS token of size 40 from saslServer.
2020-12-03 07:19:54,361 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2000)) - SASL server context established. Negotiated QoP is auth
2020-12-03 07:19:54,361 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2005)) - SASL server successfully authenticated client: root (auth:SIMPLE)
2020-12-03 07:19:54,361 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:saslProcess(2008)) - Auth successful for root (auth:SIMPLE)
2020-12-03 07:19:54,362 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50112
2020-12-03 07:19:54,362 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50112 Wrote 64 bytes.
2020-12-03 07:19:54,362 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(837)) - Negotiated QOP is :auth
2020-12-03 07:19:54,363 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1074)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: starting, having connections 1
2020-12-03 07:19:54,363 [IPC Parameter Sending Thread #0] DEBUG ipc.Client (Client.java:run(1137)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 sending #78 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength
2020-12-03 07:19:54,364 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-3
2020-12-03 07:19:54,365 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:authorizeConnection(2750)) - Successfully authorized userInfo {
}
protocol: "org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol"

2020-12-03 07:19:54,365 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #78
2020-12-03 07:19:54,365 [IPC Server handler 2 on default port 36744] DEBUG ipc.Server (Server.java:run(2902)) - IPC Server handler 2 on default port 36744: Call#78 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50112 for RpcKind RPC_PROTOCOL_BUFFER
2020-12-03 07:19:54,365 [IPC Server handler 2 on default port 36744] INFO  ipc.Server (ProtobufRpcEngine.java:call(505)) - Call: connectionProtocolName=org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol, method=getReplicaVisibleLength
2020-12-03 07:19:54,366 [IPC Server handler 2 on default port 36744] INFO  block.TestBlockToken (TestBlockToken.java:answer(151)) - Got: block_token_identifier (expiryDate=1606980111387, keyId=57518194, userId=root, blockPoolId=-10, blockId=-108, access modes=[READ, WRITE, COPY, REPLACE], storageTypes= [DISK], storageIds= [])
2020-12-03 07:19:54,367 [IPC Server handler 2 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1615)) - IPC Server handler 2 on default port 36744: responding to Call#78 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50112
2020-12-03 07:19:54,367 [IPC Server handler 2 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1634)) - IPC Server handler 2 on default port 36744: responding to Call#78 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50112 Wrote 43 bytes.
2020-12-03 07:19:54,367 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:receiveRpcResponse(1191)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 got value #78
2020-12-03 07:19:54,367 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(97)) - stopping client from cache: org.apache.hadoop.ipc.Client@74589991
2020-12-03 07:19:54,367 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:close(3738)) - Socket Reader #1 for port 0: disconnecting client 127.0.0.1:50112. Number of active connections: 0
2020-12-03 07:19:54,367 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:close(1283)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: closed
2020-12-03 07:19:54,367 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(103)) - removing client from cache: org.apache.hadoop.ipc.Client@74589991
2020-12-03 07:19:54,368 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1092)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: stopped, remaining connections 0
2020-12-03 07:19:54,368 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(110)) - stopping actual client because no more references remain: org.apache.hadoop.ipc.Client@74589991
2020-12-03 07:19:54,368 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:stop(1340)) - Stopping client
2020-12-03 07:19:54,369 [Listener at 0.0.0.0/36744] INFO  block.TestBlockToken (TestBlockToken.java:testBlockTokenRpcLeak(407)) - Num open fds:163
2020-12-03 07:19:54,370 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:getClient(63)) - getting client out of cache: org.apache.hadoop.ipc.Client@3b7d3a38
2020-12-03 07:19:54,370 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:<init>(497)) - The ping interval is 60000 ms.
2020-12-03 07:19:54,370 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(795)) - Connecting to /127.0.0.1:36744
2020-12-03 07:19:54,371 [IPC Server listener on 0] DEBUG ipc.Server (Server.java:register(3727)) - Server connection from 127.0.0.1:50114; # active connections: 1; # queued calls: 0
2020-12-03 07:19:54,371 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: NEGOTIATE

2020-12-03 07:19:54,372 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:54,372 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:create(175)) - Created SASL server with mechanism = DIGEST-MD5
2020-12-03 07:19:54,373 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50114
2020-12-03 07:19:54,373 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50114 Wrote 194 bytes.
2020-12-03 07:19:54,373 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:getServerToken(268)) - Get token info proto:interface org.apache.hadoop.hdfs.protocolPB.ClientDatanodeProtocolPB info:@org.apache.hadoop.security.token.TokenInfo(value=class org.apache.hadoop.hdfs.security.token.block.BlockTokenSelector)
2020-12-03 07:19:54,374 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:createSaslClient(251)) - Creating SASL DIGEST-MD5(TOKEN)  client to authenticate to service at default
2020-12-03 07:19:54,374 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:selectSaslClient(177)) - Use TOKEN authentication for protocol ClientDatanodeProtocolPB
2020-12-03 07:19:54,374 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(678)) - SASL client callback: setting username: CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=
2020-12-03 07:19:54,375 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(683)) - SASL client callback: setting userPassword
2020-12-03 07:19:54,375 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(688)) - SASL client callback: setting realm: default
2020-12-03 07:19:54,375 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: INITIATE
token: "charset=utf-8,username=\"CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=\",realm=\"default\",nonce=\"hn9POb8LqVXc1ZMsaUSUyOCGYysdVXPDOrraA5n/\",nc=00000001,cnonce=\"uVa0uwH+45I5/YJn7QigWv6ZZLT4KIk3q61il/0P\",digest-uri=\"/default\",maxbuf=65536,response=a90fed05a84117ac46a0fc298ecd0c1c,qop=auth"
auths {
  method: "TOKEN"
  mechanism: "DIGEST-MD5"
  protocol: ""
  serverId: "default"
}

2020-12-03 07:19:54,376 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:54,376 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processSaslToken(2112)) - Have read input token of size 298 for processing by saslServer.evaluateResponse()
2020-12-03 07:19:54,377 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(310)) - SASL server DIGEST-MD5 callback: setting password for client: root (auth:SIMPLE)
2020-12-03 07:19:54,377 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(328)) - SASL server DIGEST-MD5 callback: setting canonicalized client ID: root
2020-12-03 07:19:54,377 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:buildSaslResponse(2129)) - Will send SUCCESS token of size 40 from saslServer.
2020-12-03 07:19:54,377 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2000)) - SASL server context established. Negotiated QoP is auth
2020-12-03 07:19:54,377 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2005)) - SASL server successfully authenticated client: root (auth:SIMPLE)
2020-12-03 07:19:54,378 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:saslProcess(2008)) - Auth successful for root (auth:SIMPLE)
2020-12-03 07:19:54,378 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50114
2020-12-03 07:19:54,378 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50114 Wrote 64 bytes.
2020-12-03 07:19:54,378 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(837)) - Negotiated QOP is :auth
2020-12-03 07:19:54,379 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1074)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: starting, having connections 1
2020-12-03 07:19:54,379 [IPC Parameter Sending Thread #0] DEBUG ipc.Client (Client.java:run(1137)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 sending #79 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength
2020-12-03 07:19:54,381 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-3
2020-12-03 07:19:54,382 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:authorizeConnection(2750)) - Successfully authorized userInfo {
}
protocol: "org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol"

2020-12-03 07:19:54,382 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #79
2020-12-03 07:19:54,382 [IPC Server handler 4 on default port 36744] DEBUG ipc.Server (Server.java:run(2902)) - IPC Server handler 4 on default port 36744: Call#79 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50114 for RpcKind RPC_PROTOCOL_BUFFER
2020-12-03 07:19:54,382 [IPC Server handler 4 on default port 36744] INFO  ipc.Server (ProtobufRpcEngine.java:call(505)) - Call: connectionProtocolName=org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol, method=getReplicaVisibleLength
2020-12-03 07:19:54,384 [IPC Server handler 4 on default port 36744] INFO  block.TestBlockToken (TestBlockToken.java:answer(151)) - Got: block_token_identifier (expiryDate=1606980111387, keyId=57518194, userId=root, blockPoolId=-10, blockId=-108, access modes=[READ, WRITE, COPY, REPLACE], storageTypes= [DISK], storageIds= [])
2020-12-03 07:19:54,384 [IPC Server handler 4 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1615)) - IPC Server handler 4 on default port 36744: responding to Call#79 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50114
2020-12-03 07:19:54,384 [IPC Server handler 4 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1634)) - IPC Server handler 4 on default port 36744: responding to Call#79 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50114 Wrote 43 bytes.
2020-12-03 07:19:54,385 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:receiveRpcResponse(1191)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 got value #79
2020-12-03 07:19:54,385 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:close(1283)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: closed
2020-12-03 07:19:54,385 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:close(3738)) - Socket Reader #1 for port 0: disconnecting client 127.0.0.1:50114. Number of active connections: 0
2020-12-03 07:19:54,386 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(97)) - stopping client from cache: org.apache.hadoop.ipc.Client@3b7d3a38
2020-12-03 07:19:54,386 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(103)) - removing client from cache: org.apache.hadoop.ipc.Client@3b7d3a38
2020-12-03 07:19:54,386 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(110)) - stopping actual client because no more references remain: org.apache.hadoop.ipc.Client@3b7d3a38
2020-12-03 07:19:54,386 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:stop(1340)) - Stopping client
2020-12-03 07:19:54,386 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1092)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: stopped, remaining connections 0
2020-12-03 07:19:54,387 [Listener at 0.0.0.0/36744] INFO  block.TestBlockToken (TestBlockToken.java:testBlockTokenRpcLeak(407)) - Num open fds:163
2020-12-03 07:19:54,389 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:getClient(63)) - getting client out of cache: org.apache.hadoop.ipc.Client@632ceb35
2020-12-03 07:19:54,390 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:<init>(497)) - The ping interval is 60000 ms.
2020-12-03 07:19:54,391 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(795)) - Connecting to /127.0.0.1:36744
2020-12-03 07:19:54,391 [IPC Server listener on 0] DEBUG ipc.Server (Server.java:register(3727)) - Server connection from 127.0.0.1:50116; # active connections: 1; # queued calls: 0
2020-12-03 07:19:54,391 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: NEGOTIATE

2020-12-03 07:19:54,392 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:54,392 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:create(175)) - Created SASL server with mechanism = DIGEST-MD5
2020-12-03 07:19:54,392 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50116
2020-12-03 07:19:54,393 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50116 Wrote 194 bytes.
2020-12-03 07:19:54,393 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:getServerToken(268)) - Get token info proto:interface org.apache.hadoop.hdfs.protocolPB.ClientDatanodeProtocolPB info:@org.apache.hadoop.security.token.TokenInfo(value=class org.apache.hadoop.hdfs.security.token.block.BlockTokenSelector)
2020-12-03 07:19:54,393 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:createSaslClient(251)) - Creating SASL DIGEST-MD5(TOKEN)  client to authenticate to service at default
2020-12-03 07:19:54,394 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:selectSaslClient(177)) - Use TOKEN authentication for protocol ClientDatanodeProtocolPB
2020-12-03 07:19:54,394 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(678)) - SASL client callback: setting username: CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=
2020-12-03 07:19:54,394 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(683)) - SASL client callback: setting userPassword
2020-12-03 07:19:54,394 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(688)) - SASL client callback: setting realm: default
2020-12-03 07:19:54,395 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: INITIATE
token: "charset=utf-8,username=\"CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=\",realm=\"default\",nonce=\"CLqACTCgGBsU70Wl1ejvpV5anWBI3EctLUWYAnJx\",nc=00000001,cnonce=\"ER4HuSTdemX4CB6u0UqEmUnc3ABvoENQyGAYsUUc\",digest-uri=\"/default\",maxbuf=65536,response=2628fd2196a33968e658459dfd7d84ba,qop=auth"
auths {
  method: "TOKEN"
  mechanism: "DIGEST-MD5"
  protocol: ""
  serverId: "default"
}

2020-12-03 07:19:54,395 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:54,396 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processSaslToken(2112)) - Have read input token of size 298 for processing by saslServer.evaluateResponse()
2020-12-03 07:19:54,396 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(310)) - SASL server DIGEST-MD5 callback: setting password for client: root (auth:SIMPLE)
2020-12-03 07:19:54,396 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(328)) - SASL server DIGEST-MD5 callback: setting canonicalized client ID: root
2020-12-03 07:19:54,397 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:buildSaslResponse(2129)) - Will send SUCCESS token of size 40 from saslServer.
2020-12-03 07:19:54,397 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2000)) - SASL server context established. Negotiated QoP is auth
2020-12-03 07:19:54,397 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2005)) - SASL server successfully authenticated client: root (auth:SIMPLE)
2020-12-03 07:19:54,397 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:saslProcess(2008)) - Auth successful for root (auth:SIMPLE)
2020-12-03 07:19:54,397 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50116
2020-12-03 07:19:54,397 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50116 Wrote 64 bytes.
2020-12-03 07:19:54,398 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(837)) - Negotiated QOP is :auth
2020-12-03 07:19:54,399 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1074)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: starting, having connections 1
2020-12-03 07:19:54,399 [IPC Parameter Sending Thread #0] DEBUG ipc.Client (Client.java:run(1137)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 sending #80 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength
2020-12-03 07:19:54,401 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-3
2020-12-03 07:19:54,402 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:authorizeConnection(2750)) - Successfully authorized userInfo {
}
protocol: "org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol"

2020-12-03 07:19:54,402 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #80
2020-12-03 07:19:54,402 [IPC Server handler 0 on default port 36744] DEBUG ipc.Server (Server.java:run(2902)) - IPC Server handler 0 on default port 36744: Call#80 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50116 for RpcKind RPC_PROTOCOL_BUFFER
2020-12-03 07:19:54,402 [IPC Server handler 0 on default port 36744] INFO  ipc.Server (ProtobufRpcEngine.java:call(505)) - Call: connectionProtocolName=org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol, method=getReplicaVisibleLength
2020-12-03 07:19:54,403 [IPC Server handler 0 on default port 36744] INFO  block.TestBlockToken (TestBlockToken.java:answer(151)) - Got: block_token_identifier (expiryDate=1606980111387, keyId=57518194, userId=root, blockPoolId=-10, blockId=-108, access modes=[READ, WRITE, COPY, REPLACE], storageTypes= [DISK], storageIds= [])
2020-12-03 07:19:54,404 [IPC Server handler 0 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1615)) - IPC Server handler 0 on default port 36744: responding to Call#80 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50116
2020-12-03 07:19:54,404 [IPC Server handler 0 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1634)) - IPC Server handler 0 on default port 36744: responding to Call#80 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50116 Wrote 43 bytes.
2020-12-03 07:19:54,404 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:receiveRpcResponse(1191)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 got value #80
2020-12-03 07:19:54,405 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(97)) - stopping client from cache: org.apache.hadoop.ipc.Client@632ceb35
2020-12-03 07:19:54,405 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:close(1283)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: closed
2020-12-03 07:19:54,405 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:close(3738)) - Socket Reader #1 for port 0: disconnecting client 127.0.0.1:50116. Number of active connections: 0
2020-12-03 07:19:54,405 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1092)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: stopped, remaining connections 0
2020-12-03 07:19:54,405 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(103)) - removing client from cache: org.apache.hadoop.ipc.Client@632ceb35
2020-12-03 07:19:54,405 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(110)) - stopping actual client because no more references remain: org.apache.hadoop.ipc.Client@632ceb35
2020-12-03 07:19:54,405 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:stop(1340)) - Stopping client
2020-12-03 07:19:54,406 [Listener at 0.0.0.0/36744] INFO  block.TestBlockToken (TestBlockToken.java:testBlockTokenRpcLeak(407)) - Num open fds:163
2020-12-03 07:19:54,407 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:getClient(63)) - getting client out of cache: org.apache.hadoop.ipc.Client@141e5bef
2020-12-03 07:19:54,407 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:<init>(497)) - The ping interval is 60000 ms.
2020-12-03 07:19:54,407 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(795)) - Connecting to /127.0.0.1:36744
2020-12-03 07:19:54,408 [IPC Server listener on 0] DEBUG ipc.Server (Server.java:register(3727)) - Server connection from 127.0.0.1:50118; # active connections: 1; # queued calls: 0
2020-12-03 07:19:54,408 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: NEGOTIATE

2020-12-03 07:19:54,409 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:54,409 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:create(175)) - Created SASL server with mechanism = DIGEST-MD5
2020-12-03 07:19:54,409 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50118
2020-12-03 07:19:54,409 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50118 Wrote 194 bytes.
2020-12-03 07:19:54,409 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:getServerToken(268)) - Get token info proto:interface org.apache.hadoop.hdfs.protocolPB.ClientDatanodeProtocolPB info:@org.apache.hadoop.security.token.TokenInfo(value=class org.apache.hadoop.hdfs.security.token.block.BlockTokenSelector)
2020-12-03 07:19:54,410 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:createSaslClient(251)) - Creating SASL DIGEST-MD5(TOKEN)  client to authenticate to service at default
2020-12-03 07:19:54,410 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:selectSaslClient(177)) - Use TOKEN authentication for protocol ClientDatanodeProtocolPB
2020-12-03 07:19:54,410 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(678)) - SASL client callback: setting username: CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=
2020-12-03 07:19:54,411 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(683)) - SASL client callback: setting userPassword
2020-12-03 07:19:54,411 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(688)) - SASL client callback: setting realm: default
2020-12-03 07:19:54,411 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: INITIATE
token: "charset=utf-8,username=\"CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=\",realm=\"default\",nonce=\"UHxKAO+gP0Csw/lk07Zhp5Om7FlW3isTe/DHFJpq\",nc=00000001,cnonce=\"fmR/pGH7/JdZ7nEZY8aVr55cwT65vAGDXo/Y6NcE\",digest-uri=\"/default\",maxbuf=65536,response=16063263cc15dcb4dc080d42241edd0a,qop=auth"
auths {
  method: "TOKEN"
  mechanism: "DIGEST-MD5"
  protocol: ""
  serverId: "default"
}

2020-12-03 07:19:54,412 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:54,412 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processSaslToken(2112)) - Have read input token of size 298 for processing by saslServer.evaluateResponse()
2020-12-03 07:19:54,412 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(310)) - SASL server DIGEST-MD5 callback: setting password for client: root (auth:SIMPLE)
2020-12-03 07:19:54,413 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(328)) - SASL server DIGEST-MD5 callback: setting canonicalized client ID: root
2020-12-03 07:19:54,413 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:buildSaslResponse(2129)) - Will send SUCCESS token of size 40 from saslServer.
2020-12-03 07:19:54,413 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2000)) - SASL server context established. Negotiated QoP is auth
2020-12-03 07:19:54,413 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2005)) - SASL server successfully authenticated client: root (auth:SIMPLE)
2020-12-03 07:19:54,413 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:saslProcess(2008)) - Auth successful for root (auth:SIMPLE)
2020-12-03 07:19:54,414 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50118
2020-12-03 07:19:54,414 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50118 Wrote 64 bytes.
2020-12-03 07:19:54,414 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(837)) - Negotiated QOP is :auth
2020-12-03 07:19:54,415 [IPC Parameter Sending Thread #0] DEBUG ipc.Client (Client.java:run(1137)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 sending #81 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength
2020-12-03 07:19:54,415 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1074)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: starting, having connections 1
2020-12-03 07:19:54,416 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-3
2020-12-03 07:19:54,416 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:authorizeConnection(2750)) - Successfully authorized userInfo {
}
protocol: "org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol"

2020-12-03 07:19:54,417 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #81
2020-12-03 07:19:54,417 [IPC Server handler 1 on default port 36744] DEBUG ipc.Server (Server.java:run(2902)) - IPC Server handler 1 on default port 36744: Call#81 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50118 for RpcKind RPC_PROTOCOL_BUFFER
2020-12-03 07:19:54,417 [IPC Server handler 1 on default port 36744] INFO  ipc.Server (ProtobufRpcEngine.java:call(505)) - Call: connectionProtocolName=org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol, method=getReplicaVisibleLength
2020-12-03 07:19:54,418 [IPC Server handler 1 on default port 36744] INFO  block.TestBlockToken (TestBlockToken.java:answer(151)) - Got: block_token_identifier (expiryDate=1606980111387, keyId=57518194, userId=root, blockPoolId=-10, blockId=-108, access modes=[READ, WRITE, COPY, REPLACE], storageTypes= [DISK], storageIds= [])
2020-12-03 07:19:54,418 [IPC Server handler 1 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1615)) - IPC Server handler 1 on default port 36744: responding to Call#81 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50118
2020-12-03 07:19:54,418 [IPC Server handler 1 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1634)) - IPC Server handler 1 on default port 36744: responding to Call#81 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50118 Wrote 43 bytes.
2020-12-03 07:19:54,418 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:receiveRpcResponse(1191)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 got value #81
2020-12-03 07:19:54,419 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(97)) - stopping client from cache: org.apache.hadoop.ipc.Client@141e5bef
2020-12-03 07:19:54,419 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:close(3738)) - Socket Reader #1 for port 0: disconnecting client 127.0.0.1:50118. Number of active connections: 0
2020-12-03 07:19:54,419 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:close(1283)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: closed
2020-12-03 07:19:54,419 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1092)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: stopped, remaining connections 0
2020-12-03 07:19:54,419 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(103)) - removing client from cache: org.apache.hadoop.ipc.Client@141e5bef
2020-12-03 07:19:54,419 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(110)) - stopping actual client because no more references remain: org.apache.hadoop.ipc.Client@141e5bef
2020-12-03 07:19:54,420 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:stop(1340)) - Stopping client
2020-12-03 07:19:54,420 [Listener at 0.0.0.0/36744] INFO  block.TestBlockToken (TestBlockToken.java:testBlockTokenRpcLeak(407)) - Num open fds:163
2020-12-03 07:19:54,422 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:getClient(63)) - getting client out of cache: org.apache.hadoop.ipc.Client@a3d9978
2020-12-03 07:19:54,422 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:<init>(497)) - The ping interval is 60000 ms.
2020-12-03 07:19:54,422 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(795)) - Connecting to /127.0.0.1:36744
2020-12-03 07:19:54,423 [IPC Server listener on 0] DEBUG ipc.Server (Server.java:register(3727)) - Server connection from 127.0.0.1:50120; # active connections: 1; # queued calls: 0
2020-12-03 07:19:54,423 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: NEGOTIATE

2020-12-03 07:19:54,423 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:54,423 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:create(175)) - Created SASL server with mechanism = DIGEST-MD5
2020-12-03 07:19:54,424 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50120
2020-12-03 07:19:54,424 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50120 Wrote 194 bytes.
2020-12-03 07:19:54,424 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:getServerToken(268)) - Get token info proto:interface org.apache.hadoop.hdfs.protocolPB.ClientDatanodeProtocolPB info:@org.apache.hadoop.security.token.TokenInfo(value=class org.apache.hadoop.hdfs.security.token.block.BlockTokenSelector)
2020-12-03 07:19:54,424 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:createSaslClient(251)) - Creating SASL DIGEST-MD5(TOKEN)  client to authenticate to service at default
2020-12-03 07:19:54,425 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:selectSaslClient(177)) - Use TOKEN authentication for protocol ClientDatanodeProtocolPB
2020-12-03 07:19:54,425 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(678)) - SASL client callback: setting username: CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=
2020-12-03 07:19:54,425 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(683)) - SASL client callback: setting userPassword
2020-12-03 07:19:54,425 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(688)) - SASL client callback: setting realm: default
2020-12-03 07:19:54,425 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: INITIATE
token: "charset=utf-8,username=\"CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=\",realm=\"default\",nonce=\"LNsqAR53KaN7N6SWzKsHFJhTlB0hf8SS6ahNMWaO\",nc=00000001,cnonce=\"J1Y2wlvgJ30zevFaLl3/xqTr7RcrovPSptVClEKA\",digest-uri=\"/default\",maxbuf=65536,response=5443ef473ba4f59f2a0fddd2d813aca0,qop=auth"
auths {
  method: "TOKEN"
  mechanism: "DIGEST-MD5"
  protocol: ""
  serverId: "default"
}

2020-12-03 07:19:54,426 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:54,426 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processSaslToken(2112)) - Have read input token of size 298 for processing by saslServer.evaluateResponse()
2020-12-03 07:19:54,427 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(310)) - SASL server DIGEST-MD5 callback: setting password for client: root (auth:SIMPLE)
2020-12-03 07:19:54,427 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(328)) - SASL server DIGEST-MD5 callback: setting canonicalized client ID: root
2020-12-03 07:19:54,428 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:buildSaslResponse(2129)) - Will send SUCCESS token of size 40 from saslServer.
2020-12-03 07:19:54,428 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2000)) - SASL server context established. Negotiated QoP is auth
2020-12-03 07:19:54,428 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2005)) - SASL server successfully authenticated client: root (auth:SIMPLE)
2020-12-03 07:19:54,428 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:saslProcess(2008)) - Auth successful for root (auth:SIMPLE)
2020-12-03 07:19:54,428 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50120
2020-12-03 07:19:54,429 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50120 Wrote 64 bytes.
2020-12-03 07:19:54,429 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(837)) - Negotiated QOP is :auth
2020-12-03 07:19:54,435 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1074)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: starting, having connections 1
2020-12-03 07:19:54,436 [IPC Parameter Sending Thread #0] DEBUG ipc.Client (Client.java:run(1137)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 sending #82 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength
2020-12-03 07:19:54,440 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-3
2020-12-03 07:19:54,441 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:authorizeConnection(2750)) - Successfully authorized userInfo {
}
protocol: "org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol"

2020-12-03 07:19:54,441 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #82
2020-12-03 07:19:54,441 [IPC Server handler 3 on default port 36744] DEBUG ipc.Server (Server.java:run(2902)) - IPC Server handler 3 on default port 36744: Call#82 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50120 for RpcKind RPC_PROTOCOL_BUFFER
2020-12-03 07:19:54,441 [IPC Server handler 3 on default port 36744] INFO  ipc.Server (ProtobufRpcEngine.java:call(505)) - Call: connectionProtocolName=org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol, method=getReplicaVisibleLength
2020-12-03 07:19:54,442 [IPC Server handler 3 on default port 36744] INFO  block.TestBlockToken (TestBlockToken.java:answer(151)) - Got: block_token_identifier (expiryDate=1606980111387, keyId=57518194, userId=root, blockPoolId=-10, blockId=-108, access modes=[READ, WRITE, COPY, REPLACE], storageTypes= [DISK], storageIds= [])
2020-12-03 07:19:54,443 [IPC Server handler 3 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1615)) - IPC Server handler 3 on default port 36744: responding to Call#82 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50120
2020-12-03 07:19:54,443 [IPC Server handler 3 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1634)) - IPC Server handler 3 on default port 36744: responding to Call#82 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50120 Wrote 43 bytes.
2020-12-03 07:19:54,443 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:receiveRpcResponse(1191)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 got value #82
2020-12-03 07:19:54,443 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(97)) - stopping client from cache: org.apache.hadoop.ipc.Client@a3d9978
2020-12-03 07:19:54,443 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:close(3738)) - Socket Reader #1 for port 0: disconnecting client 127.0.0.1:50120. Number of active connections: 0
2020-12-03 07:19:54,443 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:close(1283)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: closed
2020-12-03 07:19:54,444 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1092)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: stopped, remaining connections 0
2020-12-03 07:19:54,444 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(103)) - removing client from cache: org.apache.hadoop.ipc.Client@a3d9978
2020-12-03 07:19:54,444 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(110)) - stopping actual client because no more references remain: org.apache.hadoop.ipc.Client@a3d9978
2020-12-03 07:19:54,444 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:stop(1340)) - Stopping client
2020-12-03 07:19:54,445 [Listener at 0.0.0.0/36744] INFO  block.TestBlockToken (TestBlockToken.java:testBlockTokenRpcLeak(407)) - Num open fds:163
2020-12-03 07:19:54,446 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:getClient(63)) - getting client out of cache: org.apache.hadoop.ipc.Client@38089a5a
2020-12-03 07:19:54,447 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:<init>(497)) - The ping interval is 60000 ms.
2020-12-03 07:19:54,447 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(795)) - Connecting to /127.0.0.1:36744
2020-12-03 07:19:54,448 [IPC Server listener on 0] DEBUG ipc.Server (Server.java:register(3727)) - Server connection from 127.0.0.1:50122; # active connections: 1; # queued calls: 0
2020-12-03 07:19:54,449 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: NEGOTIATE

2020-12-03 07:19:54,452 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:54,452 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:create(175)) - Created SASL server with mechanism = DIGEST-MD5
2020-12-03 07:19:54,452 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50122
2020-12-03 07:19:54,452 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50122 Wrote 194 bytes.
2020-12-03 07:19:54,453 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:getServerToken(268)) - Get token info proto:interface org.apache.hadoop.hdfs.protocolPB.ClientDatanodeProtocolPB info:@org.apache.hadoop.security.token.TokenInfo(value=class org.apache.hadoop.hdfs.security.token.block.BlockTokenSelector)
2020-12-03 07:19:54,453 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:createSaslClient(251)) - Creating SASL DIGEST-MD5(TOKEN)  client to authenticate to service at default
2020-12-03 07:19:54,453 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:selectSaslClient(177)) - Use TOKEN authentication for protocol ClientDatanodeProtocolPB
2020-12-03 07:19:54,454 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(678)) - SASL client callback: setting username: CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=
2020-12-03 07:19:54,454 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(683)) - SASL client callback: setting userPassword
2020-12-03 07:19:54,454 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(688)) - SASL client callback: setting realm: default
2020-12-03 07:19:54,455 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: INITIATE
token: "charset=utf-8,username=\"CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=\",realm=\"default\",nonce=\"EM3p8oe46Mqb/Yby2kaFRSXPqx+n9nsm8FH/xrwN\",nc=00000001,cnonce=\"dcAiExOL3Db3wlppCfXtq2PH6JNpxpRwjtdyK317\",digest-uri=\"/default\",maxbuf=65536,response=431546a4974df65e429d0d45f478d15c,qop=auth"
auths {
  method: "TOKEN"
  mechanism: "DIGEST-MD5"
  protocol: ""
  serverId: "default"
}

2020-12-03 07:19:54,455 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:54,455 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processSaslToken(2112)) - Have read input token of size 298 for processing by saslServer.evaluateResponse()
2020-12-03 07:19:54,456 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(310)) - SASL server DIGEST-MD5 callback: setting password for client: root (auth:SIMPLE)
2020-12-03 07:19:54,457 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(328)) - SASL server DIGEST-MD5 callback: setting canonicalized client ID: root
2020-12-03 07:19:54,457 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:buildSaslResponse(2129)) - Will send SUCCESS token of size 40 from saslServer.
2020-12-03 07:19:54,457 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2000)) - SASL server context established. Negotiated QoP is auth
2020-12-03 07:19:54,457 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2005)) - SASL server successfully authenticated client: root (auth:SIMPLE)
2020-12-03 07:19:54,457 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:saslProcess(2008)) - Auth successful for root (auth:SIMPLE)
2020-12-03 07:19:54,457 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50122
2020-12-03 07:19:54,458 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50122 Wrote 64 bytes.
2020-12-03 07:19:54,458 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(837)) - Negotiated QOP is :auth
2020-12-03 07:19:54,459 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1074)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: starting, having connections 1
2020-12-03 07:19:54,459 [IPC Parameter Sending Thread #0] DEBUG ipc.Client (Client.java:run(1137)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 sending #83 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength
2020-12-03 07:19:54,460 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-3
2020-12-03 07:19:54,460 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:authorizeConnection(2750)) - Successfully authorized userInfo {
}
protocol: "org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol"

2020-12-03 07:19:54,460 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #83
2020-12-03 07:19:54,460 [IPC Server handler 2 on default port 36744] DEBUG ipc.Server (Server.java:run(2902)) - IPC Server handler 2 on default port 36744: Call#83 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50122 for RpcKind RPC_PROTOCOL_BUFFER
2020-12-03 07:19:54,460 [IPC Server handler 2 on default port 36744] INFO  ipc.Server (ProtobufRpcEngine.java:call(505)) - Call: connectionProtocolName=org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol, method=getReplicaVisibleLength
2020-12-03 07:19:54,461 [IPC Server handler 2 on default port 36744] INFO  block.TestBlockToken (TestBlockToken.java:answer(151)) - Got: block_token_identifier (expiryDate=1606980111387, keyId=57518194, userId=root, blockPoolId=-10, blockId=-108, access modes=[READ, WRITE, COPY, REPLACE], storageTypes= [DISK], storageIds= [])
2020-12-03 07:19:54,461 [IPC Server handler 2 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1615)) - IPC Server handler 2 on default port 36744: responding to Call#83 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50122
2020-12-03 07:19:54,461 [IPC Server handler 2 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1634)) - IPC Server handler 2 on default port 36744: responding to Call#83 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50122 Wrote 43 bytes.
2020-12-03 07:19:54,461 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:receiveRpcResponse(1191)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 got value #83
2020-12-03 07:19:54,462 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(97)) - stopping client from cache: org.apache.hadoop.ipc.Client@38089a5a
2020-12-03 07:19:54,462 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:close(1283)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: closed
2020-12-03 07:19:54,462 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:close(3738)) - Socket Reader #1 for port 0: disconnecting client 127.0.0.1:50122. Number of active connections: 0
2020-12-03 07:19:54,462 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1092)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: stopped, remaining connections 0
2020-12-03 07:19:54,462 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(103)) - removing client from cache: org.apache.hadoop.ipc.Client@38089a5a
2020-12-03 07:19:54,462 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(110)) - stopping actual client because no more references remain: org.apache.hadoop.ipc.Client@38089a5a
2020-12-03 07:19:54,463 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:stop(1340)) - Stopping client
2020-12-03 07:19:54,463 [Listener at 0.0.0.0/36744] INFO  block.TestBlockToken (TestBlockToken.java:testBlockTokenRpcLeak(407)) - Num open fds:163
2020-12-03 07:19:54,464 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:getClient(63)) - getting client out of cache: org.apache.hadoop.ipc.Client@39de3d36
2020-12-03 07:19:54,465 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:<init>(497)) - The ping interval is 60000 ms.
2020-12-03 07:19:54,465 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(795)) - Connecting to /127.0.0.1:36744
2020-12-03 07:19:54,465 [IPC Server listener on 0] DEBUG ipc.Server (Server.java:register(3727)) - Server connection from 127.0.0.1:50124; # active connections: 1; # queued calls: 0
2020-12-03 07:19:54,466 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: NEGOTIATE

2020-12-03 07:19:54,466 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:54,466 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:create(175)) - Created SASL server with mechanism = DIGEST-MD5
2020-12-03 07:19:54,466 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50124
2020-12-03 07:19:54,467 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50124 Wrote 194 bytes.
2020-12-03 07:19:54,467 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:getServerToken(268)) - Get token info proto:interface org.apache.hadoop.hdfs.protocolPB.ClientDatanodeProtocolPB info:@org.apache.hadoop.security.token.TokenInfo(value=class org.apache.hadoop.hdfs.security.token.block.BlockTokenSelector)
2020-12-03 07:19:54,467 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:createSaslClient(251)) - Creating SASL DIGEST-MD5(TOKEN)  client to authenticate to service at default
2020-12-03 07:19:54,468 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:selectSaslClient(177)) - Use TOKEN authentication for protocol ClientDatanodeProtocolPB
2020-12-03 07:19:54,468 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(678)) - SASL client callback: setting username: CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=
2020-12-03 07:19:54,468 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(683)) - SASL client callback: setting userPassword
2020-12-03 07:19:54,468 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(688)) - SASL client callback: setting realm: default
2020-12-03 07:19:54,469 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: INITIATE
token: "charset=utf-8,username=\"CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=\",realm=\"default\",nonce=\"EWWsR5ihoMPwLg23nVJOr2P7oWkb4oTbvsWaFUIp\",nc=00000001,cnonce=\"R4x8BpCT7WReI1aTJWIGBagPiSfAHfsQGtSfxFlD\",digest-uri=\"/default\",maxbuf=65536,response=c4f884c0a6a38b22cd4fab7933693fae,qop=auth"
auths {
  method: "TOKEN"
  mechanism: "DIGEST-MD5"
  protocol: ""
  serverId: "default"
}

2020-12-03 07:19:54,469 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:54,470 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processSaslToken(2112)) - Have read input token of size 298 for processing by saslServer.evaluateResponse()
2020-12-03 07:19:54,470 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(310)) - SASL server DIGEST-MD5 callback: setting password for client: root (auth:SIMPLE)
2020-12-03 07:19:54,471 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(328)) - SASL server DIGEST-MD5 callback: setting canonicalized client ID: root
2020-12-03 07:19:54,471 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:buildSaslResponse(2129)) - Will send SUCCESS token of size 40 from saslServer.
2020-12-03 07:19:54,471 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2000)) - SASL server context established. Negotiated QoP is auth
2020-12-03 07:19:54,471 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2005)) - SASL server successfully authenticated client: root (auth:SIMPLE)
2020-12-03 07:19:54,471 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:saslProcess(2008)) - Auth successful for root (auth:SIMPLE)
2020-12-03 07:19:54,472 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50124
2020-12-03 07:19:54,472 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50124 Wrote 64 bytes.
2020-12-03 07:19:54,472 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(837)) - Negotiated QOP is :auth
2020-12-03 07:19:54,476 [IPC Parameter Sending Thread #0] DEBUG ipc.Client (Client.java:run(1137)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 sending #84 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength
2020-12-03 07:19:54,477 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-3
2020-12-03 07:19:54,477 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:authorizeConnection(2750)) - Successfully authorized userInfo {
}
protocol: "org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol"

2020-12-03 07:19:54,477 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #84
2020-12-03 07:19:54,477 [IPC Server handler 4 on default port 36744] DEBUG ipc.Server (Server.java:run(2902)) - IPC Server handler 4 on default port 36744: Call#84 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50124 for RpcKind RPC_PROTOCOL_BUFFER
2020-12-03 07:19:54,478 [IPC Server handler 4 on default port 36744] INFO  ipc.Server (ProtobufRpcEngine.java:call(505)) - Call: connectionProtocolName=org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol, method=getReplicaVisibleLength
2020-12-03 07:19:54,479 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1074)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: starting, having connections 1
2020-12-03 07:19:54,484 [IPC Server handler 4 on default port 36744] INFO  block.TestBlockToken (TestBlockToken.java:answer(151)) - Got: block_token_identifier (expiryDate=1606980111387, keyId=57518194, userId=root, blockPoolId=-10, blockId=-108, access modes=[READ, WRITE, COPY, REPLACE], storageTypes= [DISK], storageIds= [])
2020-12-03 07:19:54,489 [IPC Server handler 4 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1615)) - IPC Server handler 4 on default port 36744: responding to Call#84 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50124
2020-12-03 07:19:54,489 [IPC Server handler 4 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1634)) - IPC Server handler 4 on default port 36744: responding to Call#84 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50124 Wrote 43 bytes.
2020-12-03 07:19:54,490 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:receiveRpcResponse(1191)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 got value #84
2020-12-03 07:19:54,490 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:close(1283)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: closed
2020-12-03 07:19:54,490 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:close(3738)) - Socket Reader #1 for port 0: disconnecting client 127.0.0.1:50124. Number of active connections: 0
2020-12-03 07:19:54,490 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1092)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: stopped, remaining connections 0
2020-12-03 07:19:54,490 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(97)) - stopping client from cache: org.apache.hadoop.ipc.Client@39de3d36
2020-12-03 07:19:54,491 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(103)) - removing client from cache: org.apache.hadoop.ipc.Client@39de3d36
2020-12-03 07:19:54,491 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(110)) - stopping actual client because no more references remain: org.apache.hadoop.ipc.Client@39de3d36
2020-12-03 07:19:54,491 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:stop(1340)) - Stopping client
2020-12-03 07:19:54,492 [Listener at 0.0.0.0/36744] INFO  block.TestBlockToken (TestBlockToken.java:testBlockTokenRpcLeak(407)) - Num open fds:163
2020-12-03 07:19:54,493 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:getClient(63)) - getting client out of cache: org.apache.hadoop.ipc.Client@7ae42ce3
2020-12-03 07:19:54,500 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:<init>(497)) - The ping interval is 60000 ms.
2020-12-03 07:19:54,501 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(795)) - Connecting to /127.0.0.1:36744
2020-12-03 07:19:54,502 [IPC Server listener on 0] DEBUG ipc.Server (Server.java:register(3727)) - Server connection from 127.0.0.1:50126; # active connections: 1; # queued calls: 0
2020-12-03 07:19:54,502 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: NEGOTIATE

2020-12-03 07:19:54,504 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:54,504 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:create(175)) - Created SASL server with mechanism = DIGEST-MD5
2020-12-03 07:19:54,504 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50126
2020-12-03 07:19:54,505 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50126 Wrote 194 bytes.
2020-12-03 07:19:54,505 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:getServerToken(268)) - Get token info proto:interface org.apache.hadoop.hdfs.protocolPB.ClientDatanodeProtocolPB info:@org.apache.hadoop.security.token.TokenInfo(value=class org.apache.hadoop.hdfs.security.token.block.BlockTokenSelector)
2020-12-03 07:19:54,507 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:createSaslClient(251)) - Creating SASL DIGEST-MD5(TOKEN)  client to authenticate to service at default
2020-12-03 07:19:54,508 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:selectSaslClient(177)) - Use TOKEN authentication for protocol ClientDatanodeProtocolPB
2020-12-03 07:19:54,508 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(678)) - SASL client callback: setting username: CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=
2020-12-03 07:19:54,508 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(683)) - SASL client callback: setting userPassword
2020-12-03 07:19:54,508 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(688)) - SASL client callback: setting realm: default
2020-12-03 07:19:54,509 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: INITIATE
token: "charset=utf-8,username=\"CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=\",realm=\"default\",nonce=\"z3irImQRBMLWFicV6B2cII5i5SHbq91TyB7xFuLX\",nc=00000001,cnonce=\"II1DEDrG1t3Erw7udlLVf70pEPPkP7SYFo072t9P\",digest-uri=\"/default\",maxbuf=65536,response=8ff54c5599bd77add5954c33d01daa83,qop=auth"
auths {
  method: "TOKEN"
  mechanism: "DIGEST-MD5"
  protocol: ""
  serverId: "default"
}

2020-12-03 07:19:54,509 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:54,509 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processSaslToken(2112)) - Have read input token of size 298 for processing by saslServer.evaluateResponse()
2020-12-03 07:19:54,510 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(310)) - SASL server DIGEST-MD5 callback: setting password for client: root (auth:SIMPLE)
2020-12-03 07:19:54,511 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(328)) - SASL server DIGEST-MD5 callback: setting canonicalized client ID: root
2020-12-03 07:19:54,511 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:buildSaslResponse(2129)) - Will send SUCCESS token of size 40 from saslServer.
2020-12-03 07:19:54,511 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2000)) - SASL server context established. Negotiated QoP is auth
2020-12-03 07:19:54,511 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2005)) - SASL server successfully authenticated client: root (auth:SIMPLE)
2020-12-03 07:19:54,511 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:saslProcess(2008)) - Auth successful for root (auth:SIMPLE)
2020-12-03 07:19:54,512 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50126
2020-12-03 07:19:54,512 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50126 Wrote 64 bytes.
2020-12-03 07:19:54,512 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(837)) - Negotiated QOP is :auth
2020-12-03 07:19:54,513 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1074)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: starting, having connections 1
2020-12-03 07:19:54,513 [IPC Parameter Sending Thread #0] DEBUG ipc.Client (Client.java:run(1137)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 sending #85 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength
2020-12-03 07:19:54,514 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-3
2020-12-03 07:19:54,514 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:authorizeConnection(2750)) - Successfully authorized userInfo {
}
protocol: "org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol"

2020-12-03 07:19:54,514 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #85
2020-12-03 07:19:54,515 [IPC Server handler 0 on default port 36744] DEBUG ipc.Server (Server.java:run(2902)) - IPC Server handler 0 on default port 36744: Call#85 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50126 for RpcKind RPC_PROTOCOL_BUFFER
2020-12-03 07:19:54,515 [IPC Server handler 0 on default port 36744] INFO  ipc.Server (ProtobufRpcEngine.java:call(505)) - Call: connectionProtocolName=org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol, method=getReplicaVisibleLength
2020-12-03 07:19:54,515 [IPC Server handler 0 on default port 36744] INFO  block.TestBlockToken (TestBlockToken.java:answer(151)) - Got: block_token_identifier (expiryDate=1606980111387, keyId=57518194, userId=root, blockPoolId=-10, blockId=-108, access modes=[READ, WRITE, COPY, REPLACE], storageTypes= [DISK], storageIds= [])
2020-12-03 07:19:54,516 [IPC Server handler 0 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1615)) - IPC Server handler 0 on default port 36744: responding to Call#85 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50126
2020-12-03 07:19:54,516 [IPC Server handler 0 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1634)) - IPC Server handler 0 on default port 36744: responding to Call#85 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50126 Wrote 43 bytes.
2020-12-03 07:19:54,516 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:receiveRpcResponse(1191)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 got value #85
2020-12-03 07:19:54,516 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(97)) - stopping client from cache: org.apache.hadoop.ipc.Client@7ae42ce3
2020-12-03 07:19:54,517 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(103)) - removing client from cache: org.apache.hadoop.ipc.Client@7ae42ce3
2020-12-03 07:19:54,517 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(110)) - stopping actual client because no more references remain: org.apache.hadoop.ipc.Client@7ae42ce3
2020-12-03 07:19:54,517 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:stop(1340)) - Stopping client
2020-12-03 07:19:54,517 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:close(3738)) - Socket Reader #1 for port 0: disconnecting client 127.0.0.1:50126. Number of active connections: 0
2020-12-03 07:19:54,516 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:close(1283)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: closed
2020-12-03 07:19:54,517 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1092)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: stopped, remaining connections 0
2020-12-03 07:19:54,518 [Listener at 0.0.0.0/36744] INFO  block.TestBlockToken (TestBlockToken.java:testBlockTokenRpcLeak(407)) - Num open fds:164
2020-12-03 07:19:54,518 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:getClient(63)) - getting client out of cache: org.apache.hadoop.ipc.Client@c94fd30
2020-12-03 07:19:54,519 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:<init>(497)) - The ping interval is 60000 ms.
2020-12-03 07:19:54,519 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(795)) - Connecting to /127.0.0.1:36744
2020-12-03 07:19:54,519 [IPC Server listener on 0] DEBUG ipc.Server (Server.java:register(3727)) - Server connection from 127.0.0.1:50128; # active connections: 1; # queued calls: 0
2020-12-03 07:19:54,520 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: NEGOTIATE

2020-12-03 07:19:54,520 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:54,520 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:create(175)) - Created SASL server with mechanism = DIGEST-MD5
2020-12-03 07:19:54,521 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50128
2020-12-03 07:19:54,521 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50128 Wrote 194 bytes.
2020-12-03 07:19:54,521 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:getServerToken(268)) - Get token info proto:interface org.apache.hadoop.hdfs.protocolPB.ClientDatanodeProtocolPB info:@org.apache.hadoop.security.token.TokenInfo(value=class org.apache.hadoop.hdfs.security.token.block.BlockTokenSelector)
2020-12-03 07:19:54,521 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:createSaslClient(251)) - Creating SASL DIGEST-MD5(TOKEN)  client to authenticate to service at default
2020-12-03 07:19:54,522 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:selectSaslClient(177)) - Use TOKEN authentication for protocol ClientDatanodeProtocolPB
2020-12-03 07:19:54,522 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(678)) - SASL client callback: setting username: CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=
2020-12-03 07:19:54,522 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(683)) - SASL client callback: setting userPassword
2020-12-03 07:19:54,522 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(688)) - SASL client callback: setting realm: default
2020-12-03 07:19:54,523 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: INITIATE
token: "charset=utf-8,username=\"CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=\",realm=\"default\",nonce=\"x0LQNlm1MF+gk1njml93NXIj6ybzW/cEV0y6tbPo\",nc=00000001,cnonce=\"NcYaqgjoDzzQ77M92iHX/xq9PT/wif/dLJhHPZvx\",digest-uri=\"/default\",maxbuf=65536,response=15e3d07c8cd0d6b8aa83090c4cd57256,qop=auth"
auths {
  method: "TOKEN"
  mechanism: "DIGEST-MD5"
  protocol: ""
  serverId: "default"
}

2020-12-03 07:19:54,523 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:54,523 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processSaslToken(2112)) - Have read input token of size 298 for processing by saslServer.evaluateResponse()
2020-12-03 07:19:54,524 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(310)) - SASL server DIGEST-MD5 callback: setting password for client: root (auth:SIMPLE)
2020-12-03 07:19:54,525 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(328)) - SASL server DIGEST-MD5 callback: setting canonicalized client ID: root
2020-12-03 07:19:54,525 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:buildSaslResponse(2129)) - Will send SUCCESS token of size 40 from saslServer.
2020-12-03 07:19:54,525 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2000)) - SASL server context established. Negotiated QoP is auth
2020-12-03 07:19:54,525 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2005)) - SASL server successfully authenticated client: root (auth:SIMPLE)
2020-12-03 07:19:54,525 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:saslProcess(2008)) - Auth successful for root (auth:SIMPLE)
2020-12-03 07:19:54,526 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50128
2020-12-03 07:19:54,526 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50128 Wrote 64 bytes.
2020-12-03 07:19:54,526 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(837)) - Negotiated QOP is :auth
2020-12-03 07:19:54,527 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1074)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: starting, having connections 1
2020-12-03 07:19:54,527 [IPC Parameter Sending Thread #0] DEBUG ipc.Client (Client.java:run(1137)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 sending #86 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength
2020-12-03 07:19:54,529 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-3
2020-12-03 07:19:54,529 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:authorizeConnection(2750)) - Successfully authorized userInfo {
}
protocol: "org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol"

2020-12-03 07:19:54,529 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #86
2020-12-03 07:19:54,529 [IPC Server handler 1 on default port 36744] DEBUG ipc.Server (Server.java:run(2902)) - IPC Server handler 1 on default port 36744: Call#86 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50128 for RpcKind RPC_PROTOCOL_BUFFER
2020-12-03 07:19:54,530 [IPC Server handler 1 on default port 36744] INFO  ipc.Server (ProtobufRpcEngine.java:call(505)) - Call: connectionProtocolName=org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol, method=getReplicaVisibleLength
2020-12-03 07:19:54,530 [IPC Server handler 1 on default port 36744] INFO  block.TestBlockToken (TestBlockToken.java:answer(151)) - Got: block_token_identifier (expiryDate=1606980111387, keyId=57518194, userId=root, blockPoolId=-10, blockId=-108, access modes=[READ, WRITE, COPY, REPLACE], storageTypes= [DISK], storageIds= [])
2020-12-03 07:19:54,531 [IPC Server handler 1 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1615)) - IPC Server handler 1 on default port 36744: responding to Call#86 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50128
2020-12-03 07:19:54,531 [IPC Server handler 1 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1634)) - IPC Server handler 1 on default port 36744: responding to Call#86 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50128 Wrote 43 bytes.
2020-12-03 07:19:54,531 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:receiveRpcResponse(1191)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 got value #86
2020-12-03 07:19:54,531 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(97)) - stopping client from cache: org.apache.hadoop.ipc.Client@c94fd30
2020-12-03 07:19:54,532 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(103)) - removing client from cache: org.apache.hadoop.ipc.Client@c94fd30
2020-12-03 07:19:54,532 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(110)) - stopping actual client because no more references remain: org.apache.hadoop.ipc.Client@c94fd30
2020-12-03 07:19:54,532 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:stop(1340)) - Stopping client
2020-12-03 07:19:54,532 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:close(3738)) - Socket Reader #1 for port 0: disconnecting client 127.0.0.1:50128. Number of active connections: 0
2020-12-03 07:19:54,532 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:close(1283)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: closed
2020-12-03 07:19:54,532 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1092)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: stopped, remaining connections 0
2020-12-03 07:19:54,533 [Listener at 0.0.0.0/36744] INFO  block.TestBlockToken (TestBlockToken.java:testBlockTokenRpcLeak(407)) - Num open fds:164
2020-12-03 07:19:54,534 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:getClient(63)) - getting client out of cache: org.apache.hadoop.ipc.Client@45312be2
2020-12-03 07:19:54,534 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:<init>(497)) - The ping interval is 60000 ms.
2020-12-03 07:19:54,535 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(795)) - Connecting to /127.0.0.1:36744
2020-12-03 07:19:54,535 [IPC Server listener on 0] DEBUG ipc.Server (Server.java:register(3727)) - Server connection from 127.0.0.1:50130; # active connections: 1; # queued calls: 0
2020-12-03 07:19:54,536 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: NEGOTIATE

2020-12-03 07:19:54,537 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:54,538 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:create(175)) - Created SASL server with mechanism = DIGEST-MD5
2020-12-03 07:19:54,538 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50130
2020-12-03 07:19:54,538 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50130 Wrote 194 bytes.
2020-12-03 07:19:54,539 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:getServerToken(268)) - Get token info proto:interface org.apache.hadoop.hdfs.protocolPB.ClientDatanodeProtocolPB info:@org.apache.hadoop.security.token.TokenInfo(value=class org.apache.hadoop.hdfs.security.token.block.BlockTokenSelector)
2020-12-03 07:19:54,539 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:createSaslClient(251)) - Creating SASL DIGEST-MD5(TOKEN)  client to authenticate to service at default
2020-12-03 07:19:54,539 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:selectSaslClient(177)) - Use TOKEN authentication for protocol ClientDatanodeProtocolPB
2020-12-03 07:19:54,540 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(678)) - SASL client callback: setting username: CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=
2020-12-03 07:19:54,540 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(683)) - SASL client callback: setting userPassword
2020-12-03 07:19:54,540 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(688)) - SASL client callback: setting realm: default
2020-12-03 07:19:54,541 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: INITIATE
token: "charset=utf-8,username=\"CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=\",realm=\"default\",nonce=\"d/bGpGcYSr1nAtSfotlfy14puEOucJtpvUxsA64u\",nc=00000001,cnonce=\"7tpKrEN5KmYGz5Ig+v/3FttwUjTLZtU3WtOgAUJ8\",digest-uri=\"/default\",maxbuf=65536,response=eec392bb4ec1404834752330d15c439c,qop=auth"
auths {
  method: "TOKEN"
  mechanism: "DIGEST-MD5"
  protocol: ""
  serverId: "default"
}

2020-12-03 07:19:54,541 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:54,541 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processSaslToken(2112)) - Have read input token of size 298 for processing by saslServer.evaluateResponse()
2020-12-03 07:19:54,542 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(310)) - SASL server DIGEST-MD5 callback: setting password for client: root (auth:SIMPLE)
2020-12-03 07:19:54,542 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(328)) - SASL server DIGEST-MD5 callback: setting canonicalized client ID: root
2020-12-03 07:19:54,542 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:buildSaslResponse(2129)) - Will send SUCCESS token of size 40 from saslServer.
2020-12-03 07:19:54,542 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2000)) - SASL server context established. Negotiated QoP is auth
2020-12-03 07:19:54,542 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2005)) - SASL server successfully authenticated client: root (auth:SIMPLE)
2020-12-03 07:19:54,542 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:saslProcess(2008)) - Auth successful for root (auth:SIMPLE)
2020-12-03 07:19:54,543 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50130
2020-12-03 07:19:54,543 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50130 Wrote 64 bytes.
2020-12-03 07:19:54,543 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(837)) - Negotiated QOP is :auth
2020-12-03 07:19:54,544 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1074)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: starting, having connections 1
2020-12-03 07:19:54,544 [IPC Parameter Sending Thread #0] DEBUG ipc.Client (Client.java:run(1137)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 sending #87 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength
2020-12-03 07:19:54,554 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-3
2020-12-03 07:19:54,554 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:authorizeConnection(2750)) - Successfully authorized userInfo {
}
protocol: "org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol"

2020-12-03 07:19:54,554 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #87
2020-12-03 07:19:54,555 [IPC Server handler 3 on default port 36744] DEBUG ipc.Server (Server.java:run(2902)) - IPC Server handler 3 on default port 36744: Call#87 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50130 for RpcKind RPC_PROTOCOL_BUFFER
2020-12-03 07:19:54,555 [IPC Server handler 3 on default port 36744] INFO  ipc.Server (ProtobufRpcEngine.java:call(505)) - Call: connectionProtocolName=org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol, method=getReplicaVisibleLength
2020-12-03 07:19:54,556 [IPC Server handler 3 on default port 36744] INFO  block.TestBlockToken (TestBlockToken.java:answer(151)) - Got: block_token_identifier (expiryDate=1606980111387, keyId=57518194, userId=root, blockPoolId=-10, blockId=-108, access modes=[READ, WRITE, COPY, REPLACE], storageTypes= [DISK], storageIds= [])
2020-12-03 07:19:54,556 [IPC Server handler 3 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1615)) - IPC Server handler 3 on default port 36744: responding to Call#87 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50130
2020-12-03 07:19:54,557 [IPC Server handler 3 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1634)) - IPC Server handler 3 on default port 36744: responding to Call#87 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50130 Wrote 43 bytes.
2020-12-03 07:19:54,560 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:receiveRpcResponse(1191)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 got value #87
2020-12-03 07:19:54,560 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:close(1283)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: closed
2020-12-03 07:19:54,561 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1092)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: stopped, remaining connections 0
2020-12-03 07:19:54,561 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:close(3738)) - Socket Reader #1 for port 0: disconnecting client 127.0.0.1:50130. Number of active connections: 0
2020-12-03 07:19:54,564 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(97)) - stopping client from cache: org.apache.hadoop.ipc.Client@45312be2
2020-12-03 07:19:54,564 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(103)) - removing client from cache: org.apache.hadoop.ipc.Client@45312be2
2020-12-03 07:19:54,564 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(110)) - stopping actual client because no more references remain: org.apache.hadoop.ipc.Client@45312be2
2020-12-03 07:19:54,564 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:stop(1340)) - Stopping client
2020-12-03 07:19:54,565 [Listener at 0.0.0.0/36744] INFO  block.TestBlockToken (TestBlockToken.java:testBlockTokenRpcLeak(407)) - Num open fds:163
2020-12-03 07:19:54,566 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:getClient(63)) - getting client out of cache: org.apache.hadoop.ipc.Client@42b02722
2020-12-03 07:19:54,566 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:<init>(497)) - The ping interval is 60000 ms.
2020-12-03 07:19:54,566 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(795)) - Connecting to /127.0.0.1:36744
2020-12-03 07:19:54,567 [IPC Server listener on 0] DEBUG ipc.Server (Server.java:register(3727)) - Server connection from 127.0.0.1:50132; # active connections: 1; # queued calls: 0
2020-12-03 07:19:54,568 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: NEGOTIATE

2020-12-03 07:19:54,568 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:54,569 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:create(175)) - Created SASL server with mechanism = DIGEST-MD5
2020-12-03 07:19:54,569 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50132
2020-12-03 07:19:54,569 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50132 Wrote 194 bytes.
2020-12-03 07:19:54,569 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:getServerToken(268)) - Get token info proto:interface org.apache.hadoop.hdfs.protocolPB.ClientDatanodeProtocolPB info:@org.apache.hadoop.security.token.TokenInfo(value=class org.apache.hadoop.hdfs.security.token.block.BlockTokenSelector)
2020-12-03 07:19:54,570 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:createSaslClient(251)) - Creating SASL DIGEST-MD5(TOKEN)  client to authenticate to service at default
2020-12-03 07:19:54,570 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:selectSaslClient(177)) - Use TOKEN authentication for protocol ClientDatanodeProtocolPB
2020-12-03 07:19:54,570 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(678)) - SASL client callback: setting username: CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=
2020-12-03 07:19:54,570 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(683)) - SASL client callback: setting userPassword
2020-12-03 07:19:54,571 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(688)) - SASL client callback: setting realm: default
2020-12-03 07:19:54,571 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: INITIATE
token: "charset=utf-8,username=\"CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=\",realm=\"default\",nonce=\"rmF8iicdUTms6z+FSorifnE/MyENoYkk6fwLizV3\",nc=00000001,cnonce=\"Q5ERyUnIM+zDhNQGeOeDFzgnyG09EwkPNujuBa3/\",digest-uri=\"/default\",maxbuf=65536,response=562f6852d10f1e53c8e1e05b47c55493,qop=auth"
auths {
  method: "TOKEN"
  mechanism: "DIGEST-MD5"
  protocol: ""
  serverId: "default"
}

2020-12-03 07:19:54,571 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:54,572 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processSaslToken(2112)) - Have read input token of size 298 for processing by saslServer.evaluateResponse()
2020-12-03 07:19:54,572 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(310)) - SASL server DIGEST-MD5 callback: setting password for client: root (auth:SIMPLE)
2020-12-03 07:19:54,573 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(328)) - SASL server DIGEST-MD5 callback: setting canonicalized client ID: root
2020-12-03 07:19:54,573 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:buildSaslResponse(2129)) - Will send SUCCESS token of size 40 from saslServer.
2020-12-03 07:19:54,573 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2000)) - SASL server context established. Negotiated QoP is auth
2020-12-03 07:19:54,573 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2005)) - SASL server successfully authenticated client: root (auth:SIMPLE)
2020-12-03 07:19:54,573 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:saslProcess(2008)) - Auth successful for root (auth:SIMPLE)
2020-12-03 07:19:54,573 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50132
2020-12-03 07:19:54,573 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50132 Wrote 64 bytes.
2020-12-03 07:19:54,577 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(837)) - Negotiated QOP is :auth
2020-12-03 07:19:54,578 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1074)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: starting, having connections 1
2020-12-03 07:19:54,580 [IPC Parameter Sending Thread #0] DEBUG ipc.Client (Client.java:run(1137)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 sending #88 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength
2020-12-03 07:19:54,580 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-3
2020-12-03 07:19:54,580 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:authorizeConnection(2750)) - Successfully authorized userInfo {
}
protocol: "org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol"

2020-12-03 07:19:54,581 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #88
2020-12-03 07:19:54,581 [IPC Server handler 2 on default port 36744] DEBUG ipc.Server (Server.java:run(2902)) - IPC Server handler 2 on default port 36744: Call#88 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50132 for RpcKind RPC_PROTOCOL_BUFFER
2020-12-03 07:19:54,581 [IPC Server handler 2 on default port 36744] INFO  ipc.Server (ProtobufRpcEngine.java:call(505)) - Call: connectionProtocolName=org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol, method=getReplicaVisibleLength
2020-12-03 07:19:54,582 [IPC Server handler 2 on default port 36744] INFO  block.TestBlockToken (TestBlockToken.java:answer(151)) - Got: block_token_identifier (expiryDate=1606980111387, keyId=57518194, userId=root, blockPoolId=-10, blockId=-108, access modes=[READ, WRITE, COPY, REPLACE], storageTypes= [DISK], storageIds= [])
2020-12-03 07:19:54,582 [IPC Server handler 2 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1615)) - IPC Server handler 2 on default port 36744: responding to Call#88 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50132
2020-12-03 07:19:54,583 [IPC Server handler 2 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1634)) - IPC Server handler 2 on default port 36744: responding to Call#88 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50132 Wrote 43 bytes.
2020-12-03 07:19:54,583 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:receiveRpcResponse(1191)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 got value #88
2020-12-03 07:19:54,583 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:close(1283)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: closed
2020-12-03 07:19:54,583 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1092)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: stopped, remaining connections 0
2020-12-03 07:19:54,583 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(97)) - stopping client from cache: org.apache.hadoop.ipc.Client@42b02722
2020-12-03 07:19:54,583 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(103)) - removing client from cache: org.apache.hadoop.ipc.Client@42b02722
2020-12-03 07:19:54,584 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(110)) - stopping actual client because no more references remain: org.apache.hadoop.ipc.Client@42b02722
2020-12-03 07:19:54,584 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:stop(1340)) - Stopping client
2020-12-03 07:19:54,585 [Listener at 0.0.0.0/36744] INFO  block.TestBlockToken (TestBlockToken.java:testBlockTokenRpcLeak(407)) - Num open fds:164
2020-12-03 07:19:54,586 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:getClient(63)) - getting client out of cache: org.apache.hadoop.ipc.Client@2f62ea70
2020-12-03 07:19:54,587 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:<init>(497)) - The ping interval is 60000 ms.
2020-12-03 07:19:54,587 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(795)) - Connecting to /127.0.0.1:36744
2020-12-03 07:19:54,589 [IPC Server listener on 0] DEBUG ipc.Server (Server.java:register(3727)) - Server connection from 127.0.0.1:50134; # active connections: 1; # queued calls: 0
2020-12-03 07:19:54,587 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:close(3738)) - Socket Reader #1 for port 0: disconnecting client 127.0.0.1:50132. Number of active connections: 0
2020-12-03 07:19:54,590 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: NEGOTIATE

2020-12-03 07:19:54,590 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:54,590 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:create(175)) - Created SASL server with mechanism = DIGEST-MD5
2020-12-03 07:19:54,591 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50134
2020-12-03 07:19:54,591 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50134 Wrote 194 bytes.
2020-12-03 07:19:54,591 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:getServerToken(268)) - Get token info proto:interface org.apache.hadoop.hdfs.protocolPB.ClientDatanodeProtocolPB info:@org.apache.hadoop.security.token.TokenInfo(value=class org.apache.hadoop.hdfs.security.token.block.BlockTokenSelector)
2020-12-03 07:19:54,592 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:createSaslClient(251)) - Creating SASL DIGEST-MD5(TOKEN)  client to authenticate to service at default
2020-12-03 07:19:54,592 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:selectSaslClient(177)) - Use TOKEN authentication for protocol ClientDatanodeProtocolPB
2020-12-03 07:19:54,592 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(678)) - SASL client callback: setting username: CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=
2020-12-03 07:19:54,593 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(683)) - SASL client callback: setting userPassword
2020-12-03 07:19:54,593 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(688)) - SASL client callback: setting realm: default
2020-12-03 07:19:54,593 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: INITIATE
token: "charset=utf-8,username=\"CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=\",realm=\"default\",nonce=\"Rn4+J+2o1P7ueO4P5OPyjFv21fksBrHyd2gfd3N0\",nc=00000001,cnonce=\"7FPvkfGBim9UgizmModVxa12rNqB2v8CymaHklbC\",digest-uri=\"/default\",maxbuf=65536,response=30341d1d06ee7c455617143c3c8aaa34,qop=auth"
auths {
  method: "TOKEN"
  mechanism: "DIGEST-MD5"
  protocol: ""
  serverId: "default"
}

2020-12-03 07:19:54,594 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:54,594 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processSaslToken(2112)) - Have read input token of size 298 for processing by saslServer.evaluateResponse()
2020-12-03 07:19:54,595 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(310)) - SASL server DIGEST-MD5 callback: setting password for client: root (auth:SIMPLE)
2020-12-03 07:19:54,595 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(328)) - SASL server DIGEST-MD5 callback: setting canonicalized client ID: root
2020-12-03 07:19:54,595 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:buildSaslResponse(2129)) - Will send SUCCESS token of size 40 from saslServer.
2020-12-03 07:19:54,595 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2000)) - SASL server context established. Negotiated QoP is auth
2020-12-03 07:19:54,595 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2005)) - SASL server successfully authenticated client: root (auth:SIMPLE)
2020-12-03 07:19:54,596 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:saslProcess(2008)) - Auth successful for root (auth:SIMPLE)
2020-12-03 07:19:54,596 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50134
2020-12-03 07:19:54,596 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50134 Wrote 64 bytes.
2020-12-03 07:19:54,596 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(837)) - Negotiated QOP is :auth
2020-12-03 07:19:54,597 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1074)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: starting, having connections 1
2020-12-03 07:19:54,597 [IPC Parameter Sending Thread #0] DEBUG ipc.Client (Client.java:run(1137)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 sending #89 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength
2020-12-03 07:19:54,599 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-3
2020-12-03 07:19:54,599 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:authorizeConnection(2750)) - Successfully authorized userInfo {
}
protocol: "org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol"

2020-12-03 07:19:54,599 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #89
2020-12-03 07:19:54,600 [IPC Server handler 4 on default port 36744] DEBUG ipc.Server (Server.java:run(2902)) - IPC Server handler 4 on default port 36744: Call#89 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50134 for RpcKind RPC_PROTOCOL_BUFFER
2020-12-03 07:19:54,600 [IPC Server handler 4 on default port 36744] INFO  ipc.Server (ProtobufRpcEngine.java:call(505)) - Call: connectionProtocolName=org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol, method=getReplicaVisibleLength
2020-12-03 07:19:54,600 [IPC Server handler 4 on default port 36744] INFO  block.TestBlockToken (TestBlockToken.java:answer(151)) - Got: block_token_identifier (expiryDate=1606980111387, keyId=57518194, userId=root, blockPoolId=-10, blockId=-108, access modes=[READ, WRITE, COPY, REPLACE], storageTypes= [DISK], storageIds= [])
2020-12-03 07:19:54,601 [IPC Server handler 4 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1615)) - IPC Server handler 4 on default port 36744: responding to Call#89 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50134
2020-12-03 07:19:54,601 [IPC Server handler 4 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1634)) - IPC Server handler 4 on default port 36744: responding to Call#89 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50134 Wrote 43 bytes.
2020-12-03 07:19:54,601 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:receiveRpcResponse(1191)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 got value #89
2020-12-03 07:19:54,601 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(97)) - stopping client from cache: org.apache.hadoop.ipc.Client@2f62ea70
2020-12-03 07:19:54,602 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:close(3738)) - Socket Reader #1 for port 0: disconnecting client 127.0.0.1:50134. Number of active connections: 0
2020-12-03 07:19:54,602 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(103)) - removing client from cache: org.apache.hadoop.ipc.Client@2f62ea70
2020-12-03 07:19:54,602 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:close(1283)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: closed
2020-12-03 07:19:54,602 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1092)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: stopped, remaining connections 0
2020-12-03 07:19:54,602 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(110)) - stopping actual client because no more references remain: org.apache.hadoop.ipc.Client@2f62ea70
2020-12-03 07:19:54,602 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:stop(1340)) - Stopping client
2020-12-03 07:19:54,603 [Listener at 0.0.0.0/36744] INFO  block.TestBlockToken (TestBlockToken.java:testBlockTokenRpcLeak(407)) - Num open fds:163
2020-12-03 07:19:54,604 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:getClient(63)) - getting client out of cache: org.apache.hadoop.ipc.Client@4331d187
2020-12-03 07:19:54,605 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:<init>(497)) - The ping interval is 60000 ms.
2020-12-03 07:19:54,605 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(795)) - Connecting to /127.0.0.1:36744
2020-12-03 07:19:54,606 [IPC Server listener on 0] DEBUG ipc.Server (Server.java:register(3727)) - Server connection from 127.0.0.1:50136; # active connections: 1; # queued calls: 0
2020-12-03 07:19:54,606 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: NEGOTIATE

2020-12-03 07:19:54,606 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:54,606 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:create(175)) - Created SASL server with mechanism = DIGEST-MD5
2020-12-03 07:19:54,607 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50136
2020-12-03 07:19:54,607 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50136 Wrote 194 bytes.
2020-12-03 07:19:54,607 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:getServerToken(268)) - Get token info proto:interface org.apache.hadoop.hdfs.protocolPB.ClientDatanodeProtocolPB info:@org.apache.hadoop.security.token.TokenInfo(value=class org.apache.hadoop.hdfs.security.token.block.BlockTokenSelector)
2020-12-03 07:19:54,607 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:createSaslClient(251)) - Creating SASL DIGEST-MD5(TOKEN)  client to authenticate to service at default
2020-12-03 07:19:54,608 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:selectSaslClient(177)) - Use TOKEN authentication for protocol ClientDatanodeProtocolPB
2020-12-03 07:19:54,608 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(678)) - SASL client callback: setting username: CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=
2020-12-03 07:19:54,608 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(683)) - SASL client callback: setting userPassword
2020-12-03 07:19:54,609 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(688)) - SASL client callback: setting realm: default
2020-12-03 07:19:54,609 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: INITIATE
token: "charset=utf-8,username=\"CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=\",realm=\"default\",nonce=\"MYb4kTbQ81q51EGnThkHY2YEHxkUihQTPTjGkE5n\",nc=00000001,cnonce=\"J58ytNBpJ3/ipBraQmUm33dVemrlfiBkeActEVi7\",digest-uri=\"/default\",maxbuf=65536,response=6bd079af661889297f2a491621ec0408,qop=auth"
auths {
  method: "TOKEN"
  mechanism: "DIGEST-MD5"
  protocol: ""
  serverId: "default"
}

2020-12-03 07:19:54,610 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:54,610 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processSaslToken(2112)) - Have read input token of size 298 for processing by saslServer.evaluateResponse()
2020-12-03 07:19:54,611 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(310)) - SASL server DIGEST-MD5 callback: setting password for client: root (auth:SIMPLE)
2020-12-03 07:19:54,611 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(328)) - SASL server DIGEST-MD5 callback: setting canonicalized client ID: root
2020-12-03 07:19:54,611 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:buildSaslResponse(2129)) - Will send SUCCESS token of size 40 from saslServer.
2020-12-03 07:19:54,611 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2000)) - SASL server context established. Negotiated QoP is auth
2020-12-03 07:19:54,612 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2005)) - SASL server successfully authenticated client: root (auth:SIMPLE)
2020-12-03 07:19:54,612 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:saslProcess(2008)) - Auth successful for root (auth:SIMPLE)
2020-12-03 07:19:54,612 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50136
2020-12-03 07:19:54,612 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50136 Wrote 64 bytes.
2020-12-03 07:19:54,612 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(837)) - Negotiated QOP is :auth
2020-12-03 07:19:54,616 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1074)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: starting, having connections 1
2020-12-03 07:19:54,617 [IPC Parameter Sending Thread #0] DEBUG ipc.Client (Client.java:run(1137)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 sending #90 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength
2020-12-03 07:19:54,618 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-3
2020-12-03 07:19:54,618 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:authorizeConnection(2750)) - Successfully authorized userInfo {
}
protocol: "org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol"

2020-12-03 07:19:54,618 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #90
2020-12-03 07:19:54,618 [IPC Server handler 0 on default port 36744] DEBUG ipc.Server (Server.java:run(2902)) - IPC Server handler 0 on default port 36744: Call#90 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50136 for RpcKind RPC_PROTOCOL_BUFFER
2020-12-03 07:19:54,619 [IPC Server handler 0 on default port 36744] INFO  ipc.Server (ProtobufRpcEngine.java:call(505)) - Call: connectionProtocolName=org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol, method=getReplicaVisibleLength
2020-12-03 07:19:54,619 [IPC Server handler 0 on default port 36744] INFO  block.TestBlockToken (TestBlockToken.java:answer(151)) - Got: block_token_identifier (expiryDate=1606980111387, keyId=57518194, userId=root, blockPoolId=-10, blockId=-108, access modes=[READ, WRITE, COPY, REPLACE], storageTypes= [DISK], storageIds= [])
2020-12-03 07:19:54,619 [IPC Server handler 0 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1615)) - IPC Server handler 0 on default port 36744: responding to Call#90 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50136
2020-12-03 07:19:54,620 [IPC Server handler 0 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1634)) - IPC Server handler 0 on default port 36744: responding to Call#90 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50136 Wrote 43 bytes.
2020-12-03 07:19:54,620 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:receiveRpcResponse(1191)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 got value #90
2020-12-03 07:19:54,620 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:close(1283)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: closed
2020-12-03 07:19:54,620 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:close(3738)) - Socket Reader #1 for port 0: disconnecting client 127.0.0.1:50136. Number of active connections: 0
2020-12-03 07:19:54,620 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1092)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: stopped, remaining connections 0
2020-12-03 07:19:54,621 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(97)) - stopping client from cache: org.apache.hadoop.ipc.Client@4331d187
2020-12-03 07:19:54,621 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(103)) - removing client from cache: org.apache.hadoop.ipc.Client@4331d187
2020-12-03 07:19:54,621 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(110)) - stopping actual client because no more references remain: org.apache.hadoop.ipc.Client@4331d187
2020-12-03 07:19:54,622 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:stop(1340)) - Stopping client
2020-12-03 07:19:54,623 [Listener at 0.0.0.0/36744] INFO  block.TestBlockToken (TestBlockToken.java:testBlockTokenRpcLeak(407)) - Num open fds:163
2020-12-03 07:19:54,624 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:getClient(63)) - getting client out of cache: org.apache.hadoop.ipc.Client@6b88ca8c
2020-12-03 07:19:54,624 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:<init>(497)) - The ping interval is 60000 ms.
2020-12-03 07:19:54,625 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(795)) - Connecting to /127.0.0.1:36744
2020-12-03 07:19:54,625 [IPC Server listener on 0] DEBUG ipc.Server (Server.java:register(3727)) - Server connection from 127.0.0.1:50138; # active connections: 1; # queued calls: 0
2020-12-03 07:19:54,626 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: NEGOTIATE

2020-12-03 07:19:54,629 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:54,630 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:create(175)) - Created SASL server with mechanism = DIGEST-MD5
2020-12-03 07:19:54,630 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50138
2020-12-03 07:19:54,630 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50138 Wrote 194 bytes.
2020-12-03 07:19:54,631 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:getServerToken(268)) - Get token info proto:interface org.apache.hadoop.hdfs.protocolPB.ClientDatanodeProtocolPB info:@org.apache.hadoop.security.token.TokenInfo(value=class org.apache.hadoop.hdfs.security.token.block.BlockTokenSelector)
2020-12-03 07:19:54,631 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:createSaslClient(251)) - Creating SASL DIGEST-MD5(TOKEN)  client to authenticate to service at default
2020-12-03 07:19:54,631 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:selectSaslClient(177)) - Use TOKEN authentication for protocol ClientDatanodeProtocolPB
2020-12-03 07:19:54,632 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(678)) - SASL client callback: setting username: CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=
2020-12-03 07:19:54,632 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(683)) - SASL client callback: setting userPassword
2020-12-03 07:19:54,632 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(688)) - SASL client callback: setting realm: default
2020-12-03 07:19:54,633 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: INITIATE
token: "charset=utf-8,username=\"CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=\",realm=\"default\",nonce=\"m4RNH6yjYFEdqj5aEy4lLSTCfhN5NaHL4av4mcsF\",nc=00000001,cnonce=\"rP/MgBuZ//LC/0BOJUE+ogGh1sB3mJn0gFAavoWl\",digest-uri=\"/default\",maxbuf=65536,response=7c2f3a69dedac49d850cd4e77cb18028,qop=auth"
auths {
  method: "TOKEN"
  mechanism: "DIGEST-MD5"
  protocol: ""
  serverId: "default"
}

2020-12-03 07:19:54,634 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:54,634 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processSaslToken(2112)) - Have read input token of size 298 for processing by saslServer.evaluateResponse()
2020-12-03 07:19:54,635 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(310)) - SASL server DIGEST-MD5 callback: setting password for client: root (auth:SIMPLE)
2020-12-03 07:19:54,636 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(328)) - SASL server DIGEST-MD5 callback: setting canonicalized client ID: root
2020-12-03 07:19:54,636 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:buildSaslResponse(2129)) - Will send SUCCESS token of size 40 from saslServer.
2020-12-03 07:19:54,636 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2000)) - SASL server context established. Negotiated QoP is auth
2020-12-03 07:19:54,636 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2005)) - SASL server successfully authenticated client: root (auth:SIMPLE)
2020-12-03 07:19:54,636 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:saslProcess(2008)) - Auth successful for root (auth:SIMPLE)
2020-12-03 07:19:54,636 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50138
2020-12-03 07:19:54,637 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50138 Wrote 64 bytes.
2020-12-03 07:19:54,637 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(837)) - Negotiated QOP is :auth
2020-12-03 07:19:54,638 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1074)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: starting, having connections 1
2020-12-03 07:19:54,643 [IPC Parameter Sending Thread #0] DEBUG ipc.Client (Client.java:run(1137)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 sending #91 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength
2020-12-03 07:19:54,644 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-3
2020-12-03 07:19:54,644 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:authorizeConnection(2750)) - Successfully authorized userInfo {
}
protocol: "org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol"

2020-12-03 07:19:54,644 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #91
2020-12-03 07:19:54,645 [IPC Server handler 1 on default port 36744] DEBUG ipc.Server (Server.java:run(2902)) - IPC Server handler 1 on default port 36744: Call#91 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50138 for RpcKind RPC_PROTOCOL_BUFFER
2020-12-03 07:19:54,645 [IPC Server handler 1 on default port 36744] INFO  ipc.Server (ProtobufRpcEngine.java:call(505)) - Call: connectionProtocolName=org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol, method=getReplicaVisibleLength
2020-12-03 07:19:54,645 [IPC Server handler 1 on default port 36744] INFO  block.TestBlockToken (TestBlockToken.java:answer(151)) - Got: block_token_identifier (expiryDate=1606980111387, keyId=57518194, userId=root, blockPoolId=-10, blockId=-108, access modes=[READ, WRITE, COPY, REPLACE], storageTypes= [DISK], storageIds= [])
2020-12-03 07:19:54,646 [IPC Server handler 1 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1615)) - IPC Server handler 1 on default port 36744: responding to Call#91 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50138
2020-12-03 07:19:54,646 [IPC Server handler 1 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1634)) - IPC Server handler 1 on default port 36744: responding to Call#91 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50138 Wrote 43 bytes.
2020-12-03 07:19:54,647 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:receiveRpcResponse(1191)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 got value #91
2020-12-03 07:19:54,647 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:close(1283)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: closed
2020-12-03 07:19:54,647 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1092)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: stopped, remaining connections 0
2020-12-03 07:19:54,647 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:close(3738)) - Socket Reader #1 for port 0: disconnecting client 127.0.0.1:50138. Number of active connections: 0
2020-12-03 07:19:54,647 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(97)) - stopping client from cache: org.apache.hadoop.ipc.Client@6b88ca8c
2020-12-03 07:19:54,648 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(103)) - removing client from cache: org.apache.hadoop.ipc.Client@6b88ca8c
2020-12-03 07:19:54,648 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(110)) - stopping actual client because no more references remain: org.apache.hadoop.ipc.Client@6b88ca8c
2020-12-03 07:19:54,648 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:stop(1340)) - Stopping client
2020-12-03 07:19:54,649 [Listener at 0.0.0.0/36744] INFO  block.TestBlockToken (TestBlockToken.java:testBlockTokenRpcLeak(407)) - Num open fds:163
2020-12-03 07:19:54,650 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:getClient(63)) - getting client out of cache: org.apache.hadoop.ipc.Client@65a15628
2020-12-03 07:19:54,650 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:<init>(497)) - The ping interval is 60000 ms.
2020-12-03 07:19:54,651 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(795)) - Connecting to /127.0.0.1:36744
2020-12-03 07:19:54,651 [IPC Server listener on 0] DEBUG ipc.Server (Server.java:register(3727)) - Server connection from 127.0.0.1:50140; # active connections: 1; # queued calls: 0
2020-12-03 07:19:54,652 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: NEGOTIATE

2020-12-03 07:19:54,653 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:54,653 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:create(175)) - Created SASL server with mechanism = DIGEST-MD5
2020-12-03 07:19:54,654 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50140
2020-12-03 07:19:54,654 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50140 Wrote 194 bytes.
2020-12-03 07:19:54,654 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:getServerToken(268)) - Get token info proto:interface org.apache.hadoop.hdfs.protocolPB.ClientDatanodeProtocolPB info:@org.apache.hadoop.security.token.TokenInfo(value=class org.apache.hadoop.hdfs.security.token.block.BlockTokenSelector)
2020-12-03 07:19:54,655 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:createSaslClient(251)) - Creating SASL DIGEST-MD5(TOKEN)  client to authenticate to service at default
2020-12-03 07:19:54,655 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:selectSaslClient(177)) - Use TOKEN authentication for protocol ClientDatanodeProtocolPB
2020-12-03 07:19:54,655 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(678)) - SASL client callback: setting username: CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=
2020-12-03 07:19:54,656 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(683)) - SASL client callback: setting userPassword
2020-12-03 07:19:54,656 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(688)) - SASL client callback: setting realm: default
2020-12-03 07:19:54,656 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: INITIATE
token: "charset=utf-8,username=\"CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=\",realm=\"default\",nonce=\"Aqbr5/Bx2Q714udF3imN+gezdnAQLWB4ncz1mlhA\",nc=00000001,cnonce=\"vNuD4vtoUaXGV02PaMWb35YFWhDOLzdvazFMP7SF\",digest-uri=\"/default\",maxbuf=65536,response=42282aa952b6fa06e20ae77018f39de8,qop=auth"
auths {
  method: "TOKEN"
  mechanism: "DIGEST-MD5"
  protocol: ""
  serverId: "default"
}

2020-12-03 07:19:54,657 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:54,657 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processSaslToken(2112)) - Have read input token of size 298 for processing by saslServer.evaluateResponse()
2020-12-03 07:19:54,658 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(310)) - SASL server DIGEST-MD5 callback: setting password for client: root (auth:SIMPLE)
2020-12-03 07:19:54,658 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(328)) - SASL server DIGEST-MD5 callback: setting canonicalized client ID: root
2020-12-03 07:19:54,658 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:buildSaslResponse(2129)) - Will send SUCCESS token of size 40 from saslServer.
2020-12-03 07:19:54,658 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2000)) - SASL server context established. Negotiated QoP is auth
2020-12-03 07:19:54,659 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2005)) - SASL server successfully authenticated client: root (auth:SIMPLE)
2020-12-03 07:19:54,659 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:saslProcess(2008)) - Auth successful for root (auth:SIMPLE)
2020-12-03 07:19:54,659 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50140
2020-12-03 07:19:54,659 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50140 Wrote 64 bytes.
2020-12-03 07:19:54,660 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(837)) - Negotiated QOP is :auth
2020-12-03 07:19:54,661 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1074)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: starting, having connections 1
2020-12-03 07:19:54,668 [IPC Parameter Sending Thread #0] DEBUG ipc.Client (Client.java:run(1137)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 sending #92 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength
2020-12-03 07:19:54,672 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-3
2020-12-03 07:19:54,672 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:authorizeConnection(2750)) - Successfully authorized userInfo {
}
protocol: "org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol"

2020-12-03 07:19:54,672 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #92
2020-12-03 07:19:54,673 [IPC Server handler 3 on default port 36744] DEBUG ipc.Server (Server.java:run(2902)) - IPC Server handler 3 on default port 36744: Call#92 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50140 for RpcKind RPC_PROTOCOL_BUFFER
2020-12-03 07:19:54,673 [IPC Server handler 3 on default port 36744] INFO  ipc.Server (ProtobufRpcEngine.java:call(505)) - Call: connectionProtocolName=org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol, method=getReplicaVisibleLength
2020-12-03 07:19:54,674 [IPC Server handler 3 on default port 36744] INFO  block.TestBlockToken (TestBlockToken.java:answer(151)) - Got: block_token_identifier (expiryDate=1606980111387, keyId=57518194, userId=root, blockPoolId=-10, blockId=-108, access modes=[READ, WRITE, COPY, REPLACE], storageTypes= [DISK], storageIds= [])
2020-12-03 07:19:54,674 [IPC Server handler 3 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1615)) - IPC Server handler 3 on default port 36744: responding to Call#92 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50140
2020-12-03 07:19:54,675 [IPC Server handler 3 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1634)) - IPC Server handler 3 on default port 36744: responding to Call#92 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50140 Wrote 43 bytes.
2020-12-03 07:19:54,675 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:receiveRpcResponse(1191)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 got value #92
2020-12-03 07:19:54,675 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:close(1283)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: closed
2020-12-03 07:19:54,675 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1092)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: stopped, remaining connections 0
2020-12-03 07:19:54,676 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(97)) - stopping client from cache: org.apache.hadoop.ipc.Client@65a15628
2020-12-03 07:19:54,676 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(103)) - removing client from cache: org.apache.hadoop.ipc.Client@65a15628
2020-12-03 07:19:54,676 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(110)) - stopping actual client because no more references remain: org.apache.hadoop.ipc.Client@65a15628
2020-12-03 07:19:54,676 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:stop(1340)) - Stopping client
2020-12-03 07:19:54,677 [Listener at 0.0.0.0/36744] INFO  block.TestBlockToken (TestBlockToken.java:testBlockTokenRpcLeak(407)) - Num open fds:164
2020-12-03 07:19:54,678 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:getClient(63)) - getting client out of cache: org.apache.hadoop.ipc.Client@5a1de7fb
2020-12-03 07:19:54,678 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:<init>(497)) - The ping interval is 60000 ms.
2020-12-03 07:19:54,679 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(795)) - Connecting to /127.0.0.1:36744
2020-12-03 07:19:54,679 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: NEGOTIATE

2020-12-03 07:19:54,680 [IPC Server listener on 0] DEBUG ipc.Server (Server.java:register(3727)) - Server connection from 127.0.0.1:50142; # active connections: 1; # queued calls: 0
2020-12-03 07:19:54,679 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:close(3738)) - Socket Reader #1 for port 0: disconnecting client 127.0.0.1:50140. Number of active connections: 0
2020-12-03 07:19:54,680 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:54,680 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:create(175)) - Created SASL server with mechanism = DIGEST-MD5
2020-12-03 07:19:54,681 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50142
2020-12-03 07:19:54,681 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50142 Wrote 194 bytes.
2020-12-03 07:19:54,684 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:getServerToken(268)) - Get token info proto:interface org.apache.hadoop.hdfs.protocolPB.ClientDatanodeProtocolPB info:@org.apache.hadoop.security.token.TokenInfo(value=class org.apache.hadoop.hdfs.security.token.block.BlockTokenSelector)
2020-12-03 07:19:54,684 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:createSaslClient(251)) - Creating SASL DIGEST-MD5(TOKEN)  client to authenticate to service at default
2020-12-03 07:19:54,685 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:selectSaslClient(177)) - Use TOKEN authentication for protocol ClientDatanodeProtocolPB
2020-12-03 07:19:54,685 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(678)) - SASL client callback: setting username: CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=
2020-12-03 07:19:54,685 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(683)) - SASL client callback: setting userPassword
2020-12-03 07:19:54,685 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(688)) - SASL client callback: setting realm: default
2020-12-03 07:19:54,686 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: INITIATE
token: "charset=utf-8,username=\"CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=\",realm=\"default\",nonce=\"34oZuelVX24bAvQxyj8bht7/TofLZWckdhTlSZS7\",nc=00000001,cnonce=\"fT9b+nTUxQOGPQnccWEniSxYhZtoYnPPv8zGL91U\",digest-uri=\"/default\",maxbuf=65536,response=5d437b14071da7c3b75f22b37f1fba35,qop=auth"
auths {
  method: "TOKEN"
  mechanism: "DIGEST-MD5"
  protocol: ""
  serverId: "default"
}

2020-12-03 07:19:54,687 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:54,687 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processSaslToken(2112)) - Have read input token of size 298 for processing by saslServer.evaluateResponse()
2020-12-03 07:19:54,687 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(310)) - SASL server DIGEST-MD5 callback: setting password for client: root (auth:SIMPLE)
2020-12-03 07:19:54,688 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(328)) - SASL server DIGEST-MD5 callback: setting canonicalized client ID: root
2020-12-03 07:19:54,688 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:buildSaslResponse(2129)) - Will send SUCCESS token of size 40 from saslServer.
2020-12-03 07:19:54,688 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2000)) - SASL server context established. Negotiated QoP is auth
2020-12-03 07:19:54,689 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2005)) - SASL server successfully authenticated client: root (auth:SIMPLE)
2020-12-03 07:19:54,689 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:saslProcess(2008)) - Auth successful for root (auth:SIMPLE)
2020-12-03 07:19:54,689 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50142
2020-12-03 07:19:54,689 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50142 Wrote 64 bytes.
2020-12-03 07:19:54,690 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(837)) - Negotiated QOP is :auth
2020-12-03 07:19:54,691 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1074)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: starting, having connections 1
2020-12-03 07:19:54,691 [IPC Parameter Sending Thread #0] DEBUG ipc.Client (Client.java:run(1137)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 sending #93 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength
2020-12-03 07:19:54,695 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-3
2020-12-03 07:19:54,695 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:authorizeConnection(2750)) - Successfully authorized userInfo {
}
protocol: "org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol"

2020-12-03 07:19:54,695 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #93
2020-12-03 07:19:54,695 [IPC Server handler 2 on default port 36744] DEBUG ipc.Server (Server.java:run(2902)) - IPC Server handler 2 on default port 36744: Call#93 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50142 for RpcKind RPC_PROTOCOL_BUFFER
2020-12-03 07:19:54,696 [IPC Server handler 2 on default port 36744] INFO  ipc.Server (ProtobufRpcEngine.java:call(505)) - Call: connectionProtocolName=org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol, method=getReplicaVisibleLength
2020-12-03 07:19:54,696 [IPC Server handler 2 on default port 36744] INFO  block.TestBlockToken (TestBlockToken.java:answer(151)) - Got: block_token_identifier (expiryDate=1606980111387, keyId=57518194, userId=root, blockPoolId=-10, blockId=-108, access modes=[READ, WRITE, COPY, REPLACE], storageTypes= [DISK], storageIds= [])
2020-12-03 07:19:54,697 [IPC Server handler 2 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1615)) - IPC Server handler 2 on default port 36744: responding to Call#93 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50142
2020-12-03 07:19:54,697 [IPC Server handler 2 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1634)) - IPC Server handler 2 on default port 36744: responding to Call#93 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50142 Wrote 43 bytes.
2020-12-03 07:19:54,697 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:receiveRpcResponse(1191)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 got value #93
2020-12-03 07:19:54,697 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(97)) - stopping client from cache: org.apache.hadoop.ipc.Client@5a1de7fb
2020-12-03 07:19:54,697 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:close(3738)) - Socket Reader #1 for port 0: disconnecting client 127.0.0.1:50142. Number of active connections: 0
2020-12-03 07:19:54,697 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:close(1283)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: closed
2020-12-03 07:19:54,698 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1092)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: stopped, remaining connections 0
2020-12-03 07:19:54,698 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(103)) - removing client from cache: org.apache.hadoop.ipc.Client@5a1de7fb
2020-12-03 07:19:54,698 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(110)) - stopping actual client because no more references remain: org.apache.hadoop.ipc.Client@5a1de7fb
2020-12-03 07:19:54,698 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:stop(1340)) - Stopping client
2020-12-03 07:19:54,699 [Listener at 0.0.0.0/36744] INFO  block.TestBlockToken (TestBlockToken.java:testBlockTokenRpcLeak(407)) - Num open fds:163
2020-12-03 07:19:54,700 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:getClient(63)) - getting client out of cache: org.apache.hadoop.ipc.Client@7e6ef134
2020-12-03 07:19:54,700 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:<init>(497)) - The ping interval is 60000 ms.
2020-12-03 07:19:54,701 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(795)) - Connecting to /127.0.0.1:36744
2020-12-03 07:19:54,701 [IPC Server listener on 0] DEBUG ipc.Server (Server.java:register(3727)) - Server connection from 127.0.0.1:50144; # active connections: 1; # queued calls: 0
2020-12-03 07:19:54,701 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: NEGOTIATE

2020-12-03 07:19:54,702 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:54,702 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:create(175)) - Created SASL server with mechanism = DIGEST-MD5
2020-12-03 07:19:54,702 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50144
2020-12-03 07:19:54,702 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50144 Wrote 194 bytes.
2020-12-03 07:19:54,703 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:getServerToken(268)) - Get token info proto:interface org.apache.hadoop.hdfs.protocolPB.ClientDatanodeProtocolPB info:@org.apache.hadoop.security.token.TokenInfo(value=class org.apache.hadoop.hdfs.security.token.block.BlockTokenSelector)
2020-12-03 07:19:54,703 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:createSaslClient(251)) - Creating SASL DIGEST-MD5(TOKEN)  client to authenticate to service at default
2020-12-03 07:19:54,703 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:selectSaslClient(177)) - Use TOKEN authentication for protocol ClientDatanodeProtocolPB
2020-12-03 07:19:54,704 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(678)) - SASL client callback: setting username: CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=
2020-12-03 07:19:54,704 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(683)) - SASL client callback: setting userPassword
2020-12-03 07:19:54,704 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(688)) - SASL client callback: setting realm: default
2020-12-03 07:19:54,705 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: INITIATE
token: "charset=utf-8,username=\"CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=\",realm=\"default\",nonce=\"9MTr8xdbOjr3in+Y4w1jo7RoXsz9pE4BDe7rXBKh\",nc=00000001,cnonce=\"5nrjSscA3xTjr3ZUJPeX48+NBffITmLqgnNdwxyz\",digest-uri=\"/default\",maxbuf=65536,response=c101435f315e69710f04b4b9335d4bac,qop=auth"
auths {
  method: "TOKEN"
  mechanism: "DIGEST-MD5"
  protocol: ""
  serverId: "default"
}

2020-12-03 07:19:54,705 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:54,705 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processSaslToken(2112)) - Have read input token of size 298 for processing by saslServer.evaluateResponse()
2020-12-03 07:19:54,706 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(310)) - SASL server DIGEST-MD5 callback: setting password for client: root (auth:SIMPLE)
2020-12-03 07:19:54,706 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(328)) - SASL server DIGEST-MD5 callback: setting canonicalized client ID: root
2020-12-03 07:19:54,706 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:buildSaslResponse(2129)) - Will send SUCCESS token of size 40 from saslServer.
2020-12-03 07:19:54,707 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2000)) - SASL server context established. Negotiated QoP is auth
2020-12-03 07:19:54,707 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2005)) - SASL server successfully authenticated client: root (auth:SIMPLE)
2020-12-03 07:19:54,707 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:saslProcess(2008)) - Auth successful for root (auth:SIMPLE)
2020-12-03 07:19:54,707 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50144
2020-12-03 07:19:54,707 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50144 Wrote 64 bytes.
2020-12-03 07:19:54,708 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(837)) - Negotiated QOP is :auth
2020-12-03 07:19:54,708 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1074)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: starting, having connections 1
2020-12-03 07:19:54,709 [IPC Parameter Sending Thread #0] DEBUG ipc.Client (Client.java:run(1137)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 sending #94 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength
2020-12-03 07:19:54,709 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-3
2020-12-03 07:19:54,710 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:authorizeConnection(2750)) - Successfully authorized userInfo {
}
protocol: "org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol"

2020-12-03 07:19:54,710 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #94
2020-12-03 07:19:54,710 [IPC Server handler 4 on default port 36744] DEBUG ipc.Server (Server.java:run(2902)) - IPC Server handler 4 on default port 36744: Call#94 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50144 for RpcKind RPC_PROTOCOL_BUFFER
2020-12-03 07:19:54,710 [IPC Server handler 4 on default port 36744] INFO  ipc.Server (ProtobufRpcEngine.java:call(505)) - Call: connectionProtocolName=org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol, method=getReplicaVisibleLength
2020-12-03 07:19:54,711 [IPC Server handler 4 on default port 36744] INFO  block.TestBlockToken (TestBlockToken.java:answer(151)) - Got: block_token_identifier (expiryDate=1606980111387, keyId=57518194, userId=root, blockPoolId=-10, blockId=-108, access modes=[READ, WRITE, COPY, REPLACE], storageTypes= [DISK], storageIds= [])
2020-12-03 07:19:54,711 [IPC Server handler 4 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1615)) - IPC Server handler 4 on default port 36744: responding to Call#94 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50144
2020-12-03 07:19:54,711 [IPC Server handler 4 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1634)) - IPC Server handler 4 on default port 36744: responding to Call#94 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50144 Wrote 43 bytes.
2020-12-03 07:19:54,712 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:receiveRpcResponse(1191)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 got value #94
2020-12-03 07:19:54,712 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:close(1283)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: closed
2020-12-03 07:19:54,712 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:close(3738)) - Socket Reader #1 for port 0: disconnecting client 127.0.0.1:50144. Number of active connections: 0
2020-12-03 07:19:54,712 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(97)) - stopping client from cache: org.apache.hadoop.ipc.Client@7e6ef134
2020-12-03 07:19:54,712 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1092)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: stopped, remaining connections 0
2020-12-03 07:19:54,712 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(103)) - removing client from cache: org.apache.hadoop.ipc.Client@7e6ef134
2020-12-03 07:19:54,713 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(110)) - stopping actual client because no more references remain: org.apache.hadoop.ipc.Client@7e6ef134
2020-12-03 07:19:54,713 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:stop(1340)) - Stopping client
2020-12-03 07:19:54,714 [Listener at 0.0.0.0/36744] INFO  block.TestBlockToken (TestBlockToken.java:testBlockTokenRpcLeak(407)) - Num open fds:163
2020-12-03 07:19:54,715 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:getClient(63)) - getting client out of cache: org.apache.hadoop.ipc.Client@30af5b6b
2020-12-03 07:19:54,715 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:<init>(497)) - The ping interval is 60000 ms.
2020-12-03 07:19:54,716 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(795)) - Connecting to /127.0.0.1:36744
2020-12-03 07:19:54,716 [IPC Server listener on 0] DEBUG ipc.Server (Server.java:register(3727)) - Server connection from 127.0.0.1:50146; # active connections: 1; # queued calls: 0
2020-12-03 07:19:54,716 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: NEGOTIATE

2020-12-03 07:19:54,717 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:54,718 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:create(175)) - Created SASL server with mechanism = DIGEST-MD5
2020-12-03 07:19:54,718 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50146
2020-12-03 07:19:54,718 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50146 Wrote 194 bytes.
2020-12-03 07:19:54,718 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:getServerToken(268)) - Get token info proto:interface org.apache.hadoop.hdfs.protocolPB.ClientDatanodeProtocolPB info:@org.apache.hadoop.security.token.TokenInfo(value=class org.apache.hadoop.hdfs.security.token.block.BlockTokenSelector)
2020-12-03 07:19:54,719 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:createSaslClient(251)) - Creating SASL DIGEST-MD5(TOKEN)  client to authenticate to service at default
2020-12-03 07:19:54,719 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:selectSaslClient(177)) - Use TOKEN authentication for protocol ClientDatanodeProtocolPB
2020-12-03 07:19:54,719 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(678)) - SASL client callback: setting username: CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=
2020-12-03 07:19:54,720 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(683)) - SASL client callback: setting userPassword
2020-12-03 07:19:54,720 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(688)) - SASL client callback: setting realm: default
2020-12-03 07:19:54,720 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: INITIATE
token: "charset=utf-8,username=\"CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=\",realm=\"default\",nonce=\"cJM0yV0nrIkAJMtT7QaERpjZVf0cnBbnwFf2Pqar\",nc=00000001,cnonce=\"56shq/nuiUXJ9c/KG0qbbuT8qnT0cvQSu77G+1as\",digest-uri=\"/default\",maxbuf=65536,response=3a9d79c756c799410b1e4f08301895bf,qop=auth"
auths {
  method: "TOKEN"
  mechanism: "DIGEST-MD5"
  protocol: ""
  serverId: "default"
}

2020-12-03 07:19:54,721 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:54,721 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processSaslToken(2112)) - Have read input token of size 298 for processing by saslServer.evaluateResponse()
2020-12-03 07:19:54,722 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(310)) - SASL server DIGEST-MD5 callback: setting password for client: root (auth:SIMPLE)
2020-12-03 07:19:54,722 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(328)) - SASL server DIGEST-MD5 callback: setting canonicalized client ID: root
2020-12-03 07:19:54,722 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:buildSaslResponse(2129)) - Will send SUCCESS token of size 40 from saslServer.
2020-12-03 07:19:54,722 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2000)) - SASL server context established. Negotiated QoP is auth
2020-12-03 07:19:54,723 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2005)) - SASL server successfully authenticated client: root (auth:SIMPLE)
2020-12-03 07:19:54,723 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:saslProcess(2008)) - Auth successful for root (auth:SIMPLE)
2020-12-03 07:19:54,723 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50146
2020-12-03 07:19:54,723 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50146 Wrote 64 bytes.
2020-12-03 07:19:54,724 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(837)) - Negotiated QOP is :auth
2020-12-03 07:19:54,725 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1074)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: starting, having connections 1
2020-12-03 07:19:54,726 [IPC Parameter Sending Thread #0] DEBUG ipc.Client (Client.java:run(1137)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 sending #95 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength
2020-12-03 07:19:54,727 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-3
2020-12-03 07:19:54,727 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:authorizeConnection(2750)) - Successfully authorized userInfo {
}
protocol: "org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol"

2020-12-03 07:19:54,727 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #95
2020-12-03 07:19:54,728 [IPC Server handler 0 on default port 36744] DEBUG ipc.Server (Server.java:run(2902)) - IPC Server handler 0 on default port 36744: Call#95 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50146 for RpcKind RPC_PROTOCOL_BUFFER
2020-12-03 07:19:54,728 [IPC Server handler 0 on default port 36744] INFO  ipc.Server (ProtobufRpcEngine.java:call(505)) - Call: connectionProtocolName=org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol, method=getReplicaVisibleLength
2020-12-03 07:19:54,729 [IPC Server handler 0 on default port 36744] INFO  block.TestBlockToken (TestBlockToken.java:answer(151)) - Got: block_token_identifier (expiryDate=1606980111387, keyId=57518194, userId=root, blockPoolId=-10, blockId=-108, access modes=[READ, WRITE, COPY, REPLACE], storageTypes= [DISK], storageIds= [])
2020-12-03 07:19:54,730 [IPC Server handler 0 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1615)) - IPC Server handler 0 on default port 36744: responding to Call#95 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50146
2020-12-03 07:19:54,730 [IPC Server handler 0 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1634)) - IPC Server handler 0 on default port 36744: responding to Call#95 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50146 Wrote 43 bytes.
2020-12-03 07:19:54,730 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:receiveRpcResponse(1191)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 got value #95
2020-12-03 07:19:54,730 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:close(1283)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: closed
2020-12-03 07:19:54,730 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1092)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: stopped, remaining connections 0
2020-12-03 07:19:54,730 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:close(3738)) - Socket Reader #1 for port 0: disconnecting client 127.0.0.1:50146. Number of active connections: 0
2020-12-03 07:19:54,731 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(97)) - stopping client from cache: org.apache.hadoop.ipc.Client@30af5b6b
2020-12-03 07:19:54,731 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(103)) - removing client from cache: org.apache.hadoop.ipc.Client@30af5b6b
2020-12-03 07:19:54,731 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(110)) - stopping actual client because no more references remain: org.apache.hadoop.ipc.Client@30af5b6b
2020-12-03 07:19:54,731 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:stop(1340)) - Stopping client
2020-12-03 07:19:54,732 [Listener at 0.0.0.0/36744] INFO  block.TestBlockToken (TestBlockToken.java:testBlockTokenRpcLeak(407)) - Num open fds:163
2020-12-03 07:19:54,733 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:getClient(63)) - getting client out of cache: org.apache.hadoop.ipc.Client@48e92c5c
2020-12-03 07:19:54,733 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:<init>(497)) - The ping interval is 60000 ms.
2020-12-03 07:19:54,734 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(795)) - Connecting to /127.0.0.1:36744
2020-12-03 07:19:54,734 [IPC Server listener on 0] DEBUG ipc.Server (Server.java:register(3727)) - Server connection from 127.0.0.1:50148; # active connections: 1; # queued calls: 0
2020-12-03 07:19:54,734 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: NEGOTIATE

2020-12-03 07:19:54,735 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:54,735 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:create(175)) - Created SASL server with mechanism = DIGEST-MD5
2020-12-03 07:19:54,735 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50148
2020-12-03 07:19:54,736 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50148 Wrote 194 bytes.
2020-12-03 07:19:54,736 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:getServerToken(268)) - Get token info proto:interface org.apache.hadoop.hdfs.protocolPB.ClientDatanodeProtocolPB info:@org.apache.hadoop.security.token.TokenInfo(value=class org.apache.hadoop.hdfs.security.token.block.BlockTokenSelector)
2020-12-03 07:19:54,736 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:createSaslClient(251)) - Creating SASL DIGEST-MD5(TOKEN)  client to authenticate to service at default
2020-12-03 07:19:54,737 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:selectSaslClient(177)) - Use TOKEN authentication for protocol ClientDatanodeProtocolPB
2020-12-03 07:19:54,737 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(678)) - SASL client callback: setting username: CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=
2020-12-03 07:19:54,737 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(683)) - SASL client callback: setting userPassword
2020-12-03 07:19:54,737 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(688)) - SASL client callback: setting realm: default
2020-12-03 07:19:54,738 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: INITIATE
token: "charset=utf-8,username=\"CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=\",realm=\"default\",nonce=\"Kl7w7RKkU3CG2NEk9JpedZDG0Bf3XgnJrdaFb/Ab\",nc=00000001,cnonce=\"OZs9Jim/F3QT+Q5jjtUbaxXmSaMK0xgTrULGokM/\",digest-uri=\"/default\",maxbuf=65536,response=74c770098b04ad32ed71caa81f97fe21,qop=auth"
auths {
  method: "TOKEN"
  mechanism: "DIGEST-MD5"
  protocol: ""
  serverId: "default"
}

2020-12-03 07:19:54,738 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:54,738 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processSaslToken(2112)) - Have read input token of size 298 for processing by saslServer.evaluateResponse()
2020-12-03 07:19:54,739 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(310)) - SASL server DIGEST-MD5 callback: setting password for client: root (auth:SIMPLE)
2020-12-03 07:19:54,739 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(328)) - SASL server DIGEST-MD5 callback: setting canonicalized client ID: root
2020-12-03 07:19:54,740 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:buildSaslResponse(2129)) - Will send SUCCESS token of size 40 from saslServer.
2020-12-03 07:19:54,740 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2000)) - SASL server context established. Negotiated QoP is auth
2020-12-03 07:19:54,740 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2005)) - SASL server successfully authenticated client: root (auth:SIMPLE)
2020-12-03 07:19:54,740 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:saslProcess(2008)) - Auth successful for root (auth:SIMPLE)
2020-12-03 07:19:54,740 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50148
2020-12-03 07:19:54,741 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50148 Wrote 64 bytes.
2020-12-03 07:19:54,741 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(837)) - Negotiated QOP is :auth
2020-12-03 07:19:54,742 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1074)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: starting, having connections 1
2020-12-03 07:19:54,742 [IPC Parameter Sending Thread #0] DEBUG ipc.Client (Client.java:run(1137)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 sending #96 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength
2020-12-03 07:19:54,743 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-3
2020-12-03 07:19:54,743 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:authorizeConnection(2750)) - Successfully authorized userInfo {
}
protocol: "org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol"

2020-12-03 07:19:54,743 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #96
2020-12-03 07:19:54,744 [IPC Server handler 1 on default port 36744] DEBUG ipc.Server (Server.java:run(2902)) - IPC Server handler 1 on default port 36744: Call#96 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50148 for RpcKind RPC_PROTOCOL_BUFFER
2020-12-03 07:19:54,744 [IPC Server handler 1 on default port 36744] INFO  ipc.Server (ProtobufRpcEngine.java:call(505)) - Call: connectionProtocolName=org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol, method=getReplicaVisibleLength
2020-12-03 07:19:54,745 [IPC Server handler 1 on default port 36744] INFO  block.TestBlockToken (TestBlockToken.java:answer(151)) - Got: block_token_identifier (expiryDate=1606980111387, keyId=57518194, userId=root, blockPoolId=-10, blockId=-108, access modes=[READ, WRITE, COPY, REPLACE], storageTypes= [DISK], storageIds= [])
2020-12-03 07:19:54,745 [IPC Server handler 1 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1615)) - IPC Server handler 1 on default port 36744: responding to Call#96 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50148
2020-12-03 07:19:54,745 [IPC Server handler 1 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1634)) - IPC Server handler 1 on default port 36744: responding to Call#96 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50148 Wrote 43 bytes.
2020-12-03 07:19:54,745 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:receiveRpcResponse(1191)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 got value #96
2020-12-03 07:19:54,746 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(97)) - stopping client from cache: org.apache.hadoop.ipc.Client@48e92c5c
2020-12-03 07:19:54,746 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:close(3738)) - Socket Reader #1 for port 0: disconnecting client 127.0.0.1:50148. Number of active connections: 0
2020-12-03 07:19:54,746 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:close(1283)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: closed
2020-12-03 07:19:54,746 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(103)) - removing client from cache: org.apache.hadoop.ipc.Client@48e92c5c
2020-12-03 07:19:54,746 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1092)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: stopped, remaining connections 0
2020-12-03 07:19:54,746 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(110)) - stopping actual client because no more references remain: org.apache.hadoop.ipc.Client@48e92c5c
2020-12-03 07:19:54,747 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:stop(1340)) - Stopping client
2020-12-03 07:19:54,747 [Listener at 0.0.0.0/36744] INFO  block.TestBlockToken (TestBlockToken.java:testBlockTokenRpcLeak(407)) - Num open fds:163
2020-12-03 07:19:54,748 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:getClient(63)) - getting client out of cache: org.apache.hadoop.ipc.Client@5e4bd84a
2020-12-03 07:19:54,749 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:<init>(497)) - The ping interval is 60000 ms.
2020-12-03 07:19:54,749 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(795)) - Connecting to /127.0.0.1:36744
2020-12-03 07:19:54,750 [IPC Server listener on 0] DEBUG ipc.Server (Server.java:register(3727)) - Server connection from 127.0.0.1:50150; # active connections: 1; # queued calls: 0
2020-12-03 07:19:54,750 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: NEGOTIATE

2020-12-03 07:19:54,751 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:54,751 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:create(175)) - Created SASL server with mechanism = DIGEST-MD5
2020-12-03 07:19:54,751 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50150
2020-12-03 07:19:54,751 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50150 Wrote 194 bytes.
2020-12-03 07:19:54,752 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:getServerToken(268)) - Get token info proto:interface org.apache.hadoop.hdfs.protocolPB.ClientDatanodeProtocolPB info:@org.apache.hadoop.security.token.TokenInfo(value=class org.apache.hadoop.hdfs.security.token.block.BlockTokenSelector)
2020-12-03 07:19:54,752 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:createSaslClient(251)) - Creating SASL DIGEST-MD5(TOKEN)  client to authenticate to service at default
2020-12-03 07:19:54,752 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:selectSaslClient(177)) - Use TOKEN authentication for protocol ClientDatanodeProtocolPB
2020-12-03 07:19:54,753 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(678)) - SASL client callback: setting username: CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=
2020-12-03 07:19:54,753 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(683)) - SASL client callback: setting userPassword
2020-12-03 07:19:54,753 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(688)) - SASL client callback: setting realm: default
2020-12-03 07:19:54,754 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: INITIATE
token: "charset=utf-8,username=\"CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=\",realm=\"default\",nonce=\"wXxE5w6LEIib/V/ewYhvOVdolhu4Fh2y0LQsoUI3\",nc=00000001,cnonce=\"VgZ9OoO/O/VAjkOiEFZEm8L4PfMM39Skie6m8Sbl\",digest-uri=\"/default\",maxbuf=65536,response=553f101d34032a61a01c255d6a927a18,qop=auth"
auths {
  method: "TOKEN"
  mechanism: "DIGEST-MD5"
  protocol: ""
  serverId: "default"
}

2020-12-03 07:19:54,755 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:54,755 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processSaslToken(2112)) - Have read input token of size 298 for processing by saslServer.evaluateResponse()
2020-12-03 07:19:54,756 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(310)) - SASL server DIGEST-MD5 callback: setting password for client: root (auth:SIMPLE)
2020-12-03 07:19:54,756 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(328)) - SASL server DIGEST-MD5 callback: setting canonicalized client ID: root
2020-12-03 07:19:54,756 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:buildSaslResponse(2129)) - Will send SUCCESS token of size 40 from saslServer.
2020-12-03 07:19:54,756 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2000)) - SASL server context established. Negotiated QoP is auth
2020-12-03 07:19:54,756 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2005)) - SASL server successfully authenticated client: root (auth:SIMPLE)
2020-12-03 07:19:54,756 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:saslProcess(2008)) - Auth successful for root (auth:SIMPLE)
2020-12-03 07:19:54,757 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50150
2020-12-03 07:19:54,757 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50150 Wrote 64 bytes.
2020-12-03 07:19:54,757 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(837)) - Negotiated QOP is :auth
2020-12-03 07:19:54,758 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1074)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: starting, having connections 1
2020-12-03 07:19:54,758 [IPC Parameter Sending Thread #0] DEBUG ipc.Client (Client.java:run(1137)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 sending #97 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength
2020-12-03 07:19:54,758 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-3
2020-12-03 07:19:54,759 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:authorizeConnection(2750)) - Successfully authorized userInfo {
}
protocol: "org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol"

2020-12-03 07:19:54,759 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #97
2020-12-03 07:19:54,759 [IPC Server handler 3 on default port 36744] DEBUG ipc.Server (Server.java:run(2902)) - IPC Server handler 3 on default port 36744: Call#97 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50150 for RpcKind RPC_PROTOCOL_BUFFER
2020-12-03 07:19:54,759 [IPC Server handler 3 on default port 36744] INFO  ipc.Server (ProtobufRpcEngine.java:call(505)) - Call: connectionProtocolName=org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol, method=getReplicaVisibleLength
2020-12-03 07:19:54,760 [IPC Server handler 3 on default port 36744] INFO  block.TestBlockToken (TestBlockToken.java:answer(151)) - Got: block_token_identifier (expiryDate=1606980111387, keyId=57518194, userId=root, blockPoolId=-10, blockId=-108, access modes=[READ, WRITE, COPY, REPLACE], storageTypes= [DISK], storageIds= [])
2020-12-03 07:19:54,760 [IPC Server handler 3 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1615)) - IPC Server handler 3 on default port 36744: responding to Call#97 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50150
2020-12-03 07:19:54,760 [IPC Server handler 3 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1634)) - IPC Server handler 3 on default port 36744: responding to Call#97 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50150 Wrote 43 bytes.
2020-12-03 07:19:54,760 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:receiveRpcResponse(1191)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 got value #97
2020-12-03 07:19:54,761 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(97)) - stopping client from cache: org.apache.hadoop.ipc.Client@5e4bd84a
2020-12-03 07:19:54,761 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:close(3738)) - Socket Reader #1 for port 0: disconnecting client 127.0.0.1:50150. Number of active connections: 0
2020-12-03 07:19:54,761 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:close(1283)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: closed
2020-12-03 07:19:54,761 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1092)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: stopped, remaining connections 0
2020-12-03 07:19:54,761 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(103)) - removing client from cache: org.apache.hadoop.ipc.Client@5e4bd84a
2020-12-03 07:19:54,764 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(110)) - stopping actual client because no more references remain: org.apache.hadoop.ipc.Client@5e4bd84a
2020-12-03 07:19:54,764 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:stop(1340)) - Stopping client
2020-12-03 07:19:54,765 [Listener at 0.0.0.0/36744] INFO  block.TestBlockToken (TestBlockToken.java:testBlockTokenRpcLeak(407)) - Num open fds:163
2020-12-03 07:19:54,766 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:getClient(63)) - getting client out of cache: org.apache.hadoop.ipc.Client@71812481
2020-12-03 07:19:54,766 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:<init>(497)) - The ping interval is 60000 ms.
2020-12-03 07:19:54,766 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(795)) - Connecting to /127.0.0.1:36744
2020-12-03 07:19:54,767 [IPC Server listener on 0] DEBUG ipc.Server (Server.java:register(3727)) - Server connection from 127.0.0.1:50152; # active connections: 1; # queued calls: 0
2020-12-03 07:19:54,767 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: NEGOTIATE

2020-12-03 07:19:54,767 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:54,768 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:create(175)) - Created SASL server with mechanism = DIGEST-MD5
2020-12-03 07:19:54,768 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50152
2020-12-03 07:19:54,768 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50152 Wrote 194 bytes.
2020-12-03 07:19:54,768 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:getServerToken(268)) - Get token info proto:interface org.apache.hadoop.hdfs.protocolPB.ClientDatanodeProtocolPB info:@org.apache.hadoop.security.token.TokenInfo(value=class org.apache.hadoop.hdfs.security.token.block.BlockTokenSelector)
2020-12-03 07:19:54,769 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:createSaslClient(251)) - Creating SASL DIGEST-MD5(TOKEN)  client to authenticate to service at default
2020-12-03 07:19:54,769 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:selectSaslClient(177)) - Use TOKEN authentication for protocol ClientDatanodeProtocolPB
2020-12-03 07:19:54,769 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(678)) - SASL client callback: setting username: CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=
2020-12-03 07:19:54,769 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(683)) - SASL client callback: setting userPassword
2020-12-03 07:19:54,770 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(688)) - SASL client callback: setting realm: default
2020-12-03 07:19:54,770 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: INITIATE
token: "charset=utf-8,username=\"CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=\",realm=\"default\",nonce=\"a3TtZsVBaBbHmYM/Kr9aQkorZe0zfmsBxMzy+rqS\",nc=00000001,cnonce=\"4f6n+qD0lXodPsZEplM1ydKuI0iDWX1LRhEUbRIr\",digest-uri=\"/default\",maxbuf=65536,response=0de5de0a13841ff067ca6ff502471d25,qop=auth"
auths {
  method: "TOKEN"
  mechanism: "DIGEST-MD5"
  protocol: ""
  serverId: "default"
}

2020-12-03 07:19:54,770 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:54,771 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processSaslToken(2112)) - Have read input token of size 298 for processing by saslServer.evaluateResponse()
2020-12-03 07:19:54,771 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(310)) - SASL server DIGEST-MD5 callback: setting password for client: root (auth:SIMPLE)
2020-12-03 07:19:54,772 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(328)) - SASL server DIGEST-MD5 callback: setting canonicalized client ID: root
2020-12-03 07:19:54,772 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:buildSaslResponse(2129)) - Will send SUCCESS token of size 40 from saslServer.
2020-12-03 07:19:54,772 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2000)) - SASL server context established. Negotiated QoP is auth
2020-12-03 07:19:54,772 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2005)) - SASL server successfully authenticated client: root (auth:SIMPLE)
2020-12-03 07:19:54,772 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:saslProcess(2008)) - Auth successful for root (auth:SIMPLE)
2020-12-03 07:19:54,773 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50152
2020-12-03 07:19:54,773 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50152 Wrote 64 bytes.
2020-12-03 07:19:54,773 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(837)) - Negotiated QOP is :auth
2020-12-03 07:19:54,774 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1074)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: starting, having connections 1
2020-12-03 07:19:54,776 [IPC Parameter Sending Thread #0] DEBUG ipc.Client (Client.java:run(1137)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 sending #98 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength
2020-12-03 07:19:54,776 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-3
2020-12-03 07:19:54,778 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:authorizeConnection(2750)) - Successfully authorized userInfo {
}
protocol: "org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol"

2020-12-03 07:19:54,779 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #98
2020-12-03 07:19:54,779 [IPC Server handler 2 on default port 36744] DEBUG ipc.Server (Server.java:run(2902)) - IPC Server handler 2 on default port 36744: Call#98 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50152 for RpcKind RPC_PROTOCOL_BUFFER
2020-12-03 07:19:54,779 [IPC Server handler 2 on default port 36744] INFO  ipc.Server (ProtobufRpcEngine.java:call(505)) - Call: connectionProtocolName=org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol, method=getReplicaVisibleLength
2020-12-03 07:19:54,780 [IPC Server handler 2 on default port 36744] INFO  block.TestBlockToken (TestBlockToken.java:answer(151)) - Got: block_token_identifier (expiryDate=1606980111387, keyId=57518194, userId=root, blockPoolId=-10, blockId=-108, access modes=[READ, WRITE, COPY, REPLACE], storageTypes= [DISK], storageIds= [])
2020-12-03 07:19:54,780 [IPC Server handler 2 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1615)) - IPC Server handler 2 on default port 36744: responding to Call#98 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50152
2020-12-03 07:19:54,781 [IPC Server handler 2 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1634)) - IPC Server handler 2 on default port 36744: responding to Call#98 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50152 Wrote 43 bytes.
2020-12-03 07:19:54,781 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:receiveRpcResponse(1191)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 got value #98
2020-12-03 07:19:54,781 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:close(1283)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: closed
2020-12-03 07:19:54,781 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1092)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: stopped, remaining connections 0
2020-12-03 07:19:54,781 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:close(3738)) - Socket Reader #1 for port 0: disconnecting client 127.0.0.1:50152. Number of active connections: 0
2020-12-03 07:19:54,781 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(97)) - stopping client from cache: org.apache.hadoop.ipc.Client@71812481
2020-12-03 07:19:54,782 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(103)) - removing client from cache: org.apache.hadoop.ipc.Client@71812481
2020-12-03 07:19:54,782 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(110)) - stopping actual client because no more references remain: org.apache.hadoop.ipc.Client@71812481
2020-12-03 07:19:54,782 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:stop(1340)) - Stopping client
2020-12-03 07:19:54,783 [Listener at 0.0.0.0/36744] INFO  block.TestBlockToken (TestBlockToken.java:testBlockTokenRpcLeak(407)) - Num open fds:163
2020-12-03 07:19:54,784 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:getClient(63)) - getting client out of cache: org.apache.hadoop.ipc.Client@21a21c64
2020-12-03 07:19:54,784 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:<init>(497)) - The ping interval is 60000 ms.
2020-12-03 07:19:54,784 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(795)) - Connecting to /127.0.0.1:36744
2020-12-03 07:19:54,785 [IPC Server listener on 0] DEBUG ipc.Server (Server.java:register(3727)) - Server connection from 127.0.0.1:50154; # active connections: 1; # queued calls: 0
2020-12-03 07:19:54,785 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: NEGOTIATE

2020-12-03 07:19:54,786 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:54,786 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:create(175)) - Created SASL server with mechanism = DIGEST-MD5
2020-12-03 07:19:54,786 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50154
2020-12-03 07:19:54,786 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50154 Wrote 194 bytes.
2020-12-03 07:19:54,786 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:getServerToken(268)) - Get token info proto:interface org.apache.hadoop.hdfs.protocolPB.ClientDatanodeProtocolPB info:@org.apache.hadoop.security.token.TokenInfo(value=class org.apache.hadoop.hdfs.security.token.block.BlockTokenSelector)
2020-12-03 07:19:54,787 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:createSaslClient(251)) - Creating SASL DIGEST-MD5(TOKEN)  client to authenticate to service at default
2020-12-03 07:19:54,787 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:selectSaslClient(177)) - Use TOKEN authentication for protocol ClientDatanodeProtocolPB
2020-12-03 07:19:54,787 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(678)) - SASL client callback: setting username: CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=
2020-12-03 07:19:54,788 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(683)) - SASL client callback: setting userPassword
2020-12-03 07:19:54,788 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(688)) - SASL client callback: setting realm: default
2020-12-03 07:19:54,788 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: INITIATE
token: "charset=utf-8,username=\"CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=\",realm=\"default\",nonce=\"8nJaM6gRePTI3k4JviaB2a5tuhi6ofG1gx2UpnQc\",nc=00000001,cnonce=\"m3wdpHYF8rQQhzxa/5d/QdTN/Y81AjlldMfDw70l\",digest-uri=\"/default\",maxbuf=65536,response=368bcff5cc79a0a3b36f57a273aeb2f2,qop=auth"
auths {
  method: "TOKEN"
  mechanism: "DIGEST-MD5"
  protocol: ""
  serverId: "default"
}

2020-12-03 07:19:54,789 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:54,789 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processSaslToken(2112)) - Have read input token of size 298 for processing by saslServer.evaluateResponse()
2020-12-03 07:19:54,790 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(310)) - SASL server DIGEST-MD5 callback: setting password for client: root (auth:SIMPLE)
2020-12-03 07:19:54,790 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(328)) - SASL server DIGEST-MD5 callback: setting canonicalized client ID: root
2020-12-03 07:19:54,790 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:buildSaslResponse(2129)) - Will send SUCCESS token of size 40 from saslServer.
2020-12-03 07:19:54,790 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2000)) - SASL server context established. Negotiated QoP is auth
2020-12-03 07:19:54,790 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2005)) - SASL server successfully authenticated client: root (auth:SIMPLE)
2020-12-03 07:19:54,790 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:saslProcess(2008)) - Auth successful for root (auth:SIMPLE)
2020-12-03 07:19:54,790 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50154
2020-12-03 07:19:54,791 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50154 Wrote 64 bytes.
2020-12-03 07:19:54,791 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(837)) - Negotiated QOP is :auth
2020-12-03 07:19:54,792 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1074)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: starting, having connections 1
2020-12-03 07:19:54,792 [IPC Parameter Sending Thread #0] DEBUG ipc.Client (Client.java:run(1137)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 sending #99 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength
2020-12-03 07:19:54,793 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-3
2020-12-03 07:19:54,793 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:authorizeConnection(2750)) - Successfully authorized userInfo {
}
protocol: "org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol"

2020-12-03 07:19:54,793 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #99
2020-12-03 07:19:54,794 [IPC Server handler 4 on default port 36744] DEBUG ipc.Server (Server.java:run(2902)) - IPC Server handler 4 on default port 36744: Call#99 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50154 for RpcKind RPC_PROTOCOL_BUFFER
2020-12-03 07:19:54,794 [IPC Server handler 4 on default port 36744] INFO  ipc.Server (ProtobufRpcEngine.java:call(505)) - Call: connectionProtocolName=org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol, method=getReplicaVisibleLength
2020-12-03 07:19:54,794 [IPC Server handler 4 on default port 36744] INFO  block.TestBlockToken (TestBlockToken.java:answer(151)) - Got: block_token_identifier (expiryDate=1606980111387, keyId=57518194, userId=root, blockPoolId=-10, blockId=-108, access modes=[READ, WRITE, COPY, REPLACE], storageTypes= [DISK], storageIds= [])
2020-12-03 07:19:54,795 [IPC Server handler 4 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1615)) - IPC Server handler 4 on default port 36744: responding to Call#99 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50154
2020-12-03 07:19:54,795 [IPC Server handler 4 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1634)) - IPC Server handler 4 on default port 36744: responding to Call#99 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50154 Wrote 43 bytes.
2020-12-03 07:19:54,795 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:receiveRpcResponse(1191)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 got value #99
2020-12-03 07:19:54,795 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:close(1283)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: closed
2020-12-03 07:19:54,795 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:close(3738)) - Socket Reader #1 for port 0: disconnecting client 127.0.0.1:50154. Number of active connections: 0
2020-12-03 07:19:54,795 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(97)) - stopping client from cache: org.apache.hadoop.ipc.Client@21a21c64
2020-12-03 07:19:54,796 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(103)) - removing client from cache: org.apache.hadoop.ipc.Client@21a21c64
2020-12-03 07:19:54,795 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1092)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: stopped, remaining connections 0
2020-12-03 07:19:54,796 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(110)) - stopping actual client because no more references remain: org.apache.hadoop.ipc.Client@21a21c64
2020-12-03 07:19:54,796 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:stop(1340)) - Stopping client
2020-12-03 07:19:54,796 [Listener at 0.0.0.0/36744] INFO  block.TestBlockToken (TestBlockToken.java:testBlockTokenRpcLeak(407)) - Num open fds:163
2020-12-03 07:19:54,797 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:getClient(63)) - getting client out of cache: org.apache.hadoop.ipc.Client@40238dd0
2020-12-03 07:19:54,798 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:<init>(497)) - The ping interval is 60000 ms.
2020-12-03 07:19:54,798 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(795)) - Connecting to /127.0.0.1:36744
2020-12-03 07:19:54,799 [IPC Server listener on 0] DEBUG ipc.Server (Server.java:register(3727)) - Server connection from 127.0.0.1:50156; # active connections: 1; # queued calls: 0
2020-12-03 07:19:54,799 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: NEGOTIATE

2020-12-03 07:19:54,799 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:54,799 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:create(175)) - Created SASL server with mechanism = DIGEST-MD5
2020-12-03 07:19:54,799 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50156
2020-12-03 07:19:54,800 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50156 Wrote 194 bytes.
2020-12-03 07:19:54,800 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:getServerToken(268)) - Get token info proto:interface org.apache.hadoop.hdfs.protocolPB.ClientDatanodeProtocolPB info:@org.apache.hadoop.security.token.TokenInfo(value=class org.apache.hadoop.hdfs.security.token.block.BlockTokenSelector)
2020-12-03 07:19:54,800 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:createSaslClient(251)) - Creating SASL DIGEST-MD5(TOKEN)  client to authenticate to service at default
2020-12-03 07:19:54,800 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:selectSaslClient(177)) - Use TOKEN authentication for protocol ClientDatanodeProtocolPB
2020-12-03 07:19:54,800 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(678)) - SASL client callback: setting username: CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=
2020-12-03 07:19:54,801 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(683)) - SASL client callback: setting userPassword
2020-12-03 07:19:54,801 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(688)) - SASL client callback: setting realm: default
2020-12-03 07:19:54,801 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: INITIATE
token: "charset=utf-8,username=\"CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=\",realm=\"default\",nonce=\"3FiNCBrtJty3H49y4H8emVcT+2GVoODtRgxtSNoT\",nc=00000001,cnonce=\"bPU7hCG4vwluiDnCLgNy32q61aRjPSxL1c2IaJUT\",digest-uri=\"/default\",maxbuf=65536,response=c25e26da8d0324a659fa8d5f7cd2209a,qop=auth"
auths {
  method: "TOKEN"
  mechanism: "DIGEST-MD5"
  protocol: ""
  serverId: "default"
}

2020-12-03 07:19:54,801 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:54,802 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processSaslToken(2112)) - Have read input token of size 298 for processing by saslServer.evaluateResponse()
2020-12-03 07:19:54,802 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(310)) - SASL server DIGEST-MD5 callback: setting password for client: root (auth:SIMPLE)
2020-12-03 07:19:54,803 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(328)) - SASL server DIGEST-MD5 callback: setting canonicalized client ID: root
2020-12-03 07:19:54,803 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:buildSaslResponse(2129)) - Will send SUCCESS token of size 40 from saslServer.
2020-12-03 07:19:54,803 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2000)) - SASL server context established. Negotiated QoP is auth
2020-12-03 07:19:54,803 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2005)) - SASL server successfully authenticated client: root (auth:SIMPLE)
2020-12-03 07:19:54,803 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:saslProcess(2008)) - Auth successful for root (auth:SIMPLE)
2020-12-03 07:19:54,803 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50156
2020-12-03 07:19:54,804 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50156 Wrote 64 bytes.
2020-12-03 07:19:54,804 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(837)) - Negotiated QOP is :auth
2020-12-03 07:19:54,805 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1074)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: starting, having connections 1
2020-12-03 07:19:54,805 [IPC Parameter Sending Thread #0] DEBUG ipc.Client (Client.java:run(1137)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 sending #100 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength
2020-12-03 07:19:54,812 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-3
2020-12-03 07:19:54,812 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:authorizeConnection(2750)) - Successfully authorized userInfo {
}
protocol: "org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol"

2020-12-03 07:19:54,812 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #100
2020-12-03 07:19:54,813 [IPC Server handler 0 on default port 36744] DEBUG ipc.Server (Server.java:run(2902)) - IPC Server handler 0 on default port 36744: Call#100 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50156 for RpcKind RPC_PROTOCOL_BUFFER
2020-12-03 07:19:54,813 [IPC Server handler 0 on default port 36744] INFO  ipc.Server (ProtobufRpcEngine.java:call(505)) - Call: connectionProtocolName=org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol, method=getReplicaVisibleLength
2020-12-03 07:19:54,813 [IPC Server handler 0 on default port 36744] INFO  block.TestBlockToken (TestBlockToken.java:answer(151)) - Got: block_token_identifier (expiryDate=1606980111387, keyId=57518194, userId=root, blockPoolId=-10, blockId=-108, access modes=[READ, WRITE, COPY, REPLACE], storageTypes= [DISK], storageIds= [])
2020-12-03 07:19:54,814 [IPC Server handler 0 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1615)) - IPC Server handler 0 on default port 36744: responding to Call#100 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50156
2020-12-03 07:19:54,814 [IPC Server handler 0 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1634)) - IPC Server handler 0 on default port 36744: responding to Call#100 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50156 Wrote 43 bytes.
2020-12-03 07:19:54,814 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:receiveRpcResponse(1191)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 got value #100
2020-12-03 07:19:54,815 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(97)) - stopping client from cache: org.apache.hadoop.ipc.Client@40238dd0
2020-12-03 07:19:54,815 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:close(3738)) - Socket Reader #1 for port 0: disconnecting client 127.0.0.1:50156. Number of active connections: 0
2020-12-03 07:19:54,815 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:close(1283)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: closed
2020-12-03 07:19:54,815 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1092)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: stopped, remaining connections 0
2020-12-03 07:19:54,815 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(103)) - removing client from cache: org.apache.hadoop.ipc.Client@40238dd0
2020-12-03 07:19:54,815 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(110)) - stopping actual client because no more references remain: org.apache.hadoop.ipc.Client@40238dd0
2020-12-03 07:19:54,816 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:stop(1340)) - Stopping client
2020-12-03 07:19:54,816 [Listener at 0.0.0.0/36744] INFO  block.TestBlockToken (TestBlockToken.java:testBlockTokenRpcLeak(407)) - Num open fds:163
2020-12-03 07:19:54,817 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:getClient(63)) - getting client out of cache: org.apache.hadoop.ipc.Client@5a18cd76
2020-12-03 07:19:54,817 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:<init>(497)) - The ping interval is 60000 ms.
2020-12-03 07:19:54,817 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(795)) - Connecting to /127.0.0.1:36744
2020-12-03 07:19:54,818 [IPC Server listener on 0] DEBUG ipc.Server (Server.java:register(3727)) - Server connection from 127.0.0.1:50158; # active connections: 1; # queued calls: 0
2020-12-03 07:19:54,818 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: NEGOTIATE

2020-12-03 07:19:54,820 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:54,820 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:create(175)) - Created SASL server with mechanism = DIGEST-MD5
2020-12-03 07:19:54,820 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50158
2020-12-03 07:19:54,821 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50158 Wrote 194 bytes.
2020-12-03 07:19:54,821 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:getServerToken(268)) - Get token info proto:interface org.apache.hadoop.hdfs.protocolPB.ClientDatanodeProtocolPB info:@org.apache.hadoop.security.token.TokenInfo(value=class org.apache.hadoop.hdfs.security.token.block.BlockTokenSelector)
2020-12-03 07:19:54,821 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:createSaslClient(251)) - Creating SASL DIGEST-MD5(TOKEN)  client to authenticate to service at default
2020-12-03 07:19:54,822 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:selectSaslClient(177)) - Use TOKEN authentication for protocol ClientDatanodeProtocolPB
2020-12-03 07:19:54,822 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(678)) - SASL client callback: setting username: CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=
2020-12-03 07:19:54,822 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(683)) - SASL client callback: setting userPassword
2020-12-03 07:19:54,823 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(688)) - SASL client callback: setting realm: default
2020-12-03 07:19:54,823 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: INITIATE
token: "charset=utf-8,username=\"CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=\",realm=\"default\",nonce=\"QcaWG37WbmUQk0q5TF3nxF/lUl8NQJHSulxIpyxS\",nc=00000001,cnonce=\"6aKP11TsB311VVp53HNc9a+41uKQIN6psq7iICr3\",digest-uri=\"/default\",maxbuf=65536,response=b147c8b3ed1071421be5540181915feb,qop=auth"
auths {
  method: "TOKEN"
  mechanism: "DIGEST-MD5"
  protocol: ""
  serverId: "default"
}

2020-12-03 07:19:54,824 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:54,824 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processSaslToken(2112)) - Have read input token of size 298 for processing by saslServer.evaluateResponse()
2020-12-03 07:19:54,824 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(310)) - SASL server DIGEST-MD5 callback: setting password for client: root (auth:SIMPLE)
2020-12-03 07:19:54,825 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(328)) - SASL server DIGEST-MD5 callback: setting canonicalized client ID: root
2020-12-03 07:19:54,825 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:buildSaslResponse(2129)) - Will send SUCCESS token of size 40 from saslServer.
2020-12-03 07:19:54,825 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2000)) - SASL server context established. Negotiated QoP is auth
2020-12-03 07:19:54,825 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2005)) - SASL server successfully authenticated client: root (auth:SIMPLE)
2020-12-03 07:19:54,825 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:saslProcess(2008)) - Auth successful for root (auth:SIMPLE)
2020-12-03 07:19:54,826 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50158
2020-12-03 07:19:54,826 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50158 Wrote 64 bytes.
2020-12-03 07:19:54,826 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(837)) - Negotiated QOP is :auth
2020-12-03 07:19:54,827 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1074)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: starting, having connections 1
2020-12-03 07:19:54,827 [IPC Parameter Sending Thread #0] DEBUG ipc.Client (Client.java:run(1137)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 sending #101 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength
2020-12-03 07:19:54,827 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-3
2020-12-03 07:19:54,827 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:authorizeConnection(2750)) - Successfully authorized userInfo {
}
protocol: "org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol"

2020-12-03 07:19:54,828 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #101
2020-12-03 07:19:54,829 [IPC Server handler 1 on default port 36744] DEBUG ipc.Server (Server.java:run(2902)) - IPC Server handler 1 on default port 36744: Call#101 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50158 for RpcKind RPC_PROTOCOL_BUFFER
2020-12-03 07:19:54,829 [IPC Server handler 1 on default port 36744] INFO  ipc.Server (ProtobufRpcEngine.java:call(505)) - Call: connectionProtocolName=org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol, method=getReplicaVisibleLength
2020-12-03 07:19:54,830 [IPC Server handler 1 on default port 36744] INFO  block.TestBlockToken (TestBlockToken.java:answer(151)) - Got: block_token_identifier (expiryDate=1606980111387, keyId=57518194, userId=root, blockPoolId=-10, blockId=-108, access modes=[READ, WRITE, COPY, REPLACE], storageTypes= [DISK], storageIds= [])
2020-12-03 07:19:54,830 [IPC Server handler 1 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1615)) - IPC Server handler 1 on default port 36744: responding to Call#101 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50158
2020-12-03 07:19:54,830 [IPC Server handler 1 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1634)) - IPC Server handler 1 on default port 36744: responding to Call#101 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50158 Wrote 43 bytes.
2020-12-03 07:19:54,830 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:receiveRpcResponse(1191)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 got value #101
2020-12-03 07:19:54,831 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(97)) - stopping client from cache: org.apache.hadoop.ipc.Client@5a18cd76
2020-12-03 07:19:54,831 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(103)) - removing client from cache: org.apache.hadoop.ipc.Client@5a18cd76
2020-12-03 07:19:54,831 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(110)) - stopping actual client because no more references remain: org.apache.hadoop.ipc.Client@5a18cd76
2020-12-03 07:19:54,831 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:stop(1340)) - Stopping client
2020-12-03 07:19:54,831 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:close(3738)) - Socket Reader #1 for port 0: disconnecting client 127.0.0.1:50158. Number of active connections: 0
2020-12-03 07:19:54,831 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:close(1283)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: closed
2020-12-03 07:19:54,832 [Listener at 0.0.0.0/36744] INFO  block.TestBlockToken (TestBlockToken.java:testBlockTokenRpcLeak(407)) - Num open fds:164
2020-12-03 07:19:54,833 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:getClient(63)) - getting client out of cache: org.apache.hadoop.ipc.Client@294a6b8e
2020-12-03 07:19:54,834 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:<init>(497)) - The ping interval is 60000 ms.
2020-12-03 07:19:54,834 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(795)) - Connecting to /127.0.0.1:36744
2020-12-03 07:19:54,835 [IPC Server listener on 0] DEBUG ipc.Server (Server.java:register(3727)) - Server connection from 127.0.0.1:50160; # active connections: 1; # queued calls: 0
2020-12-03 07:19:54,835 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: NEGOTIATE

2020-12-03 07:19:54,832 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1092)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: stopped, remaining connections 0
2020-12-03 07:19:54,835 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:54,835 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:create(175)) - Created SASL server with mechanism = DIGEST-MD5
2020-12-03 07:19:54,836 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50160
2020-12-03 07:19:54,836 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50160 Wrote 194 bytes.
2020-12-03 07:19:54,836 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:getServerToken(268)) - Get token info proto:interface org.apache.hadoop.hdfs.protocolPB.ClientDatanodeProtocolPB info:@org.apache.hadoop.security.token.TokenInfo(value=class org.apache.hadoop.hdfs.security.token.block.BlockTokenSelector)
2020-12-03 07:19:54,836 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:createSaslClient(251)) - Creating SASL DIGEST-MD5(TOKEN)  client to authenticate to service at default
2020-12-03 07:19:54,837 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:selectSaslClient(177)) - Use TOKEN authentication for protocol ClientDatanodeProtocolPB
2020-12-03 07:19:54,837 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(678)) - SASL client callback: setting username: CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=
2020-12-03 07:19:54,837 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(683)) - SASL client callback: setting userPassword
2020-12-03 07:19:54,838 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(688)) - SASL client callback: setting realm: default
2020-12-03 07:19:54,838 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: INITIATE
token: "charset=utf-8,username=\"CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=\",realm=\"default\",nonce=\"lZnZahuGcjTHGWfW6tt9Kj3k7P/dEzjC7IstL43I\",nc=00000001,cnonce=\"T+bQAe4MjdAff2BoccNpP8G5w7fYqxXLmUXurutv\",digest-uri=\"/default\",maxbuf=65536,response=e2de95cba06fdfe4f0acdf9514ae7d5e,qop=auth"
auths {
  method: "TOKEN"
  mechanism: "DIGEST-MD5"
  protocol: ""
  serverId: "default"
}

2020-12-03 07:19:54,839 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:54,839 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processSaslToken(2112)) - Have read input token of size 298 for processing by saslServer.evaluateResponse()
2020-12-03 07:19:54,840 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(310)) - SASL server DIGEST-MD5 callback: setting password for client: root (auth:SIMPLE)
2020-12-03 07:19:54,840 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(328)) - SASL server DIGEST-MD5 callback: setting canonicalized client ID: root
2020-12-03 07:19:54,840 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:buildSaslResponse(2129)) - Will send SUCCESS token of size 40 from saslServer.
2020-12-03 07:19:54,841 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2000)) - SASL server context established. Negotiated QoP is auth
2020-12-03 07:19:54,841 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2005)) - SASL server successfully authenticated client: root (auth:SIMPLE)
2020-12-03 07:19:54,841 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:saslProcess(2008)) - Auth successful for root (auth:SIMPLE)
2020-12-03 07:19:54,841 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50160
2020-12-03 07:19:54,841 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50160 Wrote 64 bytes.
2020-12-03 07:19:54,841 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(837)) - Negotiated QOP is :auth
2020-12-03 07:19:54,842 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1074)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: starting, having connections 1
2020-12-03 07:19:54,842 [IPC Parameter Sending Thread #0] DEBUG ipc.Client (Client.java:run(1137)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 sending #102 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength
2020-12-03 07:19:54,847 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-3
2020-12-03 07:19:54,847 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:authorizeConnection(2750)) - Successfully authorized userInfo {
}
protocol: "org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol"

2020-12-03 07:19:54,847 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #102
2020-12-03 07:19:54,847 [IPC Server handler 3 on default port 36744] DEBUG ipc.Server (Server.java:run(2902)) - IPC Server handler 3 on default port 36744: Call#102 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50160 for RpcKind RPC_PROTOCOL_BUFFER
2020-12-03 07:19:54,848 [IPC Server handler 3 on default port 36744] INFO  ipc.Server (ProtobufRpcEngine.java:call(505)) - Call: connectionProtocolName=org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol, method=getReplicaVisibleLength
2020-12-03 07:19:54,848 [IPC Server handler 3 on default port 36744] INFO  block.TestBlockToken (TestBlockToken.java:answer(151)) - Got: block_token_identifier (expiryDate=1606980111387, keyId=57518194, userId=root, blockPoolId=-10, blockId=-108, access modes=[READ, WRITE, COPY, REPLACE], storageTypes= [DISK], storageIds= [])
2020-12-03 07:19:54,848 [IPC Server handler 3 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1615)) - IPC Server handler 3 on default port 36744: responding to Call#102 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50160
2020-12-03 07:19:54,849 [IPC Server handler 3 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1634)) - IPC Server handler 3 on default port 36744: responding to Call#102 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50160 Wrote 43 bytes.
2020-12-03 07:19:54,849 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:receiveRpcResponse(1191)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 got value #102
2020-12-03 07:19:54,849 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:close(1283)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: closed
2020-12-03 07:19:54,849 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1092)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: stopped, remaining connections 0
2020-12-03 07:19:54,849 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(97)) - stopping client from cache: org.apache.hadoop.ipc.Client@294a6b8e
2020-12-03 07:19:54,849 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:close(3738)) - Socket Reader #1 for port 0: disconnecting client 127.0.0.1:50160. Number of active connections: 0
2020-12-03 07:19:54,849 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(103)) - removing client from cache: org.apache.hadoop.ipc.Client@294a6b8e
2020-12-03 07:19:54,850 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(110)) - stopping actual client because no more references remain: org.apache.hadoop.ipc.Client@294a6b8e
2020-12-03 07:19:54,850 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:stop(1340)) - Stopping client
2020-12-03 07:19:54,851 [Listener at 0.0.0.0/36744] INFO  block.TestBlockToken (TestBlockToken.java:testBlockTokenRpcLeak(407)) - Num open fds:163
2020-12-03 07:19:54,852 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:getClient(63)) - getting client out of cache: org.apache.hadoop.ipc.Client@78383390
2020-12-03 07:19:54,852 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:<init>(497)) - The ping interval is 60000 ms.
2020-12-03 07:19:54,853 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(795)) - Connecting to /127.0.0.1:36744
2020-12-03 07:19:54,853 [IPC Server listener on 0] DEBUG ipc.Server (Server.java:register(3727)) - Server connection from 127.0.0.1:50162; # active connections: 1; # queued calls: 0
2020-12-03 07:19:54,854 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: NEGOTIATE

2020-12-03 07:19:54,854 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:54,854 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:create(175)) - Created SASL server with mechanism = DIGEST-MD5
2020-12-03 07:19:54,855 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50162
2020-12-03 07:19:54,855 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50162 Wrote 194 bytes.
2020-12-03 07:19:54,855 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:getServerToken(268)) - Get token info proto:interface org.apache.hadoop.hdfs.protocolPB.ClientDatanodeProtocolPB info:@org.apache.hadoop.security.token.TokenInfo(value=class org.apache.hadoop.hdfs.security.token.block.BlockTokenSelector)
2020-12-03 07:19:54,855 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:createSaslClient(251)) - Creating SASL DIGEST-MD5(TOKEN)  client to authenticate to service at default
2020-12-03 07:19:54,856 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:selectSaslClient(177)) - Use TOKEN authentication for protocol ClientDatanodeProtocolPB
2020-12-03 07:19:54,856 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(678)) - SASL client callback: setting username: CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=
2020-12-03 07:19:54,856 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(683)) - SASL client callback: setting userPassword
2020-12-03 07:19:54,857 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(688)) - SASL client callback: setting realm: default
2020-12-03 07:19:54,857 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: INITIATE
token: "charset=utf-8,username=\"CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=\",realm=\"default\",nonce=\"8IqDI0F0WFmfRVLIjuD/zOu164tNa3pa0caI+Q1s\",nc=00000001,cnonce=\"N7RYYdiIhmR6fSi6t9/5UDK+r2K8kSoWIJyYcFqA\",digest-uri=\"/default\",maxbuf=65536,response=42d60ba2d2611a77d155efdc2dfa383b,qop=auth"
auths {
  method: "TOKEN"
  mechanism: "DIGEST-MD5"
  protocol: ""
  serverId: "default"
}

2020-12-03 07:19:54,857 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:54,858 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processSaslToken(2112)) - Have read input token of size 298 for processing by saslServer.evaluateResponse()
2020-12-03 07:19:54,858 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(310)) - SASL server DIGEST-MD5 callback: setting password for client: root (auth:SIMPLE)
2020-12-03 07:19:54,859 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(328)) - SASL server DIGEST-MD5 callback: setting canonicalized client ID: root
2020-12-03 07:19:54,859 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:buildSaslResponse(2129)) - Will send SUCCESS token of size 40 from saslServer.
2020-12-03 07:19:54,859 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2000)) - SASL server context established. Negotiated QoP is auth
2020-12-03 07:19:54,859 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2005)) - SASL server successfully authenticated client: root (auth:SIMPLE)
2020-12-03 07:19:54,859 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:saslProcess(2008)) - Auth successful for root (auth:SIMPLE)
2020-12-03 07:19:54,860 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50162
2020-12-03 07:19:54,860 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50162 Wrote 64 bytes.
2020-12-03 07:19:54,860 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(837)) - Negotiated QOP is :auth
2020-12-03 07:19:54,862 [IPC Parameter Sending Thread #0] DEBUG ipc.Client (Client.java:run(1137)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 sending #103 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength
2020-12-03 07:19:54,862 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1074)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: starting, having connections 1
2020-12-03 07:19:54,862 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-3
2020-12-03 07:19:54,863 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:authorizeConnection(2750)) - Successfully authorized userInfo {
}
protocol: "org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol"

2020-12-03 07:19:54,863 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #103
2020-12-03 07:19:54,864 [IPC Server handler 2 on default port 36744] DEBUG ipc.Server (Server.java:run(2902)) - IPC Server handler 2 on default port 36744: Call#103 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50162 for RpcKind RPC_PROTOCOL_BUFFER
2020-12-03 07:19:54,864 [IPC Server handler 2 on default port 36744] INFO  ipc.Server (ProtobufRpcEngine.java:call(505)) - Call: connectionProtocolName=org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol, method=getReplicaVisibleLength
2020-12-03 07:19:54,864 [IPC Server handler 2 on default port 36744] INFO  block.TestBlockToken (TestBlockToken.java:answer(151)) - Got: block_token_identifier (expiryDate=1606980111387, keyId=57518194, userId=root, blockPoolId=-10, blockId=-108, access modes=[READ, WRITE, COPY, REPLACE], storageTypes= [DISK], storageIds= [])
2020-12-03 07:19:54,865 [IPC Server handler 2 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1615)) - IPC Server handler 2 on default port 36744: responding to Call#103 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50162
2020-12-03 07:19:54,865 [IPC Server handler 2 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1634)) - IPC Server handler 2 on default port 36744: responding to Call#103 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50162 Wrote 43 bytes.
2020-12-03 07:19:54,866 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:receiveRpcResponse(1191)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 got value #103
2020-12-03 07:19:54,866 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:close(1283)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: closed
2020-12-03 07:19:54,866 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:close(3738)) - Socket Reader #1 for port 0: disconnecting client 127.0.0.1:50162. Number of active connections: 0
2020-12-03 07:19:54,866 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(97)) - stopping client from cache: org.apache.hadoop.ipc.Client@78383390
2020-12-03 07:19:54,866 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(103)) - removing client from cache: org.apache.hadoop.ipc.Client@78383390
2020-12-03 07:19:54,867 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(110)) - stopping actual client because no more references remain: org.apache.hadoop.ipc.Client@78383390
2020-12-03 07:19:54,867 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:stop(1340)) - Stopping client
2020-12-03 07:19:54,866 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1092)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: stopped, remaining connections 0
2020-12-03 07:19:54,868 [Listener at 0.0.0.0/36744] INFO  block.TestBlockToken (TestBlockToken.java:testBlockTokenRpcLeak(407)) - Num open fds:163
2020-12-03 07:19:54,869 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:getClient(63)) - getting client out of cache: org.apache.hadoop.ipc.Client@176b3f44
2020-12-03 07:19:54,869 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:<init>(497)) - The ping interval is 60000 ms.
2020-12-03 07:19:54,870 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(795)) - Connecting to /127.0.0.1:36744
2020-12-03 07:19:54,870 [IPC Server listener on 0] DEBUG ipc.Server (Server.java:register(3727)) - Server connection from 127.0.0.1:50164; # active connections: 1; # queued calls: 0
2020-12-03 07:19:54,870 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: NEGOTIATE

2020-12-03 07:19:54,871 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:54,871 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:create(175)) - Created SASL server with mechanism = DIGEST-MD5
2020-12-03 07:19:54,871 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50164
2020-12-03 07:19:54,872 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50164 Wrote 194 bytes.
2020-12-03 07:19:54,872 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:getServerToken(268)) - Get token info proto:interface org.apache.hadoop.hdfs.protocolPB.ClientDatanodeProtocolPB info:@org.apache.hadoop.security.token.TokenInfo(value=class org.apache.hadoop.hdfs.security.token.block.BlockTokenSelector)
2020-12-03 07:19:54,872 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:createSaslClient(251)) - Creating SASL DIGEST-MD5(TOKEN)  client to authenticate to service at default
2020-12-03 07:19:54,873 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:selectSaslClient(177)) - Use TOKEN authentication for protocol ClientDatanodeProtocolPB
2020-12-03 07:19:54,873 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(678)) - SASL client callback: setting username: CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=
2020-12-03 07:19:54,873 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(683)) - SASL client callback: setting userPassword
2020-12-03 07:19:54,873 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:handle(688)) - SASL client callback: setting realm: default
2020-12-03 07:19:54,874 [Listener at 0.0.0.0/36744] DEBUG security.SaslRpcClient (SaslRpcClient.java:sendSaslMessage(451)) - Sending sasl message state: INITIATE
token: "charset=utf-8,username=\"CJuY6rviLhDy0LYbGgRyb290IgMtMTAolP//////////ATABMAIwAzAEOAE=\",realm=\"default\",nonce=\"e6RG0KQ6fsxIwTOqNFaUYG7vgX5cIJ6XsNgmDcin\",nc=00000001,cnonce=\"VvJZMVNkiMdFMqtugQJNp4QsfbDm5XsJO8dwDAC5\",digest-uri=\"/default\",maxbuf=65536,response=967a7697fcf804b6b85861dd5480f922,qop=auth"
auths {
  method: "TOKEN"
  mechanism: "DIGEST-MD5"
  protocol: ""
  serverId: "default"
}

2020-12-03 07:19:54,877 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-33
2020-12-03 07:19:54,877 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processSaslToken(2112)) - Have read input token of size 298 for processing by saslServer.evaluateResponse()
2020-12-03 07:19:54,878 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(310)) - SASL server DIGEST-MD5 callback: setting password for client: root (auth:SIMPLE)
2020-12-03 07:19:54,878 [Socket Reader #1 for port 0] DEBUG security.SaslRpcServer (SaslRpcServer.java:handle(328)) - SASL server DIGEST-MD5 callback: setting canonicalized client ID: root
2020-12-03 07:19:54,878 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:buildSaslResponse(2129)) - Will send SUCCESS token of size 40 from saslServer.
2020-12-03 07:19:54,879 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2000)) - SASL server context established. Negotiated QoP is auth
2020-12-03 07:19:54,879 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:saslProcess(2005)) - SASL server successfully authenticated client: root (auth:SIMPLE)
2020-12-03 07:19:54,879 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:saslProcess(2008)) - Auth successful for root (auth:SIMPLE)
2020-12-03 07:19:54,879 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1615)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50164
2020-12-03 07:19:54,879 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processResponse(1634)) - Socket Reader #1 for port 0: responding to Call#-33 Retry#-1 null from 127.0.0.1:50164 Wrote 64 bytes.
2020-12-03 07:19:54,880 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:setupIOstreams(837)) - Negotiated QOP is :auth
2020-12-03 07:19:54,882 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1074)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: starting, having connections 1
2020-12-03 07:19:54,882 [IPC Parameter Sending Thread #0] DEBUG ipc.Client (Client.java:run(1137)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 sending #104 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength
2020-12-03 07:19:54,883 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #-3
2020-12-03 07:19:54,883 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:authorizeConnection(2750)) - Successfully authorized userInfo {
}
protocol: "org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol"

2020-12-03 07:19:54,883 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:processOneRpc(2521)) -  got #104
2020-12-03 07:19:54,884 [IPC Server handler 4 on default port 36744] DEBUG ipc.Server (Server.java:run(2902)) - IPC Server handler 4 on default port 36744: Call#104 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50164 for RpcKind RPC_PROTOCOL_BUFFER
2020-12-03 07:19:54,885 [IPC Server handler 4 on default port 36744] INFO  ipc.Server (ProtobufRpcEngine.java:call(505)) - Call: connectionProtocolName=org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol, method=getReplicaVisibleLength
2020-12-03 07:19:54,885 [IPC Server handler 4 on default port 36744] INFO  block.TestBlockToken (TestBlockToken.java:answer(151)) - Got: block_token_identifier (expiryDate=1606980111387, keyId=57518194, userId=root, blockPoolId=-10, blockId=-108, access modes=[READ, WRITE, COPY, REPLACE], storageTypes= [DISK], storageIds= [])
2020-12-03 07:19:54,886 [IPC Server handler 4 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1615)) - IPC Server handler 4 on default port 36744: responding to Call#104 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50164
2020-12-03 07:19:54,886 [IPC Server handler 4 on default port 36744] DEBUG ipc.Server (Server.java:processResponse(1634)) - IPC Server handler 4 on default port 36744: responding to Call#104 Retry#0 org.apache.hadoop.hdfs.protocol.ClientDatanodeProtocol.getReplicaVisibleLength from 127.0.0.1:50164 Wrote 43 bytes.
2020-12-03 07:19:54,886 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:receiveRpcResponse(1191)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0 got value #104
2020-12-03 07:19:54,886 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(97)) - stopping client from cache: org.apache.hadoop.ipc.Client@176b3f44
2020-12-03 07:19:54,886 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(103)) - removing client from cache: org.apache.hadoop.ipc.Client@176b3f44
2020-12-03 07:19:54,886 [Socket Reader #1 for port 0] DEBUG ipc.Server (Server.java:close(3738)) - Socket Reader #1 for port 0: disconnecting client 127.0.0.1:50164. Number of active connections: 0
2020-12-03 07:19:54,886 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:close(1283)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: closed
2020-12-03 07:19:54,887 [IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0] DEBUG ipc.Client (Client.java:run(1092)) - IPC Client (802243390) connection to /127.0.0.1:36744 from blk_12345_0: stopped, remaining connections 0
2020-12-03 07:19:54,887 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(110)) - stopping actual client because no more references remain: org.apache.hadoop.ipc.Client@176b3f44
2020-12-03 07:19:54,887 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:stop(1340)) - Stopping client
2020-12-03 07:19:54,888 [Listener at 0.0.0.0/36744] INFO  block.TestBlockToken (TestBlockToken.java:testBlockTokenRpcLeak(407)) - Num open fds:163
2020-12-03 07:19:54,888 [Listener at 0.0.0.0/36744] INFO  ipc.Server (Server.java:stop(3359)) - Stopping server on 36744
2020-12-03 07:19:54,888 [IPC Server handler 0 on default port 36744] DEBUG ipc.Server (Server.java:run(2946)) - IPC Server handler 0 on default port 36744: exiting
2020-12-03 07:19:54,888 [IPC Server handler 2 on default port 36744] DEBUG ipc.Server (Server.java:run(2946)) - IPC Server handler 2 on default port 36744: exiting
2020-12-03 07:19:54,888 [IPC Server handler 1 on default port 36744] DEBUG ipc.Server (Server.java:run(2946)) - IPC Server handler 1 on default port 36744: exiting
2020-12-03 07:19:54,889 [IPC Server handler 3 on default port 36744] DEBUG ipc.Server (Server.java:run(2946)) - IPC Server handler 3 on default port 36744: exiting
2020-12-03 07:19:54,889 [IPC Server handler 4 on default port 36744] DEBUG ipc.Server (Server.java:run(2946)) - IPC Server handler 4 on default port 36744: exiting
2020-12-03 07:19:54,889 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1330)) - Stopping IPC Server listener on 0
2020-12-03 07:19:54,889 [IPC Server Responder] DEBUG ipc.Server (Server.java:doRunLoop(1513)) - Checking for old call responses.
2020-12-03 07:19:54,889 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1465)) - Stopping IPC Server Responder
2020-12-03 07:19:54,889 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(97)) - stopping client from cache: org.apache.hadoop.ipc.Client@581ac8a8
2020-12-03 07:19:54,890 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(103)) - removing client from cache: org.apache.hadoop.ipc.Client@581ac8a8
2020-12-03 07:19:54,890 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (ClientCache.java:stopClient(110)) - stopping actual client because no more references remain: org.apache.hadoop.ipc.Client@581ac8a8
2020-12-03 07:19:54,890 [Listener at 0.0.0.0/36744] DEBUG ipc.Client (Client.java:stop(1340)) - Stopping client
msx-rc 0
